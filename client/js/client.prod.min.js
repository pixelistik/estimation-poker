!function(v){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=v();else if("function"==typeof define&&define.amd)define([],v);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=v()}}(function(){return function d(h,c,b){function r(f,x){if(!c[f]){if(!h[f]){var p="function"==typeof require&&require;if(!x&&p)return p(f,!0);if(e)return e(f,!0);throw Error("Cannot find module '"+f+"'");}p=c[f]={exports:{}};h[f][0].call(p.exports,
function(b){var a=h[f][1][b];return r(a?a:b)},p,p.exports,d,h,c,b)}return c[f].exports}for(var e="function"==typeof require&&require,f=0;f<b.length;f++)r(b[f]);return r}({1:[function(d,h,c){h.exports=d("./lib/")},{"./lib/":2}],2:[function(d,h,c){function b(b,e){"object"==typeof b&&(e=b,b=void 0);e=e||{};var a=r(b),c=a.source,z=a.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(m("ignoring socket cache for %s",c),c=f(c,e)):(x[z]||(m("new io instance for %s",c),x[z]=f(c,e)),c=x[z]);return c.socket(a.path)}
var r=d("./url"),e=d("socket.io-parser"),f=d("./manager"),m=d("debug")("socket.io-client");h.exports=c=b;var x=c.managers={};c.protocol=e.protocol;c.connect=b;c.Manager=d("./manager");c.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(d,h,c){function b(a,e){if(!(this instanceof b))return new b(a,e);a&&"object"==typeof a&&(e=a,a=void 0);e=e||{};e.path=e.path||"/socket.io";this.nsps={};this.subs=[];this.opts=e;this.reconnection(!1!==e.reconnection);
this.reconnectionAttempts(e.reconnectionAttempts||Infinity);this.reconnectionDelay(e.reconnectionDelay||1E3);this.reconnectionDelayMax(e.reconnectionDelayMax||5E3);this.timeout(null==e.timeout?2E4:e.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new f.Encoder;this.decoder=new f.Decoder;(this.autoConnect=!1!==e.autoConnect)&&this.open()}d("./url");var r=d("engine.io-client"),e=d("./socket");c=d("component-emitter");
var f=d("socket.io-parser"),m=d("./on"),x=d("component-bind");d("object-component");var p=d("debug")("socket.io-client:manager"),w=d("indexof");h.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};c(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){p("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;p("opening %s",this.uri);var b=this.engine=r(this.uri,this.opts),e=this;this.readyState="opening";this.skipReconnect=!1;var f=m(b,"open",function(){e.onopen();a&&a()}),c=m(b,"error",function(k){p("connect_error");e.cleanup();e.readyState="closed";e.emitAll("connect_error",k);if(a){var g=
Error("Connection error");g.data=k;a(g)}e.maybeReconnectOnOpen()});if(!1!==this._timeout){var d=this._timeout;p("connect attempt will timeout after %d",d);var k=setTimeout(function(){p("connect attempt timed out after %d",d);f.destroy();b.close();b.emit("error","timeout");e.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(k)}})}this.subs.push(f);this.subs.push(c);return this};b.prototype.onopen=function(){p("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(m(a,"data",x(this,"ondata")));this.subs.push(m(this.decoder,"decoded",x(this,"ondecoded")));this.subs.push(m(a,"error",x(this,"onerror")));this.subs.push(m(a,"close",x(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){p("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new e(this,a);this.nsps[a]=b;var z=this;b.on("connect",
function(){~w(z.connected,b)||z.connected.push(b)})}return b};b.prototype.destroy=function(a){a=w(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};b.prototype.packet=function(a){p("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var e=0;e<a.length;e++)b.engine.write(a[e]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){p("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)p("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());p("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var e=setTimeout(function(){a.skipReconnect||(p("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(b){b?(p("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(p("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(e)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(d,h,c){h.exports=function(b,r,e){b.on(r,e);return{destroy:function(){b.removeListener(r,e)}}}},{}],5:[function(d,h,c){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var r=d("socket.io-parser");c=d("component-emitter");var e=d("to-array"),f=d("./on"),m=d("component-bind"),x=d("debug")("socket.io-client:socket"),p=d("has-binary");h.exports=b;var w=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=c.prototype.emit;c(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[f(a,"open",m(this,"onopen")),f(a,"packet",m(this,"onpacket")),f(a,"close",m(this,"onclose"))]}};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};b.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(w.hasOwnProperty(b))return a.apply(this,arguments),this;var z=e(arguments),f=r.EVENT;p(z)&&(f=r.BINARY_EVENT);f={type:f,data:z};"function"==typeof z[z.length-1]&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=z.pop(),f.id=this.ids++);this.connected?this.packet(f):this.sendBuffer.push(f);return this};b.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};b.prototype.onopen=function(){x("transport is open - connecting");"/"!=this.nsp&&this.packet({type:r.CONNECT})};b.prototype.onclose=function(a){x("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(a);break;case r.BINARY_EVENT:this.onevent(a);break;case r.ACK:this.onack(a);break;case r.BINARY_ACK:this.onack(a);
break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(b){var e=b.data||[];x("emitting event %j",e);null!=b.id&&(x("attaching ack callback to event"),e.push(this.ack(b.id)));this.connected?a.apply(this,e):this.receiveBuffer.push(e)};b.prototype.ack=function(a){var b=this,f=!1;return function(){if(!f){f=!0;var c=e(arguments);x("sending ack %j",c);var d=p(c)?r.BINARY_ACK:r.ACK;b.packet({type:d,id:a,data:c})}}};b.prototype.onack=function(a){x("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var b;for(b=0;b<this.receiveBuffer.length;b++)a.apply(this,this.receiveBuffer[b]);this.receiveBuffer=[];for(b=0;b<this.sendBuffer.length;b++)this.packet(this.sendBuffer[b]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(d,h,c){(function(b){var r=d("parseuri"),e=d("debug")("socket.io-client:url");h.exports=function(f,c){var d=f;c=c||b.location;null==f&&(f=c.protocol+"//"+c.hostname);"string"==typeof f&&("/"==f.charAt(0)&&(f="/"==f.charAt(1)?c.protocol+f:c.hostname+f),/^(https?|wss?):\/\//.test(f)||(e("protocol-less url %s",f),f="undefined"!=typeof c?c.protocol+"//"+f:"https://"+f),e("parse %s",f),d=r(f));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&
(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(c&&c.port==d.port?"":":"+d.port);return d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(d,h,c){var b=[].slice;h.exports=function(r,e){"string"==typeof e&&(e=r[e]);if("function"!=typeof e)throw Error("bind() requires a function");var f=b.call(arguments,2);return function(){return e.apply(r,f.concat(b.call(arguments)))}}},
{}],8:[function(d,h,c){function b(r){if(r){for(var e in b.prototype)r[e]=b.prototype[e];return r}}h.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(e);return this};b.prototype.once=function(b,e){function f(){c.off(b,f);e.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};f.fn=e;this.on(b,f);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var f=this._callbacks[b];if(!f)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,d=0;d<f.length;d++)if(c=f[d],c===e||c.fn===e){f.splice(d,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),c=this._callbacks[b];if(c)for(var c=c.slice(0),d=0,h=c.length;d<h;++d)c[d].apply(this,
e);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(d,h,c){function b(e){return b.enabled(e)?function(c){c instanceof Error&&(c=c.stack||c.message);var d=new Date,r=d-(b[e]||d);b[e]=d;c=e+" "+c+" +"+b.humanize(r);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}h.exports=b;b.names=[];b.skips=
[];b.enable=function(e){try{localStorage.debug=e}catch(c){}for(var d=(e||"").split(/[\s,]+/),r=d.length,p=0;p<r;p++)e=d[p].replace("*",".*?"),"-"===e[0]?b.skips.push(new RegExp("^"+e.substr(1)+"$")):b.names.push(new RegExp("^"+e+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(e){for(var c=0,d=b.skips.length;c<d;c++)if(b.skips[c].test(e))return!1;c=0;for(d=b.names.length;c<
d;c++)if(b.names[c].test(e))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(r){}},{}],10:[function(d,h,c){h.exports=d("./lib/")},{"./lib/":11}],11:[function(d,h,c){h.exports=d("./socket");h.exports.parser=d("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(d,h,c){(function(b){function c(a,e){if(!(this instanceof c))return new c(a,e);e=e||{};a&&"object"==typeof a&&(e=a,a=null);a&&(a=w(a),e.host=a.host,e.secure="https"==a.protocol||"wss"==a.protocol,
e.port=a.port,a.query&&(e.query=a.query));this.secure=null!=e.secure?e.secure:b.location&&"https:"==location.protocol;if(e.host){var d=e.host.split(":");e.hostname=d.shift();d.length&&(e.port=d.pop())}this.agent=e.agent||!1;this.hostname=e.hostname||(b.location?location.hostname:"localhost");this.port=e.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=E.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=(e.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}
var e=d("./transports"),f=d("component-emitter"),m=d("debug")("engine.io-client:socket"),x=d("indexof"),p=d("engine.io-parser"),w=d("parseuri"),a=d("parsejson"),E=d("parseqs");h.exports=c;c.priorWebsocketSuccess=!1;f(c.prototype);c.protocol=p.protocol;c.Socket=c;c.Transport=d("./transport");c.transports=d("./transports");c.parser=d("engine.io-parser");c.prototype.createTransport=function(a){m('creating transport "%s"',a);var b=this.query,c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.EIO=p.protocol;
c.transport=a;this.id&&(c.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(e){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){m("setting transport %s",a.name);var b=this;this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(n.onlyBinaryUpgrades){var k=!this.supportsBinary&&n.transport.supportsBinary;f=f||k}f||(m('probe transport "%s" opened',a),q.send([{type:"ping",data:"probe"}]),q.once("packet",function(t){f||("pong"==t.type&&"probe"==t.data?(m('probe transport "%s" pong',a),n.upgrading=!0,n.emit("upgrading",q),q&&
(c.priorWebsocketSuccess="websocket"==q.name,m('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){f||"closed"==n.readyState||(m("changing transport and sending upgrade packet"),D(),n.setTransport(q),q.send([{type:"upgrade"}]),n.emit("upgrade",q),q=null,n.upgrading=!1,n.flush())}))):(m('probe transport "%s" failed',a),t=Error("probe error"),t.transport=q.name,n.emit("upgradeError",t)))}))}function e(){f||(f=!0,D(),q.close(),q=null)}function d(k){var t=Error("probe error: "+
k);t.transport=q.name;e();m('probe transport "%s" failed because of error: %s',a,k);n.emit("upgradeError",t)}function k(){d("transport closed")}function u(){d("socket closed")}function g(a){q&&a.name!=q.name&&(m('"%s" works - aborting "%s"',a.name,q.name),e())}function D(){q.removeListener("open",b);q.removeListener("error",d);q.removeListener("close",k);n.removeListener("close",u);n.removeListener("upgrading",g)}m('probing transport "%s"',a);var q=this.createTransport(a,{probe:1}),f=!1,n=this;c.priorWebsocketSuccess=
!1;q.once("open",b);q.once("error",d);q.once("close",k);this.once("close",u);this.once("upgrading",g);q.open()};c.prototype.onOpen=function(){m("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){m("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(b){if("opening"==this.readyState||
"open"==this.readyState)switch(m('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var e=Error("server error");e.code=b.data;this.emit("error",e);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else m('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};
c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){m("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(m("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};c.prototype.sendPacket=function(a,b,e){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:b},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(e),this.flush())};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){c.once("upgrade",b);c.once("upgradeError",b)},b=function(){c.removeListener("upgrade",b);c.removeListener("upgradeError",b);e()},e=function(){c.onClose("forced close");m("socket closing - telling transport to close");c.transport.close()};this.readyState=
"closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():e()});else this.upgrading?a():e()}return this};c.prototype.onError=function(a){m("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){m('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){e.writeBuffer=[];e.callbackBuffer=[];e.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};c.prototype.filterUpgrades=function(a){for(var b=[],e=0,c=a.length;e<c;e++)~x(this.transports,a[e])&&b.push(a[e]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(d,h,c){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket;this.enablesXDR=b.enablesXDR}var r=d("engine.io-parser");d=d("component-emitter");h.exports=b;d(b.prototype);b.timestamps=0;b.prototype.onError=function(b,
c){var d=Error(b);d.type="TransportError";d.description=c;this.emit("error",d);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=r.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(d,h,c){(function(b){var r=d("xmlhttprequest"),e=d("./polling-xhr"),f=d("./polling-jsonp"),m=d("./websocket");c.polling=function(c){var d=!1,m=!1,a=!1!==c.jsonp;b.location&&(m=
"https:"==location.protocol,(d=location.port)||(d=m?443:80),d=c.hostname!=location.hostname||d!=c.port,m=c.secure!=m);c.xdomain=d;c.xscheme=m;if("open"in new r(c)&&!c.forceJSONP)return new e(c);if(!a)throw Error("JSONP disabled");return new f(c)};c.websocket=m}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,h,c){(function(b){function c(){}function e(a){f.call(this,a);this.query=
this.query||{};w||(b.___eio||(b.___eio=[]),w=b.___eio);this.index=w.length;var e=this;w.push(function(a){e.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=c)},!1)}var f=d("./polling"),m=d("component-inherit");h.exports=e;var x=/\n/g,p=/\\n/g,w;m(e,f);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);f.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(b,e);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,b){function e(){c();b()}function c(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{g=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(k){g=document.createElement("iframe"),g.name=d.iframeId,g.src="javascript:0"}g.id=d.iframeId;d.form.appendChild(g);d.iframe=g}var d=this;if(!this.form){var f=document.createElement("form"),
k=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,g;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=u;f.method="POST";f.setAttribute("accept-charset","utf-8");k.name="d";f.appendChild(k);document.body.appendChild(f);this.form=f;this.area=k}this.form.action=this.uri();c();a=a.replace(p,"\\\n");this.area.value=a.replace(x,"\\n");try{this.form.submit()}catch(D){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==d.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,h,c){(function(b){function c(){}function e(a){p.call(this,a);if(b.location){var e="https:"==location.protocol,c=location.port;c||(c=e?443:80);this.xd=a.hostname!=b.location.hostname||c!=a.port;this.xs=a.secure!=e}}function f(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function m(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var x=d("xmlhttprequest"),p=d("./polling"),w=d("component-emitter"),a=d("component-inherit"),E=d("debug")("engine.io-client:polling-xhr");h.exports=e;h.exports.Request=f;a(e,p);e.prototype.supportsBinary=!0;e.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new f(a)};e.prototype.doWrite=function(a,b){var e=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;e.on("success",b);e.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=e};e.prototype.doPoll=function(){E("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};w(f.prototype);f.prototype.create=function(){var a=this.xhr=new x({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{E("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){e.onLoad()},a.onerror=function(){e.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)e.onLoad();else setTimeout(function(){e.onError(a.status)},0)};E("xhr data %s",this.data);a.send(this.data)}catch(d){setTimeout(function(){e.onError(d)},0);return}b.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)};f.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
f.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};f.prototype.onError=function(a){this.emit("error",a);this.cleanup()};f.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;try{this.xhr.abort()}catch(a){}b.document&&delete f.requests[this.index];this.xhr=null}};f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}a=
"application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};f.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};f.prototype.abort=function(){this.cleanup()};b.document&&(f.requestsCount=0,f.requests={},b.attachEvent?b.attachEvent("onunload",m):b.addEventListener&&b.addEventListener("beforeunload",m,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(d,h,c){function b(b){var e=b&&b.forceBase64;if(!x||e)this.supportsBinary=!1;r.call(this,b)}var r=d("../transport"),e=d("parseqs"),f=d("engine.io-parser");c=d("component-inherit");var m=d("debug")("engine.io-client:polling");h.exports=b;var x=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;c(b,r);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=
function(b){function e(){m("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(m("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){m("pre-pause polling complete");--c||e()}));this.writable||(m("we are currently writing - waiting to pause"),c++,this.once("drain",function(){m("pre-pause writing complete");--c||e()}))}else e()};b.prototype.poll=function(){m("polling");this.polling=!0;this.doPoll();
this.emit("poll")};b.prototype.onData=function(b){var e=this;m("polling got data %s",b);f.decodePayload(b,this.socket.binaryType,function(a,b,c){if("opening"==e.readyState)e.onOpen();if("close"==a.type)return e.onClose(),!1;e.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():m('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){m("writing close packet");e.write([{type:"close"}])}
var e=this;"open"==this.readyState?(m("transport open - closing"),b()):(m("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var e=this;this.writable=!1;var a=function(){e.writable=!0;e.emit("drain")},e=this;f.encodePayload(b,this.supportsBinary,function(b){e.doWrite(b,a)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+r.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=e.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(d,h,c){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);r.call(this,b)}var r=d("../transport"),e=d("engine.io-parser"),f=d("parseqs");c=d("component-inherit");var m=d("debug")("engine.io-client:websocket"),
x=d("ws");h.exports=b;c(b,r);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new x(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(e){b.onData(e.data)};this.ws.onerror=
function(e){b.onError("websocket error",e)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var e=this;setTimeout(function(){r.prototype.onData.call(e,b)},0)});b.prototype.write=function(b){var c=this;this.writable=!1;for(var a=0,d=b.length;a<d;a++)e.encodePacket(b[a],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){m("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};b.prototype.onClose=
function(){r.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},e=this.secure?"wss":"ws",a="";this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=f.encode(b);b.length&&(b="?"+b);return e+"://"+this.hostname+a+this.path+b};b.prototype.check=function(){return!!x&&!("__initialize"in
x&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(d,h,c){var b=d("has-cors");h.exports=function(c){var e=c.xdomain,d=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||b))return new XMLHttpRequest}catch(m){}try{if("undefined"!=typeof XDomainRequest&&!d&&c)return new XDomainRequest}catch(h){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(p){}}},{"has-cors":37}],20:[function(d,
h,c){h.exports=function(b,c){var e=function(){};e.prototype=c.prototype;b.prototype=new e;b.prototype.constructor=b}},{}],21:[function(d,h,c){function b(){var b;try{b=localStorage.debug}catch(e){}return b}c=h.exports=d("./debug");c.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var b=arguments,e=this.useColors;b[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+b[0]+(e?"%c ":" ")+"+"+c.humanize(this.diff);
if(!e)return b;var e="color: "+this.color,b=[b[0],e,"color: inherit"].concat(Array.prototype.slice.call(b,1)),d=0,m=0;b[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(d++,"%c"===b&&(m=d))});b.splice(m,0,e);return b};c.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(e){}};c.load=b;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(b){return JSON.stringify(b)};c.enable(b())},{"./debug":22}],22:[function(d,h,c){c=h.exports=function(e){function d(){}function m(){var e=+new Date;m.diff=e-(r||e);m.prev=r;r=m.curr=e;null==m.useColors&&(m.useColors=c.useColors());null==m.color&&m.useColors&&(m.color=c.colors[b++%c.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=c.coerce(d[0]);
"string"!==typeof d[0]&&(d=["%o"].concat(d));var a=0;d[0]=d[0].replace(/%([a-z%])/g,function(b,e){if("%"===b)return b;a++;var f=c.formatters[e];"function"===typeof f&&(b=f.call(m,d[a]),d.splice(a,1),a--);return b});"function"===typeof c.formatArgs&&(d=c.formatArgs.apply(m,d));(m.log||c.log||console.log.bind(console)).apply(m,d)}d.enabled=!1;m.enabled=!0;var h=c.enabled(e)?m:d;h.namespace=e;return h};c.coerce=function(b){return b instanceof Error?b.stack||b.message:b};c.disable=function(){c.enable("")};
c.enable=function(b){c.save(b);for(var d=(b||"").split(/[\s,]+/),m=d.length,r=0;r<m;r++)d[r]&&(b=d[r].replace(/\*/g,".*?"),"-"===b[0]?c.skips.push(new RegExp("^"+b.substr(1)+"$")):c.names.push(new RegExp("^"+b+"$")))};c.enabled=function(b){var d,m;d=0;for(m=c.skips.length;d<m;d++)if(c.skips[d].test(b))return!1;d=0;for(m=c.names.length;d<m;d++)if(c.names[d].test(b))return!0;return!1};c.humanize=d("ms");c.names=[];c.skips=[];c.formatters={};var b=0,r},{ms:23}],23:[function(d,h,c){function b(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function r(b,c,d){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+d:Math.ceil(b/c)+" "+d+"s"}
h.exports=function(c,d){d=d||{};return"string"==typeof c?b(c):d.long?r(c,864E5,"day")||r(c,36E5,"hour")||r(c,6E4,"minute")||r(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],24:[function(d,h,c){(function(b){function r(a,b,u){if(!b)return c.encodeBase64Packet(a,u);var g=new FileReader;g.onload=function(){a.data=g.result;c.encodePacket(a,b,!0,u)};return g.readAsArrayBuffer(a.data)}function e(a,
b,c){var g=Array(a.length);c=p(a.length,c);for(var e=function(a,c,u){b(c,function(b,k){g[a]=k;u(b,g)})},d=0;d<a.length;d++)e(d,a[d],c)}var f=d("./keys"),m=d("arraybuffer.slice"),h=d("base64-arraybuffer"),p=d("after"),w=d("utf8"),a=navigator.userAgent.match(/Android/i);c.protocol=3;var E=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=f(E),A={type:"error",data:"parser error"},C=d("blob");c.encodePacket=function(e,k,u,g){"function"==typeof k&&(g=k,k=!1);"function"==typeof u&&(g=
u,u=null);var d=void 0===e.data?void 0:e.data.buffer||e.data;if(b.ArrayBuffer&&d instanceof ArrayBuffer){if(k){u=e.data;k=new Uint8Array(u);u=new Uint8Array(1+u.byteLength);u[0]=E[e.type];for(e=0;e<k.length;e++)u[e+1]=k[e];e=g(u.buffer)}else e=c.encodeBase64Packet(e,g);return e}if(C&&d instanceof b.Blob)return k?a?e=r(e,k,g):(k=new Uint8Array(1),k[0]=E[e.type],e=new C([k.buffer,e.data]),e=g(e)):e=c.encodeBase64Packet(e,g),e;k=E[e.type];void 0!==e.data&&(k+=u?w.encode(String(e.data)):String(e.data));
return g(""+k)};c.encodeBase64Packet=function(a,k){var e="b"+c.packets[a.type];if(C&&a.data instanceof C){var g=new FileReader;g.onload=function(){var a=g.result.split(",")[1];k(e+a)};return g.readAsDataURL(a.data)}var d;try{d=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(q){d=new Uint8Array(a.data);for(var B=Array(d.length),n=0;n<d.length;n++)B[n]=d[n];d=String.fromCharCode.apply(null,B)}e+=b.btoa(d);return k(e)};c.decodePacket=function(a,b,e){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(e)try{a=w.decode(a)}catch(g){return A}e=a.charAt(0);return Number(e)==e&&z[e]?1<a.length?{type:z[e],data:a.substring(1)}:{type:z[e]}:A}e=(new Uint8Array(a))[0];a=m(a,1);C&&"blob"===b&&(a=new C([a]));return{type:z[e],data:a}};c.decodeBase64Packet=function(a,k){var c=z[a.charAt(0)];if(!b.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var g=h.decode(a.substr(1));"blob"===k&&C&&(g=new C([g]));return{type:c,data:g}};c.encodePayload=
function(b,k,u){"function"==typeof k&&(u=k,k=null);if(k)return C&&!a?c.encodePayloadAsBlob(b,u):c.encodePayloadAsArrayBuffer(b,u);if(!b.length)return u("0:");e(b,function(a,b){c.encodePacket(a,k,!0,function(a){b(null,a.length+":"+a)})},function(a,b){return u(b.join(""))})};c.decodePayload=function(a,b,e){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,e);"function"===typeof b&&(e=b,b=null);var g;if(""==a)return e(A,0,1);g="";for(var d,q,B=0,n=a.length;B<n;B++)if(q=a.charAt(B),":"!=q)g+=q;
else{if(""==g||g!=(d=Number(g)))return e(A,0,1);q=a.substr(B+1,d);if(g!=q.length)return e(A,0,1);if(q.length){g=c.decodePacket(q,b,!0);if(A.type==g.type&&A.data==g.data)return e(A,0,1);if(!1===e(g,B+d,n))return}B+=d;g=""}if(""!=g)return e(A,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,e){var c=e.reduce(function(a,b){var t;t="string"===typeof b?b.length:b.byteLength;return a+
t.toString().length+t+2},0),d=new Uint8Array(c),B=0;e.forEach(function(a){var b="string"===typeof a,t=a;if(b){for(var t=new Uint8Array(a.length),k=0;k<a.length;k++)t[k]=a.charCodeAt(k);t=t.buffer}b?d[B++]=0:d[B++]=1;a=t.byteLength.toString();for(k=0;k<a.length;k++)d[B++]=parseInt(a[k]);d[B++]=255;t=new Uint8Array(t);for(k=0;k<t.length;k++)d[B++]=t[k]});return b(d.buffer)})};c.encodePayloadAsBlob=function(a,b){e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var k=new Uint8Array(1);k[0]=1;if("string"===
typeof a){for(var e=new Uint8Array(a.length),c=0;c<a.length;c++)e[c]=a.charCodeAt(c);a=e.buffer;k[0]=0}for(var e=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),d=new Uint8Array(e.length+1),c=0;c<e.length;c++)d[c]=parseInt(e[c]);d[e.length]=255;C&&(a=new C([k.buffer,d.buffer,a]),b(null,a))})},function(a,e){return b(new C(e))})};c.decodePayloadAsBinary=function(a,b,e){"function"===typeof b&&(e=b,b=null);for(var g=[],d=!1;0<a.byteLength;){for(var q=new Uint8Array(a),f=0===q[0],n="",l=1;255!=
q[l];l++){if(310<n.length){d=!0;break}n+=q[l]}if(d)return e(A,0,1);a=m(a,2+n.length);n=parseInt(n);q=m(a,0,n);if(f)try{q=String.fromCharCode.apply(null,new Uint8Array(q))}catch(t){for(f=new Uint8Array(q),q="",l=0;l<f.length;l++)q+=String.fromCharCode(f[l])}g.push(q);a=m(a,n)}var y=g.length;g.forEach(function(a,t){e(c.decodePacket(a,b,!0),t,y)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(d,h,c){h.exports=Object.keys||function(b){var c=[],e=Object.prototype.hasOwnProperty,d;for(d in b)e.call(b,d)&&c.push(d);return c}},{}],26:[function(d,h,c){function b(){}h.exports=function(c,e,d){function m(b,c){if(0>=m.count)throw Error("after called too many times");--m.count;b?(h=!0,e(b),e=d):0!==m.count||h||e(null,c)}var h=!1;d=d||b;m.count=c;return 0===c?e():m}},{}],27:[function(d,h,c){h.exports=function(b,c,e){var d=b.byteLength;c=c||0;e=e||d;if(b.slice)return b.slice(c,
e);0>c&&(c+=d);0>e&&(e+=d);e>d&&(e=d);if(c>=d||c>=e||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);for(var d=new Uint8Array(e-c),m=0;c<e;c++,m++)d[m]=b[c];return d.buffer}},{}],28:[function(d,h,c){(function(b){c.encode=function(c){c=new Uint8Array(c);var e,d=c.length,m="";for(e=0;e<d;e+=3)m+=b[c[e]>>2],m+=b[(c[e]&3)<<4|c[e+1]>>4],m+=b[(c[e+1]&15)<<2|c[e+2]>>6],m+=b[c[e+2]&63];2===d%3?m=m.substring(0,m.length-1)+"=":1===d%3&&(m=m.substring(0,m.length-2)+"==");return m};c.decode=function(c){var e=
.75*c.length,d=c.length,m=0,h,p,w,a;"="===c[c.length-1]&&(e--,"="===c[c.length-2]&&e--);for(var E=new ArrayBuffer(e),z=new Uint8Array(E),e=0;e<d;e+=4)h=b.indexOf(c[e]),p=b.indexOf(c[e+1]),w=b.indexOf(c[e+2]),a=b.indexOf(c[e+3]),z[m++]=h<<2|p>>4,z[m++]=(p&15)<<4|w>>2,z[m++]=(w&3)<<6|a&63;return E}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(d,h,c){(function(b){function c(b,d){d=d||{};for(var a=new e,f=0;f<b.length;f++)a.append(b[f]);return d.type?a.getBlob(d.type):
a.getBlob()}var e=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,d;try{d=2==(new Blob(["hi"])).size}catch(m){d=!1}var x=e&&e.prototype.append&&e.prototype.getBlob;b=d?b.Blob:x?c:void 0;h.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(d,h,c){(function(b){(function(d){function e(a){for(var b=[],c=0,e=a.length,d,q;c<e;)d=a.charCodeAt(c++),55296<=d&&56319>=d&&c<e?(q=a.charCodeAt(c++),56320==(q&64512)?b.push(((d&1023)<<
10)+(q&1023)+65536):(b.push(d),c--)):b.push(d);return b}function f(){if(A>=z)throw Error("Invalid byte index");var a=E[A]&255;A++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function m(){var a,b,c,e;if(A>z)throw Error("Invalid byte index");if(A==z)return!1;a=E[A]&255;A++;if(0==(a&128))return a;if(192==(a&224)){b=f();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=f();c=f();a=(a&15)<<12|b<<6|c;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=f(),c=f(),e=f(),a=(a&15)<<18|b<<12|c<<6|e,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var x="object"==typeof c&&c,p="object"==typeof h&&h&&h.exports==x&&h,w="object"==typeof b&&b;if(w.global===w||w.window===w)d=w;var a=String.fromCharCode,E,z,A,w={version:"2.0.0",encode:function(b){b=e(b);for(var c=b.length,d=-1,g,D="";++d<c;){g=b[d];if(0==(g&4294967168))g=a(g);else{var q="";0==(g&4294965248)?q=a(g>>6&31|192):0==(g&4294901760)?(q=a(g>>12&15|224),q+=a(g>>
6&63|128)):0==(g&4292870144)&&(q=a(g>>18&7|240),q+=a(g>>12&63|128),q+=a(g>>6&63|128));g=q+=a(g&63|128)}D+=g}return D},decode:function(b){E=e(b);z=E.length;A=0;b=[];for(var c;!1!==(c=m());)b.push(c);c=b.length;for(var d=-1,g,D="";++d<c;)g=b[d],65535<g&&(g-=65536,D+=a(g>>>10&1023|55296),g=56320|g&1023),D+=a(g);return D}};if(x&&!x.nodeType)if(p)p.exports=w;else{d={}.hasOwnProperty;for(var C in w)d.call(w,C)&&(x[C]=w[C])}else d.utf8=w})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(d,h,c){(function(b){var c=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,x=/^\s+/,p=/\s+$/;h.exports=function(h){if("string"!=typeof h||!h)return null;h=h.replace(x,"").replace(p,"");if(b.JSON&&JSON.parse)return JSON.parse(h);if(c.test(h.replace(e,"@").replace(d,"]").replace(m,"")))return(new Function("return "+h))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(d,h,c){c.encode=function(b){var c="",e;for(e in b)b.hasOwnProperty(e)&&(c.length&&(c+="&"),c+=encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return c};c.decode=function(b){var c={};b=b.split("&");for(var e=0,d=b.length;e<d;e++){var m=b[e].split("=");c[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return c}},{}],33:[function(d,h,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(c){var d=c,m=c.indexOf("["),h=c.indexOf("]");-1!=m&&-1!=h&&(c=c.substring(0,m)+c.substring(m,h).replace(/:/g,";")+c.substring(h,c.length));c=b.exec(c||"");for(var p={},w=14;w--;)p[r[w]]=c[w]||"";-1!=m&&-1!=h&&(p.source=d,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=
!0);return p}},{}],34:[function(d,h,c){function b(b,c,d){return c?new r(b,c):new r(b)}d=function(){return this}();var r=d.WebSocket||d.MozWebSocket;h.exports=r?b:null;r&&(b.prototype=r.prototype)},{}],35:[function(d,h,c){(function(b){var c=d("isarray");h.exports=function(d){function f(d){if(!d)return!1;if(b.Buffer&&b.Buffer.isBuffer(d)||b.ArrayBuffer&&d instanceof ArrayBuffer||b.Blob&&d instanceof Blob||b.File&&d instanceof File)return!0;if(c(d))for(var e=0;e<d.length;e++){if(f(d[e]))return!0}else if(d&&
"object"==typeof d)for(e in d.toJSON&&(d=d.toJSON()),d)if(d.hasOwnProperty(e)&&f(d[e]))return!0;return!1}return f(d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(d,h,c){h.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(d,h,c){d=d("global");try{h.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(b){h.exports=!1}},{global:38}],38:[function(d,h,
c){h.exports=function(){return this}()},{}],39:[function(d,h,c){var b=[].indexOf;h.exports=function(c,d){if(b)return c.indexOf(d);for(var f=0;f<c.length;++f)if(c[f]===d)return f;return-1}},{}],40:[function(d,h,c){var b=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(c){var d=[],f;for(f in c)b.call(c,f)&&d.push(f);return d};c.values=function(c){var d=[],f;for(f in c)b.call(c,f)&&d.push(c[f]);return d};c.merge=function(c,d){for(var f in d)b.call(d,f)&&(c[f]=d[f]);return c};c.length=function(b){return c.keys(b).length};
c.isEmpty=function(b){return 0==c.length(b)}},{}],41:[function(d,h,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(c){c=b.exec(c||"");for(var d={},m=14;m--;)d[r[m]]=c[m]||
"";return d}},{}],42:[function(d,h,c){(function(b){var h=d("isarray"),e=d("./is-buffer");c.deconstructPacket=function(b){function c(b){if(!b)return b;if(e(b)){var f={_placeholder:!0,num:d.length};d.push(b);return f}if(h(b)){for(var f=Array(b.length),a=0;a<b.length;a++)f[a]=c(b[a]);return f}if("object"==typeof b&&!(b instanceof Date)){f={};for(a in b)f[a]=c(b[a]);return f}return b}var d=[];b.data=c(b.data);b.attachments=d.length;return{packet:b,buffers:d}};c.reconstructPacket=function(b,c){function d(b){if(b&&
b._placeholder)return c[b.num];if(h(b))for(var e=0;e<b.length;e++)b[e]=d(b[e]);else if(b&&"object"==typeof b)for(e in b)b[e]=d(b[e]);return b}b.data=d(b.data);b.attachments=void 0;return b};c.removeBlobs=function(c,d){function x(a,c,f){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){p++;var A=new FileReader;A.onload=function(){f?f[c]=this.result:w=this.result;--p||d(w)};A.readAsArrayBuffer(a)}else if(h(a))for(A=0;A<a.length;A++)x(a[A],A,a);else if(a&&"object"==typeof a&&!e(a))for(A in a)x(a[A],
A,a)}var p=0,w=c;x(w);p||d(w)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(d,h,c){function b(){}function r(a){var b,d=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp);null!=a.id&&(d&&(b+=",",d=!1),b+=a.id);null!=a.data&&(d&&(b+=","),b+=p.stringify(a.data));x("encoded %j as %s",a,b);return b}function e(a,b){w.removeBlobs(a,function(a){var c=w.deconstructPacket(a);
a=r(c.packet);c=c.buffers;c.unshift(a);b(c)})}function f(){this.reconstructor=null}function m(a){this.reconPack=a;this.buffers=[]}var x=d("debug")("socket.io-parser"),p=d("json3");d("isarray");h=d("component-emitter");var w=d("./binary"),a=d("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=b;c.Decoder=f;b.prototype.encode=function(a,b){x("encoding packet %j",
a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)e(a,b);else{var d=r(a);b([d])}};h(f.prototype);f.prototype.add=function(b){if("string"==typeof b){a:{var d={},e=0;d.type=Number(b.charAt(0));if(null==c.types[d.type])b={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==d.type||c.BINARY_ACK==d.type){for(d.attachments="";"-"!=b.charAt(++e);)d.attachments+=b.charAt(e);d.attachments=Number(d.attachments)}if("/"==b.charAt(e+1))for(d.nsp="";++e;){var f=b.charAt(e);if(","==f)break;d.nsp+=f;if(e+
1==b.length)break}else d.nsp="/";f=b.charAt(e+1);if(""!=f&&Number(f)==f){for(d.id="";++e;){f=b.charAt(e);if(null==f||Number(f)!=f){--e;break}d.id+=b.charAt(e);if(e+1==b.length)break}d.id=Number(d.id)}if(b.charAt(++e))try{d.data=p.parse(b.substr(e))}catch(h){b={type:c.ERROR,data:"parser error"};break a}x("decoded %s as %j",b,d);b=d}}c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new m(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(a(b)||
b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};m.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=w.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};m.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(d,h,c){(function(b){h.exports=function(c){return b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(d,h,c){h.exports=d(36)},{}],46:[function(d,h,c){(function(b){function d(b){if(d[b]!==x)return d[b];
var c;if("bug-string-char-index"==b)c="a"!="a"[0];else if("json"==b)c=d("json-stringify")&&d("json-parse");else{var t;if("json-stringify"==b){c=w.stringify;var k="function"==typeof c&&a;if(k){(t=function(){return 1}).toJSON=t;try{k="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(e)===x&&c(x)===x&&c()===x&&"1"===c(t)&&"[1]"==c([t])&&"[null]"==c([x])&&"null"==c(null)&&"[null,null,null]"==c([x,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[t,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===c(null,t)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(g){k=!1}}c=k}if("json-parse"==b){c=w.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){t=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var y=5==t.a.length&&1===t.a[0];if(y){try{y=!c('"\t"')}catch(u){}if(y)try{y=1!==
c("01")}catch(l){}if(y)try{y=1!==c("1.")}catch(G){}}}}catch(q){y=!1}c=y}}return d[b]=!!c}var e={}.toString,f,h,x,p="object"==typeof JSON&&JSON,w="object"==typeof c&&c&&!c.nodeType&&c;w&&p?(w.stringify=p.stringify,w.parse=p.parse):w=b.JSON=p||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(E){}if(!d("json")){var z=d("bug-string-char-index");
if(!a)var A=Math.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(a,b){return C[b]+365*(a-1970)+A((a-1969+(b=+(1<b)))/4)-A((a-1901+b)/100)+A((a-1601+b)/400)};(f={}.hasOwnProperty)||(f=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=e?f=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,f=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return f.call(this,
a)});var k={"boolean":1,number:1,string:1,undefined:1};h=function(a,b){var c=0,d,t,g;(d=function(){this.valueOf=0}).prototype.valueOf=0;t=new d;for(g in t)f.call(t,g)&&c++;d=t=null;c?h=2==c?function(a,b){var c={},d="[object Function]"==e.call(a),t;for(t in a)d&&"prototype"==t||f.call(c,t)||!(c[t]=1)||!f.call(a,t)||b(t)}:function(a,b){var c="[object Function]"==e.call(a),t,d;for(t in a)c&&"prototype"==t||!f.call(a,t)||(d="constructor"===t)||b(t);(d||f.call(a,t="constructor"))&&b(t)}:(t="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
h=function(a,b){var c="[object Function]"==e.call(a),d,g;if(g=!c&&"function"!=typeof a.constructor)g=typeof a.hasOwnProperty,g="object"==g?!!a.hasOwnProperty:!k[g];g=g?a.hasOwnProperty:f;for(d in a)c&&"prototype"==d||!g.call(a,d)||b(d);for(c=t.length;d=t[--c];g.call(a,d)&&b(d));});return h(a,b)};if(!d("json-stringify")){var u={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},g=function(a,b){return("000000"+(b||0)).slice(-a)},D=function(a){var b='"',c=0,t=a.length,d=10<t&&z,k;for(d&&
(k=a.split(""));c<t;c++){var e=a.charCodeAt(c);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=u[e];break;default:if(32>e){b+="\\u00"+g(2,e.toString(16));break}b+=d?k[c]:z?a.charAt(c):a[c]}}return b+'"'},q=function(a,b,c,t,d,k,y){var u,l,G,n,B,H,M,O,p;try{u=b[a]}catch(r){}if("object"==typeof u&&u)if(l=e.call(u),"[object Date]"!=l||f.call(u,"toJSON"))"function"==typeof u.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||f.call(u,"toJSON"))&&(u=u.toJSON(a));
else if(u>-1/0&&u<1/0){if(I){n=A(u/864E5);for(l=A(n/365.2425)+1970-1;I(l+1,0)<=n;l++);for(G=A((n-I(l,0))/30.42);I(l,G+1)<=n;G++);n=1+n-I(l,G);B=(u%864E5+864E5)%864E5;H=A(B/36E5)%24;M=A(B/6E4)%60;O=A(B/1E3)%60;B%=1E3}else l=u.getUTCFullYear(),G=u.getUTCMonth(),n=u.getUTCDate(),H=u.getUTCHours(),M=u.getUTCMinutes(),O=u.getUTCSeconds(),B=u.getUTCMilliseconds();u=(0>=l||1E4<=l?(0>l?"-":"+")+g(6,0>l?-l:l):g(4,l))+"-"+g(2,G+1)+"-"+g(2,n)+"T"+g(2,H)+":"+g(2,M)+":"+g(2,O)+"."+g(3,B)+"Z"}else u=null;c&&(u=
c.call(b,a,u));if(null===u)return"null";l=e.call(u);if("[object Boolean]"==l)return""+u;if("[object Number]"==l)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==l)return D(""+u);if("object"==typeof u){for(a=y.length;a--;)if(y[a]===u)throw TypeError();y.push(u);p=[];b=k;k+=d;if("[object Array]"==l){G=0;for(a=u.length;G<a;G++)l=q(G,u,c,t,d,k,y),p.push(l===x?"null":l);a=p.length?d?"[\n"+k+p.join(",\n"+k)+"\n"+b+"]":"["+p.join(",")+"]":"[]"}else h(t||u,function(a){var b=q(a,u,c,t,d,k,y);b!==x&&
p.push(D(a)+":"+(d?" ":"")+b)}),a=p.length?d?"{\n"+k+p.join(",\n"+k)+"\n"+b+"}":"{"+p.join(",")+"}":"{}";y.pop();return a}};w.stringify=function(a,b,c){var d,t,k,g;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(g=e.call(b)))t=b;else if("[object Array]"==g){k={};for(var y=0,u=b.length,l;y<u;l=b[y++],(g=e.call(l),"[object String]"==g||"[object Number]"==g)&&(k[l]=1));}if(c)if("[object Number]"==(g=e.call(c))){if(0<(c-=c%1))for(d="",10<c&&(c=10);d.length<c;d+=" ");}else"[object String]"==
g&&(d=10>=c.length?c:c.slice(0,10));return q("",(l={},l[""]=a,l),t,k,d,"",[])}}if(!d("json-parse")){var B=String.fromCharCode,n={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},l,t,y=function(){l=t=null;throw SyntaxError();},G=function(){for(var a=t,b=a.length,c,d,k,e,g;l<b;)switch(g=a.charCodeAt(l),g){case 9:case 10:case 13:case 32:l++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=z?a.charAt(l):a[l],l++,c;case 34:c="@";for(l++;l<b;)if(g=a.charCodeAt(l),32>g)y();
else if(92==g)switch(g=a.charCodeAt(++l),g){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=n[g];l++;break;case 117:d=++l;for(k=l+4;l<k;l++)g=a.charCodeAt(l),48<=g&&57>=g||97<=g&&102>=g||65<=g&&70>=g||y();c+=B("0x"+a.slice(d,l));break;default:y()}else{if(34==g)break;g=a.charCodeAt(l);for(d=l;32<=g&&92!=g&&34!=g;)g=a.charCodeAt(++l);c+=a.slice(d,l)}if(34==a.charCodeAt(l))return l++,c;y();default:d=l;45==g&&(e=!0,g=a.charCodeAt(++l));if(48<=g&&57>=g){for(48==g&&(g=a.charCodeAt(l+
1),48<=g&&57>=g)&&y();l<b&&(g=a.charCodeAt(l),48<=g&&57>=g);l++);if(46==a.charCodeAt(l)){for(k=++l;k<b&&(g=a.charCodeAt(k),48<=g&&57>=g);k++);k==l&&y();l=k}g=a.charCodeAt(l);if(101==g||69==g){g=a.charCodeAt(++l);43!=g&&45!=g||l++;for(k=l;k<b&&(g=a.charCodeAt(k),48<=g&&57>=g);k++);k==l&&y();l=k}return+a.slice(d,l)}e&&y();if("true"==a.slice(l,l+4))return l+=4,!0;if("false"==a.slice(l,l+5))return l+=5,!1;if("null"==a.slice(l,l+4))return l+=4,null;y()}return"$"},M=function(a){var b,c;"$"==a&&y();if("string"==
typeof a){if("@"==(z?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=G();if("]"==a)break;c&&(","==a?(a=G(),"]"==a&&y()):y());","==a&&y();b.push(M(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=G();if("}"==a)break;c&&(","==a?(a=G(),"}"==a&&y()):y());","!=a&&"string"==typeof a&&"@"==(z?a.charAt(0):a[0])&&":"==G()||y();b[a.slice(1)]=M(G())}return b}y()}return a},H=function(a,b,c){c=O(a,b,c);c===x?delete a[b]:a[b]=c},O=function(a,b,c){var d=a[b],t;if("object"==typeof d&&d)if("[object Array]"==
e.call(d))for(t=d.length;t--;)H(d,t,c);else h(d,function(a){H(d,a,c)});return c.call(a,b,d)};w.parse=function(a,b){var c,d;l=0;t=""+a;c=M(G());"$"!=G()&&y();l=t=null;return b&&"[object Function]"==e.call(b)?O((d={},d[""]=c,d),"",b):c}}}})(this)},{}],47:[function(d,h,c){h.exports=function(b,c){for(var d=[],f=(c=c||0)||0;f<b.length;f++)d[f-c]=b[f];return d}},{}]},{},[1])(1)});
(function(){(function(v){var d=this||(0,eval)("this"),h=d.document,c=d.navigator,b=d.jQuery,r=d.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports,require):"function"===typeof define&&define.amd?define(["exports","require"],b):b(d.ko={})})(function(e,f){function m(a,b){return null===a||typeof a in E?a===b:!1}function x(a,b){var c;return function(){c||(c=setTimeout(function(){c=v;a()},b))}}function p(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function w(b,c,d,e){a.d[b]={init:function(b,k,n,l,t){var y,G;a.s(function(){var l=a.a.c(k()),n=!d!==!l,f=!G;if(f||c||n!==y)f&&a.Y.la()&&(G=a.a.ia(a.f.childNodes(b),!0)),n?(f||a.f.T(b,a.a.ia(G)),a.Ca(e?e(t,l):t,b)):a.f.ja(b),y=n},null,{o:b});return{controlsDescendantBindings:!0}}};a.h.ha[b]=!1;a.f.Q[b]=!0}var a="undefined"!==typeof e?e:{};a.b=function(b,c){for(var d=b.split("."),e=a,q=0;q<d.length-1;q++)e=e[d[q]];e[d[d.length-1]]=c};a.A=function(a,b,c){a[b]=c};a.version="3.2.0";
a.b("version",a.version);a.a=function(){function k(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function e(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){a.__proto__=b;return a}var D={__proto__:[]}instanceof Array,q={},B={};q[c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];q.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");k(q,function(a,b){if(b.length)for(var c=
0,d=b.length;c<d;c++)B[b[c]]=a});var n={propertychange:!0},l=h&&function(){for(var a=3,b=h.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:v}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===
b)return c;return-1},qb:function(a,b,c){for(var d=0,k=a.length;d<k;d++)if(b.call(c,a[d],d))return a[d];return null},ua:function(b,c){var d=a.a.m(b,c);0<d?b.splice(d,1):0===d&&b.shift()},rb:function(b){b=b||[];for(var c=[],d=0,k=b.length;d<k;d++)0>a.a.m(c,b[d])&&c.push(b[d]);return c},Da:function(a,b){a=a||[];for(var c=[],d=0,k=a.length;d<k;d++)c.push(b(a[d],d));return c},ta:function(a,b){a=a||[];for(var c=[],d=0,k=a.length;d<k;d++)b(a[d],d)&&c.push(a[d]);return c},ga:function(a,b){if(b instanceof
Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},ea:function(b,c,d){var k=a.a.m(a.a.Xa(b),c);0>k?d&&b.push(c):d||b.splice(k,1)},xa:D,extend:e,za:g,Aa:D?g:e,G:k,na:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Ka:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},oc:function(b){b=a.a.S(b);for(var c=h.createElement("div"),d=0,k=b.length;d<k;d++)c.appendChild(a.R(b[d]));return c},ia:function(b,c){for(var d=
0,k=b.length,e=[];d<k;d++){var g=b[d].cloneNode(!0);e.push(c?a.R(g):g)}return e},T:function(b,c){a.a.Ka(b);if(c)for(var d=0,k=c.length;d<k;d++)b.appendChild(c[d])},Lb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var k=d[0],e=k.parentNode,g=0,u=c.length;g<u;g++)e.insertBefore(c[g],k);g=0;for(u=d.length;g<u;g++)a.removeNode(d[g])}},ka:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=
0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Nb:function(a,b){7>l?a.setAttribute("selected",b):a.selected=b},cb:function(a){return null===a||a===v?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},cc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&
16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ja:function(b){return a.a.cc(b,b.ownerDocument.documentElement)},ob:function(b){return!!a.a.qb(b,a.a.Ja)},t:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(c,d,k){var g=l&&n[d];if(!g&&b)b(c).bind(d,k);else if(g||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var e=function(a){k.call(c,a)},u="on"+d;c.attachEvent(u,e);a.a.w.da(c,function(){c.detachEvent(u,e)})}else throw Error("Browser doesn't support addEventListener or attachEvent");
else c.addEventListener(d,k,!1)},oa:function(c,k){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var g;"input"===a.a.t(c)&&c.type&&"click"==k.toLowerCase()?(g=c.type,g="checkbox"==g||"radio"==g):g=!1;if(b&&!g)b(c).trigger(k);else if("function"==typeof h.createEvent)if("function"==typeof c.dispatchEvent)g=h.createEvent(B[k]||"HTMLEvents"),g.initEvent(k,!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(g);else throw Error("The supplied element doesn't support dispatchEvent");
else if(g&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+k);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.C(b)?b():b},Xa:function(b){return a.C(b)?b.v():b},Ba:function(b,c,d){if(c){var k=/\S+/g,g=b.className.match(k)||[];a.a.u(c.match(k),function(b){a.a.ea(g,b,d)});b.className=g.join(" ")}},bb:function(b,c){var d=a.a.c(c);if(null===d||d===v)d="";var k=a.f.firstChild(b);!k||3!=k.nodeType||a.f.nextSibling(k)?a.f.T(b,[b.ownerDocument.createTextNode(d)]):
k.data=d;a.a.fc(b)},Mb:function(a,b){a.name=b;if(7>=l)try{a.mergeAttributes(h.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},fc:function(a){9<=l&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},dc:function(a){if(l){var b=a.style.width;a.style.width=0;a.style.width=b}},sc:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],k=b;k<=c;k++)d.push(k);return d},S:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},yc:6===l,zc:7===l,L:l,xb:function(b,c){for(var d=
a.a.S(b.getElementsByTagName("input")).concat(a.a.S(b.getElementsByTagName("textarea"))),k="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],e=d.length-1;0<=e;e--)k(d[e])&&g.push(d[e]);return g},pc:function(b){return"string"==typeof b&&(b=a.a.cb(b))?r&&r.parse?r.parse(b):(new Function("return "+b))():null},eb:function(b,c,d){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return r.stringify(a.a.c(b),c,d)},qc:function(b,c,d){d=d||{};var g=d.params||{},e=d.includeFields||this.vb,u=b;if("object"==typeof b&&"form"===a.a.t(b))for(var u=b.action,l=e.length-1;0<=l;l--)for(var n=a.a.xb(b,e[l]),q=n.length-1;0<=q;q--)g[n[q].name]=n[q].value;c=a.a.c(c);var D=h.createElement("form");D.style.display="none";D.action=u;D.method="post";for(var B in c)b=h.createElement("input"),b.type="hidden",b.name=B,b.value=a.a.eb(a.a.c(c[B])),D.appendChild(b);k(g,function(a,b){var c=h.createElement("input");
c.type="hidden";c.name=a;c.value=b;D.appendChild(c)});h.body.appendChild(D);d.submitter?d.submitter(D):D.submit();setTimeout(function(){D.parentNode.removeChild(D)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.u);a.b("utils.arrayFirst",a.a.qb);a.b("utils.arrayFilter",a.a.ta);a.b("utils.arrayGetDistinctValues",a.a.rb);a.b("utils.arrayIndexOf",a.a.m);a.b("utils.arrayMap",a.a.Da);a.b("utils.arrayPushAll",a.a.ga);a.b("utils.arrayRemoveItem",a.a.ua);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.vb);a.b("utils.getFormFields",a.a.xb);a.b("utils.peekObservable",a.a.Xa);a.b("utils.postJson",a.a.qc);a.b("utils.parseJson",a.a.pc);a.b("utils.registerEventHandler",a.a.n);a.b("utils.stringifyJson",a.a.eb);a.b("utils.range",a.a.sc);a.b("utils.toggleDomNodeCssClass",a.a.Ba);a.b("utils.triggerEvent",a.a.oa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.G);a.b("utils.addOrRemoveItem",a.a.ea);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=
this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.e=new function(){function a(k,e){var n=k[c];if(!n||"null"===n||!d[n]){if(!e)return v;n=k[c]="ko"+b++;d[n]={}}return d[n]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===v?v:d[c]},set:function(b,c,d){if(d!==v||a(b,!1)!==v)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},F:function(){return b++ +
c}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.w=new function(){function c(b,d){var k=a.a.e.get(b,g);k===v&&d&&(k=[],a.a.e.set(b,g,k));return k}function d(b){var g=c(b,!1);if(g)for(var g=g.slice(0),e=0;e<g.length;e++)g[e](b);a.a.e.clear(b);a.a.w.cleanExternalData(b);if(q[b.nodeType])for(g=b.firstChild;b=g;)g=b.nextSibling,8===b.nodeType&&d(b)}var g=a.a.e.F(),e={1:!0,8:!0,9:!0},q={1:!0,9:!0};return{da:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");
c(a,!0).push(b)},Kb:function(b,d){var e=c(b,!1);e&&(a.a.ua(e,d),0==e.length&&a.a.e.set(b,g,v))},R:function(b){if(e[b.nodeType]&&(d(b),q[b.nodeType])){var c=[];a.a.ga(c,b.getElementsByTagName("*"));for(var k=0,g=c.length;k<g;k++)d(c[k])}return b},removeNode:function(b){a.R(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.R=a.a.w.R;a.removeNode=a.a.w.removeNode;a.b("cleanNode",a.R);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",
a.a.w);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.w.da);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.w.Kb);(function(){a.a.ba=function(c){var e;if(b)if(b.parseHTML)e=b.parseHTML(c)||[];else{if((e=b.clean([c]))&&e[0]){for(c=e[0];c.parentNode&&11!==c.parentNode.nodeType;)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}}else{var g=a.a.cb(c).toLowerCase();e=h.createElement("div");g=g.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!g.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!g.indexOf("<td")||!g.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];c="ignored<div>"+g[1]+c+g[2]+"</div>";for("function"==typeof d.innerShiv?e.appendChild(d.innerShiv(c)):e.innerHTML=c;g[0]--;)e=e.lastChild;e=a.a.S(e.lastChild.childNodes)}return e};a.a.$a=function(c,d){a.a.Ka(c);d=a.a.c(d);if(null!==d&&d!==v)if("string"!=typeof d&&(d=d.toString()),b)b(c).html(d);else for(var e=a.a.ba(d),D=0;D<e.length;D++)c.appendChild(e[D])}})();a.b("utils.parseHtmlFragment",
a.a.ba);a.b("utils.setHtml",a.a.$a);a.D=function(){function b(c,d){if(c)if(8==c.nodeType){var e=a.D.Gb(c.nodeValue);null!=e&&d.push({bc:c,mc:e})}else if(1==c.nodeType)for(var e=0,u=c.childNodes,n=u.length;e<n;e++)b(u[e],d)}var c={};return{Ua:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+
b+"]--\x3e"},Rb:function(a,b){var d=c[a];if(d===v)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},Sb:function(c,d){var e=[];b(c,e);for(var u=0,n=e.length;u<n;u++){var l=e[u].bc,t=[l];d&&a.a.ga(t,d);a.D.Rb(e[u].mc,t);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)}},Gb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.D);a.b("memoization.memoize",a.D.Ua);
a.b("memoization.unmemoize",a.D.Rb);a.b("memoization.parseMemoText",a.D.Gb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.D.Sb);a.La={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.j({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?p:x;a.Ta(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:m}};var E=
{undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.La);a.Pb=function(b,c,d){this.target=b;this.wa=c;this.ac=d;this.Cb=!1;a.A(this,"dispose",this.K)};a.Pb.prototype.K=function(){this.Cb=!0;this.ac()};a.P=function(){a.a.Aa(this,a.P.fn);this.M={}};var z={U:function(b,c,d){var e=this;d=d||"change";var q=new a.Pb(e,c?b.bind(c):b,function(){a.a.ua(e.M[d],q);e.nb&&e.nb()});e.va&&e.va(d);e.M[d]||(e.M[d]=[]);e.M[d].push(q);return q},notifySubscribers:function(b,c){c=c||"change";if(this.Ab(c))try{a.k.Ea();
for(var d=this.M[c].slice(0),e=0,q;q=d[e];++e)q.Cb||q.wa(b)}finally{a.k.end()}},Ta:function(b){var c=this,d=a.C(c),e,q,f;c.qa||(c.qa=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.kb(a):c.qa(a,b):c.lb(a)});var n=b(function(){d&&f===c&&(f=c());e=!1;c.Pa(q,f)&&c.qa(q=f)});c.lb=function(a){e=!0;f=a;n()};c.kb=function(a){e||(q=a,c.qa(a,"beforeChange"))}},Ab:function(a){return this.M[a]&&this.M[a].length},yb:function(){var b=0;a.a.G(this.M,function(a,c){b+=c.length});
return b},Pa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.G(b,function(b,d){var e=a.La[b];"function"==typeof e&&(c=e(c,d)||c)});return c}};a.A(z,"subscribe",z.U);a.A(z,"extend",z.extend);a.A(z,"getSubscriptionsCount",z.yb);a.a.xa&&a.a.za(z,Function.prototype);a.P.fn=z;a.Db=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.P);a.b("isSubscribable",a.Db);a.Y=a.k=function(){function b(a){d.push(e);
e=a}function c(){e=d.pop()}var d=[],e,q=0;return{Ea:b,end:c,Jb:function(b){if(e){if(!a.Db(b))throw Error("Only subscribable things can act as dependencies");e.wa(b,b.Vb||(b.Vb=++q))}},B:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},la:function(){if(e)return e.s.la()},ma:function(){if(e)return e.ma}}}();a.b("computedContext",a.Y);a.b("computedContext.getDependenciesCount",a.Y.la);a.b("computedContext.isInitial",a.Y.ma);a.b("computedContext.isSleeping",a.Y.Ac);a.p=function(b){function c(){if(0<
arguments.length)return c.Pa(d,arguments[0])&&(c.X(),d=arguments[0],c.W()),this;a.k.Jb(c);return d}var d=b;a.P.call(c);a.a.Aa(c,a.p.fn);c.v=function(){return d};c.W=function(){c.notifySubscribers(d)};c.X=function(){c.notifySubscribers(d,"beforeChange")};a.A(c,"peek",c.v);a.A(c,"valueHasMutated",c.W);a.A(c,"valueWillMutate",c.X);return c};a.p.fn={equalityComparer:m};var A=a.p.rc="__ko_proto__";a.p.fn[A]=a.p;a.a.xa&&a.a.za(a.p.fn,a.P.fn);a.Ma=function(b,c){return null===b||b===v||b[A]===v?!1:b[A]===
c?!0:a.Ma(b[A],c)};a.C=function(b){return a.Ma(b,a.p)};a.Ra=function(b){return"function"==typeof b&&b[A]===a.p||"function"==typeof b&&b[A]===a.j&&b.hc?!0:!1};a.b("observable",a.p);a.b("isObservable",a.C);a.b("isWriteableObservable",a.Ra);a.b("isWritableObservable",a.Ra);a.aa=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.p(b);a.a.Aa(b,a.aa.fn);return b.extend({trackArrayChanges:!0})};
a.aa.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.C(b)?function(a){return a===b}:b,q=0;q<c.length;q++){var f=c[q];e(f)&&(0===d.length&&this.X(),d.push(f),c.splice(q,1),q--)}d.length&&this.W();return d},removeAll:function(b){if(b===v){var c=this.v(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return b?this.remove(function(c){return 0<=a.a.m(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.C(b)?function(a){return a===b}:b;this.X();
for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.W()},destroyAll:function(b){return b===v?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.m(b,c)}):[]},indexOf:function(b){var c=this();return a.a.m(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.v()[c]=b,this.W())}};a.a.u("pop push reverse shift sort splice unshift".split(" "),function(b){a.aa.fn[b]=function(){var a=this.v();this.X();this.sb(a,b,arguments);a=a[b].apply(a,arguments);this.W();
return a}});a.a.u(["slice"],function(b){a.aa.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.xa&&a.a.za(a.aa.fn,a.p.fn);a.b("observableArray",a.aa);a.La.trackArrayChanges=function(b){function c(){if(!d){d=!0;var n=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++q;return n.apply(this,arguments)};var l=[].concat(b.v()||[]);e=null;b.U(function(c){c=[].concat(c||[]);if(b.Ab("arrayChange")){var d;if(!e||1<q)e=a.a.Fa(l,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,
"arrayChange")}l=c;e=null;q=0})}}if(!b.sb){var d=!1,e=null,q=0,f=b.U;b.U=b.subscribe=function(a,b,d){"arrayChange"===d&&c();return f.apply(this,arguments)};b.sb=function(b,c,k){function y(a,b,c){return u[u.length]={status:a,value:b,index:c}}if(d&&!q){var u=[],f=b.length,H=k.length,h=0;switch(c){case "push":h=f;case "unshift":for(c=0;c<H;c++)y("added",k[c],h+c);break;case "pop":h=f-1;case "shift":f&&y("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>k[0]?f+k[0]:k[0]),f);for(var f=1===
H?f:Math.min(c+(k[1]||0),f),H=c+H-2,h=Math.max(f,H),m=[],B=[],p=2;c<h;++c,++p)c<f&&B.push(y("deleted",b[c],c)),c<H&&m.push(y("added",k[p],c));a.a.wb(B,m);break;default:return}e=u}}}};a.s=a.j=function(b,c,d){function e(){a.a.G(C,function(a,b){b.K()});C={}}function q(){e();J=0;p=!0;h=!1}function f(){var a=l.throttleEvaluation;a&&0<=a?(clearTimeout(T),T=setTimeout(n,a)):l.ib?l.ib():n()}function n(b){if(H){if(r)throw Error("A 'pure' computed must not be called recursively");}else if(!p){if(z&&z()){if(!m){E();
return}}else m=!1;H=!0;if(w)try{var d={};a.k.Ea({wa:function(a,b){d[b]||(d[b]=1,++J)},s:l,ma:v});J=0;G=K.call(c)}finally{a.k.end(),H=!1}else try{var e=C,k=J;a.k.Ea({wa:function(a,b){p||(k&&e[b]?(C[b]=e[b],++J,delete e[b],--k):C[b]||(C[b]=a.U(f),++J))},s:l,ma:r?v:!J});C={};J=0;try{var g=c?K.call(c):K()}finally{a.k.end(),k&&a.a.G(e,function(a,b){b.K()}),h=!1}l.Pa(G,g)&&(l.notifySubscribers(G,"beforeChange"),G=g,!0!==b&&l.notifySubscribers(G))}finally{H=!1}J||E()}}function l(){if(0<arguments.length){if("function"===
typeof x)x.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.k.Jb(l);h&&n(!0);return G}function t(){h&&!J&&n(!0);return G}function y(){return h||0<J}var G,h=!0,H=!1,m=!1,p=!1,K=b,r=!1,w=!1;K&&"object"==typeof K?(d=K,K=d.read):(d=d||{},K||(K=d.read));if("function"!=typeof K)throw Error("Pass a function that returns the value of the ko.computed");var x=d.write,
F=d.disposeWhenNodeIsRemoved||d.o||null,A=d.disposeWhen||d.Ia,z=A,E=q,C={},J=0,T=null;c||(c=d.owner);a.P.call(l);a.a.Aa(l,a.j.fn);l.v=t;l.la=function(){return J};l.hc="function"===typeof d.write;l.K=function(){E()};l.Z=y;var U=l.Ta;l.Ta=function(a){U.call(l,a);l.ib=function(){l.kb(G);h=!0;l.lb(l)}};d.pure?(w=r=!0,l.va=function(){w&&(w=!1,n(!0))},l.nb=function(){l.yb()||(e(),w=h=!0)}):d.deferEvaluation&&(l.va=function(){t();delete l.va});a.A(l,"peek",l.v);a.A(l,"dispose",l.K);a.A(l,"isActive",l.Z);
a.A(l,"getDependenciesCount",l.la);F&&(m=!0,F.nodeType&&(z=function(){return!a.a.Ja(F)||A&&A()}));w||d.deferEvaluation||n();F&&y()&&F.nodeType&&(E=function(){a.a.w.Kb(F,E);q()},a.a.w.da(F,E));return l};a.jc=function(b){return a.Ma(b,a.j)};z=a.p.rc;a.j[z]=a.p;a.j.fn={equalityComparer:m};a.j.fn[z]=a.j;a.a.xa&&a.a.za(a.j.fn,a.P.fn);a.b("dependentObservable",a.j);a.b("computed",a.j);a.b("isComputed",a.jc);a.Ib=function(b,c){if("function"===typeof b)return a.s(b,c,{pure:!0});b=a.a.extend({},b);b.pure=
!0;return a.s(b,c)};a.b("pureComputed",a.Ib);(function(){function b(a,e,f){f=f||new d;a=e(a);if("object"!=typeof a||null===a||a===v||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var n=a instanceof Array?[]:{};f.save(a,n);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":n[c]=d;break;case "object":case "undefined":var g=f.get(d);n[c]=g!==v?g:b(d,e,f)}});return n}function c(a,b){if(a instanceof Array){for(var d=
0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.hb=[]}a.Qb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.C(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Qb(b);return a.a.eb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.m(this.keys,b);0<=d?this.hb[d]=c:(this.keys.push(b),this.hb.push(c))},get:function(b){b=a.a.m(this.keys,
b);return 0<=b?this.hb[b]:v}}})();a.b("toJS",a.Qb);a.b("toJSON",a.toJSON);(function(){a.i={q:function(b){switch(a.a.t(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.Va):7>=a.a.L?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex]):v;default:return b.value}},ca:function(b,c,d){switch(a.a.t(b)){case "option":switch(typeof c){case "string":a.a.e.set(b,a.d.options.Va,
v);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.Va,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=v;for(var e=-1,f=0,h=b.options.length,n;f<h;++f)if(n=a.i.q(b.options[f]),n==c||""==n&&c===v){e=f;break}if(d||0<=e||c===v&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===v)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.q);a.b("selectExtensions.writeValue",a.i.ca);a.h=function(){function b(c){c=a.a.cb(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],g=c.match(e),k,n,u=0;if(g){g.push(",");for(var m=0,p;p=g[m];++m){var r=p.charCodeAt(0);if(44===r){if(0>=u){k&&d.push(n?{key:k,value:n.join("")}:{unknown:k});k=n=u=0;continue}}else if(58===r){if(!n)continue}else if(47===r&&m&&1<p.length)(r=g[m-1].match(f))&&!h[r[0]]&&(c=c.substr(c.indexOf(p)+1),g=c.match(e),g.push(","),m=-1,p="/");else if(40===r||123===r||91===
r)++u;else if(41===r||125===r||93===r)--u;else if(!k&&!n){k=34===r||39===r?p.slice(1,-1):p;continue}n?n.push(p):n=[p]}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},n={};return{ha:[],V:n,Wa:b,ya:function(e,t){function y(b,e){var k;if(!m){var t=a.getBindingHandler(b);if(t&&
t.preprocess&&!(e=t.preprocess(e,b,y)))return;if(t=n[b])k=e,0<=a.a.m(c,k)?k=!1:(t=k.match(d),k=null===t?!1:t[1]?"Object("+t[1]+")"+t[2]:k),t=k;t&&q.push("'"+b+"':function(_z){"+k+"=_z}")}h&&(e="function(){return "+e+" }");f.push("'"+b+"':"+e)}t=t||{};var f=[],q=[],h=t.valueAccessors,m=t.bindingParams,D="string"===typeof e?b(e):e;a.a.u(D,function(a){y(a.key||a.unknown,a.value)});q.length&&y("_ko_property_writers","{"+q.join(",")+" }");return f.join(",")},lc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==
b)return!0;return!1},pa:function(b,c,d,e,g){if(b&&a.C(b))!a.Ra(b)||g&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.ha);a.b("expressionRewriting.parseObjectLiteral",a.h.Wa);a.b("expressionRewriting.preProcessBindings",a.h.ya);a.b("expressionRewriting._twoWayBindings",a.h.V);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.ya);(function(){function b(a){return 8==
a.nodeType&&m.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&n.test(f?a.text:a.nodeValue)}function d(a,e){for(var g=a,l=1,n=[];g=g.nextSibling;){if(c(g)&&(l--,0===l))return n;n.push(g);b(g)&&l++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=h&&"\x3c!--test--\x3e"===h.createComment("test").text,m=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
n=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.f={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},ja:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Ka(c)},T:function(c,d){if(b(c)){a.f.ja(c);for(var e=c.nextSibling,g=0,l=d.length;g<l;g++)e.parentNode.insertBefore(d[g],e)}else a.a.T(c,d)},Hb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Bb:function(c,
d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.Hb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},gc:b,xc:function(a){return(a=(f?a.text:a.nodeValue).match(m))?a[1]:null},Fb:function(d){if(l[a.a.t(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var n;n=g.firstChild;
var f=null;if(n){do if(f)f.push(n);else if(b(n)){var q=e(n,!0);q?n=q:f=[n]}else c(n)&&(f=[n]);while(n=n.nextSibling)}if(n=f)for(f=g.nextSibling,q=0;q<n.length;q++)f?d.insertBefore(n[q],f):d.appendChild(n[q])}while(g=g.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Q);a.b("virtualElements.emptyNode",a.f.ja);a.b("virtualElements.insertAfter",a.f.Bb);a.b("virtualElements.prepend",a.f.Hb);a.b("virtualElements.setDomNodeChildren",a.f.T);(function(){a.J=function(){this.Yb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.gc(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.mb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.mb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.f.xc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Yb,h=b+(e&&e.valueAccessors||""),n;if(!(n=f[h])){var l,t="with($context){with($data||{}){return{"+a.h.ya(b,e)+"}}}";l=new Function("$context","$element",t);n=f[h]=l}return n(c,d)}catch(y){throw y.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+y.message,y;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function c(a){return function(){return a}}function e(a){return a()}
function g(b){return a.a.na(a.k.B(b),function(a,c){return function(){return b()[c]}})}function f(a,b){return g(this.getBindings.bind(this,a,b))}function q(b,c,d){var e,g=a.f.firstChild(c),k=a.J.instance,l=k.preprocessNode;if(l){for(;e=g;)g=a.f.nextSibling(e),l.call(k,e);g=a.f.firstChild(c)}for(;e=g;)g=a.f.nextSibling(e),h(b,e,d)}function h(b,c,d){var e=!0,g=1===c.nodeType;g&&a.f.Fb(c);if(g&&d||a.J.instance.nodeHasBindings(c))e=l(c,null,b,d).shouldBindDescendants;e&&!y[a.a.t(c)]&&q(b,c,!g)}function n(b){var c=
[],d={},e=[];a.a.G(b,function N(g){if(!d[g]){var k=a.getBindingHandler(g);k&&(k.after&&(e.push(g),a.a.u(k.after,function(c){if(b[c]){if(-1!==a.a.m(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));N(c)}}),e.length--),c.push({key:g,zb:k}));d[g]=!0}});return c}function l(b,c,d,g){var k=a.a.e.get(b,m);if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,m,!0)}!k&&g&&a.Ob(b,d);var l;if(c&&"function"!==
typeof c)l=c;else{var t=a.J.instance,y=t.getBindingAccessors||f,q=a.j(function(){(l=c?c(d,b):y.call(t,b,d))&&d.I&&d.I();return l},null,{o:b});l&&q.Z()||(q=null)}var h;if(l){var p=q?function(a){return function(){return e(q()[a])}}:function(a){return l[a]},B=function(){return a.a.na(q?q():l,e)};B.get=function(a){return l[a]&&e(p(a))};B.has=function(a){return a in l};g=n(l);a.a.u(g,function(c){var e=c.zb.init,g=c.zb.update,k=c.key;if(8===b.nodeType&&!a.f.Q[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");
try{"function"==typeof e&&a.k.B(function(){var a=e(b,p(k),B,d.$data,d);if(a&&a.controlsDescendantBindings){if(h!==v)throw Error("Multiple bindings ("+h+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=k}}),"function"==typeof g&&a.j(function(){g(b,p(k),B,d.$data,d)},null,{o:b})}catch(n){throw n.message='Unable to process binding "'+k+": "+l[k]+'"\nMessage: '+n.message,n;}})}return{shouldBindDescendants:h===v}}
function t(b){return b&&b instanceof a.N?b:new a.N(b)}a.d={};var y={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.N=function(b,c,d,e){var g=this,k="function"==typeof b&&!a.C(b),l,n=a.j(function(){var l=k?b():b,f=a.a.c(l);c?(c.I&&c.I(),a.a.extend(g,c),n&&(g.I=n)):(g.$parents=[],g.$root=f,g.ko=a);g.$rawData=l;g.$data=f;d&&(g[d]=f);e&&e(g,c,f);return g.$data},null,{Ia:function(){return l&&!a.a.ob(l)},o:!0});n.Z()&&(g.I=n,n.equalityComparer=null,l=[],n.Tb=function(b){l.push(b);a.a.w.da(b,
function(b){a.a.ua(l,b);l.length||(n.K(),g.I=n=v)})})};a.N.prototype.createChildContext=function(b,c,d){return new a.N(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.N.prototype.extend=function(b){return new a.N(this.I||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var m=a.a.e.F(),p=a.a.e.F();a.Ob=function(b,c){if(2==arguments.length)a.a.e.set(b,p,c),
c.I&&c.I.Tb(b);else return a.a.e.get(b,p)};a.ra=function(b,c,d){1===b.nodeType&&a.f.Fb(b);return l(b,c,t(d),!0)};a.Wb=function(b,d,e){e=t(e);return a.ra(b,"function"===typeof d?g(d.bind(null,e,b)):a.a.na(d,c),e)};a.Ca=function(a,b){1!==b.nodeType&&8!==b.nodeType||q(t(a),b,!0)};a.pb=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;h(t(a),
c,!0)};a.Ha=function(b){switch(b.nodeType){case 1:case 8:var c=a.Ob(b);if(c)return c;if(b.parentNode)return a.Ha(b.parentNode)}return v};a.$b=function(b){return(b=a.Ha(b))?b.$data:v};a.b("bindingHandlers",a.d);a.b("applyBindings",a.pb);a.b("applyBindingsToDescendants",a.Ca);a.b("applyBindingAccessorsToNode",a.ra);a.b("applyBindingsToNode",a.Wb);a.b("contextFor",a.Ha);a.b("dataFor",a.$b)})();(function(b){function c(e,l){var t=f.hasOwnProperty(e)?f[e]:b,y;t||(t=f[e]=new a.P,d(e,function(a){h[e]=a;delete f[e];
y?t.notifySubscribers(a):setTimeout(function(){t.notifySubscribers(a)},0)}),y=!0);t.U(l)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a)}):b(null)})}function e(c,d,g,f){f||(f=a.g.loaders.slice(0));var q=f.shift();if(q){var h=q[c];if(h){var u=!1;if(h.apply(q,d.concat(function(a){u?g(null):null!==a?g(a):e(c,d,g,f)}))!==b&&(u=!0,!q.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");
}else e(c,d,g,f)}else g(null)}var f={},h={};a.g={get:function(a,d){var e=h.hasOwnProperty(a)?h[a]:b;e?setTimeout(function(){d(e)},0):c(a,d)},tb:function(a){delete h[a]},jb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.tb)})();(function(){function b(c,d,e,g){function k(){0===--n&&g(f)}var f={},n=2,h=e.template;e=e.viewModel;h?q(d,h,function(b){a.g.jb("loadTemplate",[c,b],function(a){f.template=a;k()})}):k();e?q(d,e,function(b){a.g.jb("loadViewModel",
[c,b],function(a){f[l]=a;k()})}):k()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});else if("function"===typeof b[l])d(b[l]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function e(b){switch(a.a.t(b)){case "script":return a.a.ba(b.text);case "textarea":return a.a.ba(b.value);case "template":if(m(b.content))return a.a.ia(b.content.childNodes)}return a.a.ia(b.childNodes)}function m(a){return d.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function q(a,b,c){"string"===typeof b.require?f||d.require?(f||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function p(a){return function(b){throw Error("Component '"+a+"': "+b);}}var n={};a.g.tc=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.Qa(b))throw Error("Component "+b+" is already registered");n[b]=c};a.g.Qa=function(a){return a in n};a.g.wc=function(b){delete n[b];a.g.tb(b)};a.g.ub={getConfig:function(a,
b){b(n.hasOwnProperty(a)?n[a]:null)},loadComponent:function(a,c,d){var e=p(a);q(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,k){b=p(b);if("string"===typeof c)k(a.a.ba(c));else if(c instanceof Array)k(c);else if(m(c))k(a.a.S(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)k(e(c));else if("string"===typeof c){var l=h.getElementById(c);l?k(e(l)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+
c)},loadViewModel:function(a,b,d){c(p(a),b,d)}};var l="createViewModel";a.b("components.register",a.g.tc);a.b("components.isRegistered",a.g.Qa);a.b("components.unregister",a.g.wc);a.b("components.defaultLoader",a.g.ub);a.g.loaders.push(a.g.ub);a.g.Ub=n})();(function(){function b(d,e){var k=d.getAttribute("params");if(k){var k=c.parseBindingsString(k,e,d,{valueAccessors:!0,bindingParams:!0}),k=a.a.na(k,function(b){return a.s(b,null,{o:d})}),f=a.a.na(k,function(b){return b.Z()?a.s(function(){return a.a.c(b())},
null,{o:d}):b.v()});f.hasOwnProperty("$raw")||(f.$raw=k);return f}return{$raw:{}}}a.g.getComponentNameForNode=function(b){b=a.a.t(b);return a.g.Qa(b)&&b};a.g.mb=function(c,d,e,f){if(1===d.nodeType){var n=a.g.getComponentNameForNode(d);if(n){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var l={name:n,params:b(d,e)};c.component=f?function(){return l}:l}}return c};var c=new a.J;9>a.a.L&&(a.g.register=function(a){return function(b){h.createElement(b);
return a.apply(this,arguments)}}(a.g.register),h.createDocumentFragment=function(b){return function(){var c=b(),d=a.g.Ub,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(h.createDocumentFragment))})();(function(){var b=0;a.d.component={init:function(c,d,e,f,h){function n(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);t=null}var l,t;a.a.w.da(c,n);a.s(function(){var e=a.a.c(d()),f,q;"string"===typeof e?f=e:(f=a.a.c(e.name),q=a.a.c(e.params));if(!f)throw Error("No component name specified");
var m=t=++b;a.g.get(f,function(b){if(t===m){n();if(!b)throw Error("Unknown component '"+f+"'");var d=b.template;if(!d)throw Error("Component '"+f+"' has no template");d=a.a.ia(d);a.f.T(c,d);var d=q,e=b.createViewModel;b=e?e.call(b,d,{element:c}):d;d=h.createChildContext(b);l=b;a.Ca(d,c)}})},null,{o:c});return{controlsDescendantBindings:!0}}};a.f.Q.component=!0})();var C={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.G(d,function(c,d){d=a.a.c(d);var e=
!1===d||null===d||d===v;e&&b.removeAttribute(c);8>=a.a.L&&c in C?(c=C[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.a.Mb(b,e?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var f=b.checked,n=p?h():f;if(!a.Y.ma()&&(!l||f)){var q=a.k.B(c);t?m!==n?(f&&(a.a.ea(q,n,!0),a.a.ea(q,m,!1)),m=n):a.a.ea(q,n,f):a.h.pa(q,d,"checked",n,!0)}}function f(){var d=a.a.c(c());b.checked=t?0<=a.a.m(d,h()):n?d:h()===d}var h=a.Ib(function(){return d.has("checkedValue")?
a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),n="checkbox"==b.type,l="radio"==b.type;if(n||l){var t=n&&a.a.c(c())instanceof Array,m=t?h():v,p=l||t;l&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.s(e,null,{o:b});a.a.n(b,"click",e);a.s(f,null,{o:b})}}};a.h.V.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.G(d,function(c,d){d=a.a.c(d);a.a.Ba(b,c,d)}):(d=String(d||""),
a.a.Ba(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.Ba(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var h=c()||{};a.a.G(h,function(n){"string"==typeof n&&a.a.n(b,n,function(b){var k,h=c()[n];if(h){try{var m=a.a.S(arguments);e=f.$data;m.unshift(e);k=h.apply(e,m)}finally{!0!==k&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(n+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={Eb:function(b){return function(){var c=b(),d=a.a.Xa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.O.Oa};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.O.Oa}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.Eb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.Eb(c),d,e,f)}};a.h.ha.foreach=!1;a.f.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(f){b.__ko_hasfocusUpdating=!0;var l=b.ownerDocument;if("activeElement"in l){var h;try{h=l.activeElement}catch(q){h=l.body}f=h===b}l=c();a.h.pa(l,d,"hasfocus",f,!0);b.__ko_hasfocusLastValue=f;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);a.a.n(b,"focus",f);a.a.n(b,"focusin",
f);a.a.n(b,"blur",h);a.a.n(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.B(a.a.oa,null,[b,d?"focusin":"focusout"]))}};a.h.V.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.V.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.$a(b,c())}};w("if");w("ifnot",!1,!0);w("with",!0,!1,function(a,b){return a.createChildContext(b)});var I={};a.d.options={init:function(b){if("select"!==
a.a.t(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.ta(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(p.length){var e=0<=a.a.m(p,a.i.q(d[0]));a.a.Nb(d[0],e);r&&!e&&a.k.B(a.a.oa,null,[b,"change"])}}var n=0!=b.length&&b.multiple?b.scrollTop:null,l=a.a.c(c()),t=d.get("optionsIncludeDestroyed");
c={};var m,p;p=b.multiple?a.a.Da(e(),a.i.q):0<=b.selectedIndex?[a.i.q(b.options[b.selectedIndex])]:[];l&&("undefined"==typeof l.length&&(l=[l]),m=a.a.ta(l,function(b){return t||b===v||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(l=a.a.c(d.get("optionsCaption")),null!==l&&l!==v&&m.unshift(I)));var r=!1;c.beforeRemove=function(a){b.removeChild(a)};l=h;d.has("optionsAfterRender")&&(l=function(b,c){h(0,c);a.k.B(d.get("optionsAfterRender"),null,[c[0],b!==I?b:v])});a.a.Za(b,m,function(c,e,l){l.length&&
(p=l[0].selected?[a.i.q(l[0])]:[],r=!0);e=b.ownerDocument.createElement("option");c===I?(a.a.bb(e,d.get("optionsCaption")),a.i.ca(e,v)):(l=f(c,d.get("optionsValue"),c),a.i.ca(e,a.a.c(l)),c=f(c,d.get("optionsText"),l),a.a.bb(e,c));return[e]},c,l);a.k.B(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.ca(b,a.a.c(d.get("value")),!0):(b.multiple?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex])!==p[0]:p.length||0<=b.selectedIndex)&&a.a.oa(b,"change")});
a.a.dc(b);n&&20<Math.abs(n-b.scrollTop)&&(b.scrollTop=n)}};a.d.options.Va=a.a.e.F();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.n(b,"change",function(){var e=c(),f=[];a.a.u(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.i.q(b))});a.h.pa(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.t(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.u(b.getElementsByTagName("option"),
function(b){var c=0<=a.a.m(d,a.i.q(b));a.a.Nb(b,c)})}};a.h.V.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.G(d,function(c,d){d=a.a.c(d);if(null===d||d===v||!1===d)d="";b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.n(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.bb(b,c())}};a.f.Q.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,f=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=b(e.match(/Firefox\/([^ ]*)/));if(10>a.a.L)var m=a.a.e.F(),n=a.a.e.F(),l=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,n))&&c(b)},t=function(b,c){var d=b.ownerDocument;a.a.e.get(d,m)||(a.a.e.set(d,m,!0),a.a.n(d,"selectionchange",
l));a.a.e.set(b,n,c)};a.d.textInput={init:function(b,d,e){function g(c,d){a.a.n(b,c,d)}function l(){var c=a.a.c(d());if(null===c||c===v)c="";r!==v&&c===r?setTimeout(l,4):b.value!==c&&(m=c,b.value=c)}function k(){p||(r=b.value,p=setTimeout(n,4))}function n(){clearTimeout(p);r=p=v;var c=b.value;m!==c&&(m=c,a.h.pa(d(),e,"textInput",c))}var m=b.value,p,r;10>a.a.L?(g("propertychange",function(a){"value"===a.propertyName&&n()}),8==a.a.L&&(g("keyup",n),g("keydown",n)),8<=a.a.L&&(t(b,n),g("dragend",k))):
(g("input",n),5>f&&"textarea"===a.a.t(b)?(g("keydown",k),g("paste",k),g("cut",k)):11>c?g("keydown",k):4>h&&(g("DOMAutoComplete",n),g("dragdrop",n),g("drop",n)));g("change",n);a.s(l,null,{o:b})}};a.h.V.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Zb;a.a.Mb(b,d)}}};a.d.uniqueName.Zb=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=
b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),h=!1,n=null;f&&("string"==typeof f&&(f=[f]),a.a.ga(e,f),e=a.a.rb(e));var l=function(){n=null;h=!1;var e=c(),f=a.i.q(b);a.h.pa(e,d,"value",f)};!a.a.L||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.m(e,"propertychange")||(a.a.n(b,"propertychange",function(){h=!0}),a.a.n(b,"focus",function(){h=!1}),a.a.n(b,"blur",function(){h&&l()}));a.a.u(e,function(c){var d=l;a.a.vc(c,
"after")&&(d=function(){n=a.i.q(b);setTimeout(l,0)},c=c.substring(5));a.a.n(b,c,d)});var m=function(){var e=a.a.c(c()),f=a.i.q(b);if(null!==n&&e===n)setTimeout(m,0);else if(e!==f)if("select"===a.a.t(b)){var l=d.get("valueAllowUnset"),f=function(){a.i.ca(b,e,l)};f();l||e===a.i.q(b)?setTimeout(f,0):a.k.B(a.a.oa,null,[b,"change"])}else a.i.ca(b,e)};a.s(m,null,{o:b})}else a.ra(b,{checkedValue:c})},update:function(){}};a.h.V.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;
d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,h)}}})("click");a.H=function(){};a.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.H.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||h;var d=
c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.r.l(d)}if(1==b.nodeType||8==b.nodeType)return new a.r.fa(b);throw Error("Unknown template type: "+b);};a.H.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.H.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.H.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,
c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.H);a.fb=function(){function b(c,d,e,g){c=a.h.Wa(c);for(var f=a.h.ha,k=0;k<c.length;k++){var h=c[k].key;if(f.hasOwnProperty(h)){var m=f[h];if("function"===typeof m){if(h=m(c[k].value))throw Error(h);}else if(!m)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.ya(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+
"')";return g.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.fb.nc(b,c)},d)},nc:function(a,e){return a.replace(c,function(a,c,d,g,f){return b(f,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},Xb:function(b,c){return a.D.Ua(function(d,
e){var g=d.nextSibling;g&&g.nodeName.toLowerCase()===c&&a.ra(g,b,e)})}}}();a.b("__tr_ambtns",a.fb.Xb);(function(){a.r={};a.r.l=function(a){this.l=a};a.r.l.prototype.text=function(){var b=a.a.t(this.l),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.l[b];var c=arguments[0];"innerHTML"===b?a.a.$a(this.l,c):this.l[b]=c};var b=a.a.e.F()+"_";a.r.l.prototype.data=function(c){if(1===arguments.length)return a.a.e.get(this.l,b+c);a.a.e.set(this.l,b+c,arguments[1])};
var c=a.a.e.F();a.r.fa=function(a){this.l=a};a.r.fa.prototype=new a.r.l;a.r.fa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.l,c)||{};b.gb===v&&b.Ga&&(b.gb=b.Ga.innerHTML);return b.gb}a.a.e.set(this.l,c,{gb:arguments[0]})};a.r.l.prototype.nodes=function(){if(0==arguments.length)return(a.a.e.get(this.l,c)||{}).Ga;a.a.e.set(this.l,c,{Ga:arguments[0]})};a.b("templateSources",a.r);a.b("templateSources.domElement",a.r.l);a.b("templateSources.anonymousTemplate",a.r.fa)})();(function(){function b(c,
d,e){var f;for(d=a.f.nextSibling(d);c&&(f=c)!==d;)c=a.f.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var f=d[0],g=d[d.length-1],h=f.parentNode,m=a.J.instance,p=m.preprocessNode;if(p){b(f,g,function(a,b){var c=a.previousSibling,d=p.call(m,a);d&&(a===f&&(f=d[0]||b),a===g&&(g=d[d.length-1]||c))});d.length=0;if(!f)return;f===g?d.push(f):(d.push(f,g),a.a.ka(d,h))}b(f,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.pb(e,b)});b(f,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.D.Sb(b,[e])});a.a.ka(d,
h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,l,h,k,m){m=m||{};var p=b&&d(b),p=p&&p.ownerDocument,r=m.templateEngine||f;a.fb.ec(h,r,p);h=r.renderTemplate(h,k,m,p);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");p=!1;switch(l){case "replaceChildren":a.f.T(b,h);p=!0;break;case "replaceNode":a.a.Lb(b,h);p=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
l);}p&&(c(h,k),m.afterRender&&a.k.B(m.afterRender,null,[h,k.$data]));return h}var f;a.ab=function(b){if(b!=v&&!(b instanceof a.H))throw Error("templateEngine must inherit from ko.templateEngine");f=b};a.Ya=function(b,c,h,k,m){h=h||{};if((h.templateEngine||f)==v)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(k){var p=d(k);return a.j(function(){var f=c&&c instanceof a.N?c:new a.N(a.a.c(c)),q=a.C(b)?b():"function"===typeof b?b(f.$data,f):b,f=e(k,m,q,f,h);
"replaceNode"==m&&(k=f,p=d(k))},null,{Ia:function(){return!p||!a.a.Ja(p)},o:p&&"replaceNode"==m?p.parentNode:p})}return a.D.Ua(function(d){a.Ya(b,c,h,d,"replaceNode")})};a.uc=function(b,d,f,g,h){function k(a,b){c(b,p);f.afterRender&&f.afterRender(b,a)}function m(c,d){p=h.createChildContext(c,f.as,function(a){a.$index=d});var g=a.C(b)?b():"function"===typeof b?b(c,p):b;return e(null,"ignoreTargetNode",g,p,f)}var p;return a.j(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.ta(b,
function(b){return f.includeDestroyed||b===v||null===b||!a.a.c(b._destroy)});a.k.B(a.a.Za,null,[g,b,m,f,k])},null,{o:g})};var h=a.a.e.F();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.f.ja(b):(d=a.f.childNodes(b),d=a.a.oc(d),(new a.r.fa(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),k;c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),k=a.a.c(c.data));
"foreach"in c?e=a.uc(g||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=a.Ya(g||b,f,c,b)):a.f.ja(b);f=e;(k=a.a.e.get(b,h))&&"function"==typeof k.K&&k.K();a.a.e.set(b,h,f&&f.Z()?f:v)}};a.h.ha.template=function(b){b=a.h.Wa(b);return 1==b.length&&b[0].unknown||a.h.lc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Q.template=!0})();a.b("setTemplateEngine",a.ab);a.b("renderTemplate",a.Ya);a.a.wb=function(a,b,c){if(a.length&&
b.length){var d,e,f,h,l;for(d=e=0;(!c||d<c)&&(h=a[e]);++e){for(f=0;l=b[f];++f)if(h.value===l.value){h.moved=l.index;l.moved=h.index;b.splice(f,1);d=f=0;break}d+=f}}};a.a.Fa=function(){function b(c,d,e,f,h){var k=Math.min,l=Math.max,m=[],p,r=c.length,w,v=d.length,x=v-r||1,A=r+v+1,z,C,E;for(p=0;p<=r;p++)for(C=z,m.push(z=[]),E=k(v,p+x),w=l(0,p-1);w<=E;w++)z[w]=w?p?c[p-1]===d[w-1]?C[w-1]:k(C[w]||A,z[w-1]||A)+1:w+1:p+1;k=[];l=[];x=[];p=r;for(w=v;p||w;)v=m[p][w]-1,w&&v===m[p][w-1]?l.push(k[k.length]={status:e,
value:d[--w],index:w}):p&&v===m[p-1][w]?x.push(k[k.length]={status:f,value:c[--p],index:p}):(--w,--p,h.sparse||k.push({status:"retained",value:d[w]}));a.a.wb(l,x,10*r);return k.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Fa);(function(){function b(c,d,e,f,h){var k=[],m=a.j(function(){var b=d(e,h,a.a.ka(k,c))||[];0<k.length&&(a.a.Lb(k,
b),f&&a.k.B(f,null,[e,b,h]));k.length=0;a.a.ga(k,b)},null,{o:c,Ia:function(){return!a.a.ob(k)}});return{$:k,j:m.Z()?m:v}}var c=a.a.e.F();a.a.Za=function(d,e,f,h,m){function l(b,c){F=w[c];E!==c&&(R[b]=F);F.Na(E++);a.a.ka(F.$,d);A.push(F);N.push(F)}function p(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.u(c[d].$,function(a){b(a,d,c[d].sa)})}e=e||[];h=h||{};var r=a.a.e.get(d,c)===v,w=a.a.e.get(d,c)||[],x=a.a.Da(w,function(a){return a.sa}),z=a.a.Fa(x,e,h.dontLimitMoves),A=[],C=0,E=0,I=[],N=[];e=
[];for(var R=[],x=[],F,L=0,P,Q;P=z[L];L++)switch(Q=P.moved,P.status){case "deleted":Q===v&&(F=w[C],F.j&&F.j.K(),I.push.apply(I,a.a.ka(F.$,d)),h.beforeRemove&&(e[L]=F,N.push(F)));C++;break;case "retained":l(L,C++);break;case "added":Q!==v?l(L,Q):(F={sa:P.value,Na:a.p(E++)},A.push(F),N.push(F),r||(x[L]=F))}p(h.beforeMove,R);a.a.u(I,h.beforeRemove?a.R:a.removeNode);for(var L=0,r=a.f.firstChild(d),S;F=N[L];L++){F.$||a.a.extend(F,b(d,f,F.sa,m,F.Na));for(C=0;z=F.$[C];r=z.nextSibling,S=z,C++)z!==r&&a.f.Bb(d,
z,S);!F.ic&&m&&(m(F.sa,F.$,F.Na),F.ic=!0)}p(h.beforeRemove,e);p(h.afterMove,R);p(h.afterAdd,x);a.a.e.set(d,c,A)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Za);a.O=function(){this.allowTemplateRewriting=!1};a.O.prototype=new a.H;a.O.prototype.renderTemplateSource=function(b){var c=(9>a.a.L?0:b.nodes)?b.nodes():null;if(c)return a.a.S(c.cloneNode(!0).childNodes);b=b.text();return a.a.ba(b)};a.O.Oa=new a.O;a.ab(a.O.Oa);a.b("nativeTemplateEngine",a.O);(function(){a.Sa=function(){var a=this.kc=
function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,
c,d);d.appendTo(h.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){h.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Sa.prototype=new a.H;var c=new a.Sa;0<c.kc&&a.ab(c);a.b("jqueryTmplTemplateEngine",a.Sa)})()})})()})();
(function(v){v.Tools={};v.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var h=16*Math.random()|0;return("x"===d?h:h&3|8).toString(16)})};v.Tools.base64Id=function(d){for(var h="",c,b=0;b<d;b++)c=62*Math.random()|0,h+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[c];return h};v.Tools.createCookie=function(d,h,c){var b="";c&&(b=new Date,b.setTime(b.getTime()+864E5*c),b="; expires="+b.toGMTString());document.cookie=d+"="+h+b+"; path=/"};
v.Tools.readCookie=function(d){d+="=";for(var h=document.cookie.split(";"),c=0;c<h.length;c++){for(var b=h[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return null};v.Tools.eraseCookie=function(d){v.Tools.createCookie(d,"",-1)}})(window.EP=window.EP||{});
(function(v,d){v.User=function(h,c){var b=this;b.uuid=c||v.Tools.uuid();b.name=d.observable("");b.displayName=d.pureComputed(function(){return b.name()||"new user"});b.estimation=d.observable(!1);b.broadcast=function(){h.emit("update",d.toJSON(b))};b.loadFromCookie=function(){v.Tools.readCookie("ep.user.name")&&v.Tools.readCookie("ep.user.uuid")&&(b.name(v.Tools.readCookie("ep.user.name")),b.uuid=v.Tools.readCookie("ep.user.uuid"))};b.saveToCookie=function(){v.Tools.createCookie("ep.user.name",b.name());
v.Tools.createCookie("ep.user.uuid",b.uuid)};b.isConnected=d.observable(!1)};v.PokerView=function(h){var c=this,b=function(){var b=c.users().map(function(b){return b.estimation()});b.push(c.localUser().estimation());return b.filter(function(b){return!1!==b})},r=function(b){return c.users().filter(function(c){return c.uuid===b})[0]},e=io.connect("/");c.initNewRound=function(){c.localUser().estimation(!1);e.emit("new round")};c.localUser=d.observable(new v.User(e));c.localUser().loadFromCookie();c.localUser().name.subscribe(function(){c.localUser().broadcast();
c.localUser().saveToCookie()});c.localUser().estimation.subscribe(function(){c.localUser().broadcast()});e.emit("join",{groupName:h,userUuid:c.localUser().uuid});c.localUser().broadcast();c.users=d.observableArray([]);c.storyTitle=d.observable("");var f=c.storyTitle.subscribe(function(){m()});c.highestEstimation=d.computed(function(){var c=b(),c=Math.max.apply(null,c);return-Infinity===c?!1:c});c.lowestEstimation=d.computed(function(){var c=b(),c=Math.min.apply(null,c);return Infinity===c?!1:c});
c.estimationsComplete=d.computed(function(){var d=b().length,e=1+c.users().length;return d===e});c.roundIsInProgress=d.computed(function(){return 0<b().length&&!c.estimationsComplete()});c.statusTitle=d.computed(function(){var b="";c.roundIsInProgress()?b="\u2026 ":c.estimationsComplete()&&(b="\u2713 ");return b+"Estimation Poker"});var m=function(){var b={storyTitle:c.storyTitle()};e.emit("update",JSON.stringify(b))},x=function(b){var d=c.users().filter(function(a){return a.uuid!==b});c.users(d)};
e.on("connect",function(){c.localUser().isConnected(!0)});e.on("disconnect",function(){c.localUser().isConnected(!1)});e.on("reconnect",function(){c.localUser().isConnected(!0)});e.on("update",function(b){b=JSON.parse(b);if(void 0!==b.uuid){var d=r(b.uuid);d||(d=new v.User(e,b.uuid),c.users.push(d));d.name(b.name);d.estimation(b.estimation)}else f.isDisposed=!0,c.storyTitle(b.storyTitle),f.isDisposed=!1});e.on("who is there",function(){c.localUser().broadcast();m()});e.on("reconnect",function(){e.emit("join",
{groupName:h,userUuid:c.localUser().uuid});c.localUser().broadcast();m()});e.on("user disconnected",function(b){x(b)});e.on("new round",function(){c.localUser().estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(v){v.bindingHandlers.estimationSelect={init:function(d,h){var c=[0,1,2,3,5,8,13,20,40,100];d.classList.add("estimation-select");for(var b=0;b<c.length;b++)d.insertAdjacentHTML("beforeend",'<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+c[b]+'">'+c[b]+"</button>");for(var r=d.querySelectorAll("button"),e=function(){var b=h();this.classList.contains("active")?b(!1):b(+this.textContent)},b=0;b<r.length;b++)r[b].addEventListener("click",e);var f=function(b){var d=
h(),e,f;e=c.indexOf(d());-1!==e?f=e+b:(1===b&&(f=0),-1===b&&(f=c.length-1));b=c[f];"undefined"!==typeof b&&d(b)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"!==b.key&&43!==b.keyCode||f(1),"-"!==b.key&&45!==b.keyCode||f(-1))})},update:function(d,h){for(var c=h(),b=d.querySelectorAll("button"),r=0;r<b.length;r++)+b[r].textContent===c()?b[r].classList.add("active"):b[r].classList.remove("active")}};v.bindingHandlers.editableText={init:function(d,
h){d.classList.add("editable-text");d.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');d.querySelector(".et-form").style.display="none";var c=function(){d.classList.remove("editing");d.querySelector(".et-display").style.display="";d.querySelector(".et-form").style.display="none";h()(d.querySelector("input").value)};
d.querySelector(".et-display").addEventListener("click",function(){d.classList.add("editing");d.querySelector(".et-display").style.display="none";d.querySelector(".et-form").style.display="";d.querySelector(".et-form input").focus()});d.querySelector("button").addEventListener("click",c);d.querySelector("input").addEventListener("keypress",function(b){13===b.keyCode&&c()});d.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(d.classList.remove("editing"),d.querySelector(".et-display").style.display=
"",d.querySelector(".et-form").style.display="none")});d.querySelector("input").addEventListener("blur",c)},update:function(d,h){var c=h();d.querySelector(".et-label").textContent=c();d.querySelector("input").value=c();c()?d.querySelector(".et-hint").style.display="none":(d.querySelector(".et-hint").textContent=d.getAttribute("data-edit-hint")||"edit",d.querySelector(".et-hint").style.display="")}};v.bindingHandlers.pageTitle={update:function(d,h){var c=h();document.title=c()}}})(window.ko);
(function(v,d){""===location.hash&&(location.hash=v.Tools.base64Id(8));var h=new v.PokerView(location.hash);d.components.register("card",{template:{element:"card"}});d.applyBindings(h)})(window.EP=window.EP||{},window.ko);

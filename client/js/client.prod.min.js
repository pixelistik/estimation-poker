!function(r){"object"==typeof exports?module.exports=r():"function"==typeof define&&define.amd?define(r):"undefined"!=typeof window?window.io=r():"undefined"!=typeof global?global.io=r():"undefined"!=typeof self&&(self.io=r())}(function(){return function c(h,e,b){function k(d,u){if(!e[d]){if(!h[d]){var s="function"==typeof require&&require;if(!u&&s)return s(d,!0);if(g)return g(d,!0);throw Error("Cannot find module '"+d+"'");}s=e[d]={exports:{}};h[d][0].call(s.exports,function(a){var b=h[d][1][a];
return k(b?b:a)},s,s.exports,c,h,e,b)}return e[d].exports}for(var g="function"==typeof require&&require,d=0;d<b.length;d++)k(b[d]);return k}({1:[function(c,h,e){h.exports=c("./lib/")},{"./lib/":2}],2:[function(c,h,e){function b(b,a){"object"==typeof b&&(a=b,b=void 0);a=a||{};var g=k(b),A=g.source,c=g.id;a.forceNew||a["force new connection"]||!1===a.multiplex?(x("ignoring socket cache for %s",A),A=d(A,a)):(u[c]||(x("new io instance for %s",A),u[c]=d(A,a)),A=u[c]);return A.socket(g.path)}var k=c("./url"),
g=c("socket.io-parser"),d=c("./manager"),x=c("debug")("socket.io-client");h.exports=e=b;var u=e.managers={};e.protocol=g.protocol;e.connect=b;e.Manager=c("./manager");e.Socket=c("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(c,h,e){function b(a,g){if(!(this instanceof b))return new b(a,g);a&&"object"==typeof a&&(g=a,a=void 0);g=g||{};g.path=g.path||"/socket.io";this.nsps={};this.subs=[];this.opts=g;this.reconnection(!1!==g.reconnection);this.reconnectionAttempts(g.reconnectionAttempts||
Infinity);this.reconnectionDelay(g.reconnectionDelay||1E3);this.reconnectionDelayMax(g.reconnectionDelayMax||5E3);this.timeout(null==g.timeout?2E4:g.timeout);this.readyState="closed";this.uri=a;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new d.Encoder;this.decoder=new d.Decoder;this.open()}c("./url");var k=c("engine.io-client"),g=c("./socket");e=c("component-emitter");var d=c("socket.io-parser"),x=c("./on"),u=c("component-bind");c("object-component");var s=c("debug")("socket.io-client:manager");
h.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};e(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;
this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){s("readyState %s",this.readyState);
if(~this.readyState.indexOf("open"))return this;s("opening %s",this.uri);var b=this.engine=k(this.uri,this.opts),A=this;this.readyState="opening";var g=x(b,"open",function(){A.onopen();a&&a()}),d=x(b,"error",function(f){s("connect_error");A.cleanup();A.readyState="closed";A.emitAll("connect_error",f);if(a){var m=Error("Connection error");m.data=f;a(m)}A.maybeReconnectOnOpen()});if(!1!==this._timeout){var f=this._timeout;s("connect attempt will timeout after %d",f);var m=setTimeout(function(){s("connect attempt timed out after %d",
f);g.destroy();b.close();b.emit("error","timeout");A.emitAll("connect_timeout",f)},f);this.subs.push({destroy:function(){clearTimeout(m)}})}this.subs.push(g);this.subs.push(d);return this};b.prototype.onopen=function(){s("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(x(a,"data",u(this,"ondata")));this.subs.push(x(this.decoder,"decoded",u(this,"ondecoded")));this.subs.push(x(a,"error",u(this,"onerror")));this.subs.push(x(a,"close",u(this,"onclose")))};
b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){s("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new g(this,a);this.nsps[a]=b;var A=this;b.on("connect",function(){A.connected++})}return b};b.prototype.destroy=function(a){--this.connected||this.close()};b.prototype.packet=function(a){s("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=
!0,this.encoder.encode(a,function(a){for(var g=0;g<a.length;g++)b.engine.write(a[g]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};b.prototype.onclose=
function(a){s("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)s("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());s("will wait %dms before reconnect attempt",b);this.reconnecting=
!0;var A=setTimeout(function(){s("attempting reconnect");a.emitAll("reconnect_attempt",a.attempts);a.emitAll("reconnecting",a.attempts);a.open(function(b){b?(s("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(s("reconnect success"),a.onreconnect())})},b);this.subs.push({destroy:function(){clearTimeout(A)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,
"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":11,"object-component":37,"socket.io-parser":40}],4:[function(c,h,e){h.exports=function(b,k,g){b.on(k,g);return{destroy:function(){b.removeListener(k,g)}}}},{}],5:[function(c,h,e){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.subEvents()}var k=c("socket.io-parser");e=c("component-emitter");var g=
c("to-array"),d=c("./on"),x=c("component-bind"),u=c("debug")("socket.io-client:socket"),s=c("has-binary-data");c("indexof");h.exports=b;var a={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},y=e.prototype.emit;e(b.prototype);b.prototype.subEvents=function(){var a=this.io;this.subs=[d(a,"open",x(this,"onopen")),d(a,"packet",x(this,"onpacket")),d(a,"close",x(this,"onclose"))]};b.prototype.open=b.prototype.connect=
function(){if(this.connected)return this;this.io.open();if("open"==this.io.readyState)this.onopen();return this};b.prototype.send=function(){var a=g(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(a.hasOwnProperty(b))return y.apply(this,arguments),this;var d=g(arguments),c=k.EVENT;s(d)&&(c=k.BINARY_EVENT);c={type:c,data:d};"function"==typeof d[d.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),c.id=this.ids++);
this.connected?this.packet(c):this.sendBuffer.push(c);return this};b.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};b.prototype.onopen=function(){u("transport is open - connecting");"/"!=this.nsp&&this.packet({type:k.CONNECT})};b.prototype.onclose=function(a){u("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case k.CONNECT:this.onconnect();break;case k.EVENT:this.onevent(a);break;case k.BINARY_EVENT:this.onevent(a);
break;case k.ACK:this.onack(a);break;case k.BINARY_ACK:this.onack(a);break;case k.DISCONNECT:this.ondisconnect();break;case k.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(a){var b=a.data||[];u("emitting event %j",b);null!=a.id&&(u("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?y.apply(this,b):this.receiveBuffer.push(b)};b.prototype.ack=function(a){var b=this,d=!1;return function(){if(!d){d=!0;var f=g(arguments);u("sending ack %j",f);var m=s(f)?k.BINARY_ACK:
k.ACK;b.packet({type:m,id:a,data:f})}}};b.prototype.onack=function(a){u("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)y.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=
[]};b.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};b.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){if(!this.connected)return this;u("performing disconnect (%s)",this.nsp);this.packet({type:k.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,
debug:9,"has-binary-data":32,indexof:36,"socket.io-parser":40,"to-array":43}],6:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},k=c("parseuri"),g=c("debug")("socket.io-client:url");h.exports=function(d,c){var e=d;c=c||b.location;null==d&&(d=c.protocol+"//"+c.hostname);"string"==typeof d&&("/"==d.charAt(0)&&"undefined"!=typeof c&&(d=c.hostname+d),/^(https?|wss?):\/\//.test(d)||(g("protocol-less url %s",d),d="undefined"!=typeof c?c.protocol+"//"+d:"https://"+
d),g("parse %s",d),e=k(d));e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443"));e.path=e.path||"/";e.id=e.protocol+"://"+e.host+":"+e.port;e.href=e.protocol+"://"+e.host+(c&&c.port==e.port?"":":"+e.port);return e}},{debug:9,parseuri:38}],7:[function(c,h,e){var b=[].slice;h.exports=function(k,g){"string"==typeof g&&(g=k[g]);if("function"!=typeof g)throw Error("bind() requires a function");var d=b.call(arguments,2);return function(){return g.apply(k,d.concat(b.call(arguments)))}}},
{}],8:[function(c,h,e){function b(k){if(k){for(var g in b.prototype)k[g]=b.prototype[g];return k}}h.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,g){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(g);return this};b.prototype.once=function(b,g){function d(){c.off(b,d);g.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};d.fn=g;this.on(b,d);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,g){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[b];if(!d)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,e=0;e<d.length;e++)if(c=d[e],c===g||c.fn===g){d.splice(e,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var g=[].slice.call(arguments,1),d=this._callbacks[b];if(d)for(var d=d.slice(0),c=0,e=d.length;c<e;++c)d[c].apply(this,
g);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(c,h,e){function b(g){return b.enabled(g)?function(d){d instanceof Error&&(d=d.stack||d.message);var c=new Date,k=c-(b[g]||c);b[g]=c;d=g+" "+d+" +"+b.humanize(k);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}h.exports=b;b.names=[];b.skips=
[];b.enable=function(g){try{localStorage.debug=g}catch(d){}for(var c=(g||"").split(/[\s,]+/),k=c.length,e=0;e<k;e++)g=c[e].replace("*",".*?"),"-"===g[0]?b.skips.push(new RegExp("^"+g.substr(1)+"$")):b.names.push(new RegExp("^"+g+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(g){for(var d=0,c=b.skips.length;d<c;d++)if(b.skips[d].test(g))return!1;d=0;for(c=b.names.length;d<
c;d++)if(b.names[d].test(g))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(k){}},{}],10:[function(c,h,e){function b(g){if(g){for(var d in b.prototype)g[d]=b.prototype[d];return g}}var k=c("indexof");h.exports=b;b.prototype.on=function(b,d){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(d);return this};b.prototype.once=function(b,d){function c(){k.off(b,c);d.apply(this,arguments)}var k=this;this._callbacks=this._callbacks||{};d._off=
c;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=function(b,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[b];if(!c)return this;if(1==arguments.length)return delete this._callbacks[b],this;var e=k(c,d._off||d);~e&&c.splice(e,1);return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),c=this._callbacks[b];if(c)for(var c=c.slice(0),
k=0,e=c.length;k<e;++k)c[k].apply(this,d);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{indexof:36}],11:[function(c,h,e){h.exports=c("./lib/")},{"./lib/":12}],12:[function(c,h,e){h.exports=c("./socket");h.exports.parser=c("engine.io-parser")},{"./socket":13,"engine.io-parser":22}],13:[function(c,h,e){function b(a,d){if(!(this instanceof b))return new b(a,d);
d=d||{};a&&"object"==typeof a&&(d=a,a=null);a&&(a=s(a),d.host=a.host,d.secure="https"==a.protocol||"wss"==a.protocol,d.port=a.port,a.query&&(d.query=a.query));this.secure=null!=d.secure?d.secure:k.location&&"https:"==location.protocol;if(d.host){var g=d.host.split(":");d.hostname=g.shift();g.length&&(d.port=g.pop())}this.agent=d.agent||!1;this.hostname=d.hostname||(k.location?location.hostname:"localhost");this.port=d.port||(k.location&&location.port?location.port:this.secure?443:80);this.query=d.query||
{};"string"==typeof this.query&&(this.query=y.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.forceBase64=!!d.forceBase64;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.open();
this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades}var k="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},g=c("./transports");e=c("component-emitter");var d=c("debug")("engine.io-client:socket"),x=c("indexof"),u=c("engine.io-parser"),s=c("parseuri"),a=c("parsejson"),y=c("parseqs");h.exports=b;b.priorWebsocketSuccess=!1;e(b.prototype);b.protocol=u.protocol;b.Socket=b;b.Transport=c("./transport");b.transports=c("./transports");b.parser=c("engine.io-parser");b.prototype.createTransport=
function(a){d('creating transport "%s"',a);var b=this.query,c={},f;for(f in b)b.hasOwnProperty(f)&&(c[f]=b[f]);c.EIO=u.protocol;c.transport=a;this.id&&(c.sid=this.id);return new g[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};b.prototype.open=function(){var a;a=this.rememberUpgrade&&
b.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";a=this.createTransport(a);a.open();this.setTransport(a)};b.prototype.setTransport=function(a){d("setting transport %s",a.name);var b=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",
function(){b.onClose("transport close")})};b.prototype.probe=function(a){function g(){if(q.onlyBinaryUpgrades){var f=!this.supportsBinary&&q.transport.supportsBinary;n=n||f}n||(d('probe transport "%s" opened',a),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(f){n||("pong"==f.type&&"probe"==f.data?(d('probe transport "%s" pong',a),q.upgrading=!0,q.emit("upgrading",t),b.priorWebsocketSuccess="websocket"==t.name,d('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){n||
"closed"==q.readyState||"closing"==q.readyState||(d("changing transport and sending upgrade packet"),C(),q.setTransport(t),t.send([{type:"upgrade"}]),q.emit("upgrade",t),t=null,q.upgrading=!1,q.flush())})):(d('probe transport "%s" failed',a),f=Error("probe error"),f.transport=t.name,q.emit("upgradeError",f)))}))}function c(){n||(n=!0,C(),t.close(),t=null)}function f(f){var b=Error("probe error: "+f);b.transport=t.name;c();d('probe transport "%s" failed because of error: %s',a,f);q.emit("upgradeError",
b)}function m(){f("transport closed")}function l(){f("socket closed")}function B(a){t&&a.name!=t.name&&(d('"%s" works - aborting "%s"',a.name,t.name),c())}function C(){t.removeListener("open",g);t.removeListener("error",f);t.removeListener("close",m);q.removeListener("close",l);q.removeListener("upgrading",B)}d('probing transport "%s"',a);var t=this.createTransport(a,{probe:1}),n=!1,q=this;b.priorWebsocketSuccess=!1;t.once("open",g);t.once("error",f);t.once("close",m);this.once("close",l);this.once("upgrading",
B);t.open()};b.prototype.onOpen=function(){d("socket open");this.readyState="open";b.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");for(var a=0,g=this.upgrades.length;a<g;a++)this.probe(this.upgrades[a])}};b.prototype.onPacket=function(b){if("opening"==this.readyState||"open"==this.readyState)switch(d('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",
b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var g=Error("server error");g.code=b.data;this.emit("error",g);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else d('packet received with socket readyState "%s"',this.readyState)};b.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=
a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};b.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};b.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};b.prototype.ping=function(){this.sendPacket("ping")};b.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};b.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&
this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};b.prototype.write=b.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};b.prototype.sendPacket=function(a,b,d){a={type:a,data:b};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(d);this.flush()};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),
d("socket closing - telling transport to close"),this.transport.close();return this};b.prototype.onError=function(a){d("socket error %j",a);b.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};b.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState){d('socket close with reason: "%s"',a);var g=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){g.writeBuffer=[];g.callbackBuffer=[];g.prevBufferLen=
0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};b.prototype.filterUpgrades=function(a){for(var b=[],d=0,f=a.length;d<f;d++)~x(this.transports,a[d])&&b.push(a[d]);return b}},{"./transport":14,"./transports":15,"component-emitter":8,debug:9,"engine.io-parser":22,indexof:36,parsejson:29,parseqs:30,parseuri:38}],14:[function(c,h,e){function b(b){this.path=b.path;this.hostname=b.hostname;
this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket}var k=c("engine.io-parser");c=c("component-emitter");h.exports=b;c(b.prototype);b.timestamps=0;b.prototype.onError=function(b,d){var c=Error(b);c.type="TransportError";c.description=d;this.emit("error",c);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState=
"opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){try{var d=k.decodePacket(b,this.socket.binaryType);this.onPacket(d)}catch(c){c.data=b,this.onError("parser decode error",
c)}};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":22}],15:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},k=c("xmlhttprequest"),g=c("./polling-xhr"),d=c("./polling-jsonp");c=c("./websocket");e.polling=function(c){var e=!1;if(b.location){var e="https:"==location.protocol,h=location.port;h||(h=e?443:80);e=c.hostname!=location.hostname||
h!=c.port}c.xdomain=e;return"open"in new k(c)&&!c.forceJSONP?new g(c):new d(c)};e.websocket=c},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(c,h,e){function b(){}function k(a){d.call(this,a);this.query=this.query||{};s||(g.___eio||(g.___eio=[]),s=g.___eio);this.index=s.length;var c=this;s.push(function(a){c.onData(a)});this.query.j=this.index;g.document&&g.addEventListener&&g.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=b)})}var g=
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},d=c("./polling");c=c("component-inherit");h.exports=k;var x=/\n/g,u=/\\n/g,s;c(k,d);k.prototype.supportsBinary=!1;k.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null);d.prototype.doClose.call(this)};k.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};k.prototype.doWrite=function(a,b){function d(){c();b()}function c(){if(g.iframe)try{g.form.removeChild(g.iframe)}catch(a){g.onError("jsonp polling iframe removal error",
a)}try{B=document.createElement('<iframe src="javascript:0" name="'+g.iframeId+'">')}catch(f){B=document.createElement("iframe"),B.name=g.iframeId,B.src="javascript:0"}B.id=g.iframeId;g.form.appendChild(B);g.iframe=B}var g=this;if(!this.form){var f=document.createElement("form"),m=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,B;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=l;f.method="POST";f.setAttribute("accept-charset",
"utf-8");m.name="d";f.appendChild(m);document.body.appendChild(f);this.form=f;this.area=m}this.form.action=this.uri();c();a=a.replace(u,"\\\n");this.area.value=a.replace(x,"\\n");try{this.form.submit()}catch(C){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==g.iframe.readyState&&d()}:this.iframe.onload=d}},{"./polling":18,"component-inherit":21}],17:[function(c,h,e){function b(){}function k(a){s.call(this,a);if(x.location){var b="https:"==location.protocol,d=location.port;
d||(d=b?443:80);this.xd=a.hostname!=x.location.hostname||d!=a.port}}function g(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.create(a.isBinary,a.supportsBinary)}function d(){for(var a in g.requests)g.requests.hasOwnProperty(a)&&g.requests[a].abort()}var x="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},u=c("xmlhttprequest"),s=c("./polling");e=c("component-emitter");var a=c("component-inherit"),
y=c("debug")("engine.io-client:polling-xhr");h.exports=k;h.exports.Request=g;a(k,s);k.prototype.supportsBinary=!0;k.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;return new g(a)};k.prototype.doWrite=function(a,b){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),f=this;d.on("success",b);d.on("error",function(a){f.onError("xhr post error",a)});this.sendXhr=d};k.prototype.doPoll=function(){y("xhr poll");
var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};e(g.prototype);g.prototype.create=function(a,b){var d=this.xhr=new u({agent:this.agent,xdomain:this.xd}),f=this;try{y("xhr open %s: %s",this.method,this.uri);d.open(this.method,this.uri,this.async);b&&(d.responseType="arraybuffer");if("POST"==this.method)try{a?d.setRequestHeader("Content-type","application/octet-stream"):d.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(m){}"withCredentials"in
d&&(d.withCredentials=!0);d.onreadystatechange=function(){var a;try{if(4!=d.readyState)return;200==d.status||1223==d.status?a="application/octet-stream"===d.getResponseHeader("Content-Type")?d.response:b?"ok":d.responseText:setTimeout(function(){f.onError(d.status)},0)}catch(m){f.onError(m)}if(null!=a)f.onData(a)};y("xhr data %s",this.data);d.send(this.data)}catch(l){setTimeout(function(){f.onError(l)},0);return}x.document&&(this.index=g.requestsCount++,g.requests[this.index]=this)};g.prototype.onSuccess=
function(){this.emit("success");this.cleanup()};g.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};g.prototype.onError=function(a){this.emit("error",a);this.cleanup()};g.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=b;try{this.xhr.abort()}catch(a){}x.document&&delete g.requests[this.index];this.xhr=null}};g.prototype.abort=function(){this.cleanup()};x.document&&(g.requestsCount=0,g.requests={},x.attachEvent?x.attachEvent("onunload",
d):x.addEventListener&&x.addEventListener("beforeunload",d))},{"./polling":18,"component-emitter":8,"component-inherit":21,debug:9,xmlhttprequest:20}],18:[function(c,h,e){function b(b){var a=b&&b.forceBase64;if(!u||a)this.supportsBinary=!1;k.call(this,b)}var k=c("../transport"),g=c("parseqs"),d=c("engine.io-parser");e=c("component-inherit");var x=c("debug")("engine.io-client:polling");h.exports=b;var u=function(){return null!=(new (c("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();
e(b,k);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=function(b){function a(){x("paused");d.readyState="paused";b()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(x("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){x("pre-pause polling complete");--c||a()}));this.writable||(x("we are currently writing - waiting to pause"),c++,this.once("drain",function(){x("pre-pause writing complete");
--c||a()}))}else a()};b.prototype.poll=function(){x("polling");this.polling=!0;this.doPoll();this.emit("poll")};b.prototype.onData=function(b){var a=this;x("polling got data %s",b);d.decodePayload(b,this.socket.binaryType,function(b,d,c){if("opening"==a.readyState)a.onOpen();if("close"==b.type)return a.onClose(),!1;a.onPacket(b)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():x('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=
function(){function b(){x("writing close packet");a.write([{type:"close"}])}var a=this;"open"==this.readyState?(x("transport open - closing"),b()):(x("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var a=this;this.writable=!1;var c=function(){a.writable=!0;a.emit("drain")},a=this;d.encodePayload(b,this.supportsBinary,function(b){a.doWrite(b,c)})};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"https":"http",d="";!1!==this.timestampRequests&&
(b[this.timestampParam]=+new Date+"-"+k.timestamps++);this.supportsBinary||b.sid||(b.b64=1);b=g.encode(b);this.port&&("https"==a&&443!=this.port||"http"==a&&80!=this.port)&&(d=":"+this.port);b.length&&(b="?"+b);return a+"://"+this.hostname+d+this.path+b}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,xmlhttprequest:20}],19:[function(c,h,e){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);k.call(this,b)}var k=c("../transport"),g=c("engine.io-parser"),d=
c("parseqs");e=c("component-inherit");var x=c("debug")("engine.io-client:websocket"),u=c("ws");h.exports=b;e(b,k);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new u(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};
this.ws.onmessage=function(a){b.onData(a.data)};this.ws.onerror=function(a){b.onError("websocket error",a)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var a=this;setTimeout(function(){k.prototype.onData.call(a,b)},0)});b.prototype.write=function(b){var a=this;this.writable=!1;for(var d=0,c=b.length;d<c;d++)g.encodePacket(b[d],this.supportsBinary,function(b){try{a.ws.send(b)}catch(d){x("websocket closed before onclose event")}});setTimeout(function(){a.writable=
!0;a.emit("drain")},0)};b.prototype.onClose=function(){k.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"wss":"ws",c="";this.port&&("wss"==a&&443!=this.port||"ws"==a&&80!=this.port)&&(c=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=d.encode(b);b.length&&(b="?"+b);return a+"://"+this.hostname+c+this.path+b};b.prototype.check=
function(){return!!u&&!("__initialize"in u&&this.name===b.prototype.name)}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,ws:31}],20:[function(c,h,e){var b=c("has-cors");h.exports=function(c){c=c.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!c||b))return new XMLHttpRequest}catch(g){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}},{"has-cors":34}],21:[function(c,h,e){h.exports=function(b,c){var g=function(){};g.prototype=c.prototype;
b.prototype=new g;b.prototype.constructor=b}},{}],22:[function(c,h,e){function b(a,b,l){if(!b)return e.encodeBase64Packet(a,l);var d=new FileReader;d.onload=function(){a.data=d.result;e.encodePacket(a,b,l)};return d.readAsArrayBuffer(a.data)}function k(a,b,l){var d=Array(a.length);l=u(a.length,l);for(var c=function(a,f,w){b(f,function(f,b){d[a]=b;w(f,d)})},g=0;g<a.length;g++)c(g,a[g],l)}var g="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};h=c("./keys");var d=c("arraybuffer.slice"),
x=c("base64-arraybuffer"),u=c("after"),s=c("utf8"),a=navigator.userAgent.match(/Android/i);e.protocol=2;var y=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},A=h(y),D={type:"error",data:"parser error"},z=c("blob");e.encodePacket=function(f,m,l){"function"==typeof m&&(l=m,m=!1);var d=void 0===f.data?void 0:f.data.buffer||f.data;if(g.ArrayBuffer&&d instanceof ArrayBuffer){if(m){d=f.data;m=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=y[f.type];for(f=0;f<m.length;f++)d[f+
1]=m[f];f=l(d.buffer)}else f=e.encodeBase64Packet(f,l);return f}if(z&&d instanceof g.Blob)return m?a?f=b(f,m,l):(m=new Uint8Array(1),m[0]=y[f.type],f=new z([m.buffer,f.data]),f=l(f)):f=e.encodeBase64Packet(f,l),f;m=y[f.type];void 0!==f.data&&(m+=s.encode(String(f.data)));return l(""+m)};e.encodeBase64Packet=function(a,b){var d="b"+e.packets[a.type];if(z&&a.data instanceof z){var c=new FileReader;c.onload=function(){var a=c.result.split(",")[1];b(d+a)};return c.readAsDataURL(a.data)}var C;try{C=String.fromCharCode.apply(null,
new Uint8Array(a.data))}catch(t){C=new Uint8Array(a.data);for(var n=Array(C.length),q=0;q<C.length;q++)n[q]=C[q];C=String.fromCharCode.apply(null,n)}d+=g.btoa(C);return b(d)};e.decodePacket=function(a,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return e.decodeBase64Packet(a.substr(1),b);a=s.decode(a);var l=a.charAt(0);return Number(l)==l&&A[l]?1<a.length?{type:A[l],data:a.substring(1)}:{type:A[l]}:D}var l=(new Uint8Array(a))[0],c=d(a,1);z&&"blob"===b&&(c=new z([c]));return{type:A[l],
data:c}};e.decodeBase64Packet=function(a,b){var d=A[a.charAt(0)];if(!g.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var c=x.decode(a.substr(1));"blob"===b&&z&&(c=new z([c]));return{type:d,data:c}};e.encodePayload=function(b,m,d){"function"==typeof m&&(d=m,m=null);if(m)return z&&!a?e.encodePayloadAsBlob(b,d):e.encodePayloadAsArrayBuffer(b,d);if(!b.length)return d("0:");k(b,function(a,b){e.encodePacket(a,m,function(a){b(null,a.length+":"+a)})},function(a,b){return d(b.join(""))})};e.decodePayload=
function(a,b,d){if("string"!=typeof a)return e.decodePayloadAsBinary(a,b,d);"function"===typeof b&&(d=b,b=null);var c;if(""==a)return d(D,0,1);c="";for(var g,t,n=0,q=a.length;n<q;n++)if(t=a.charAt(n),":"!=t)c+=t;else{if(""==c||c!=(g=Number(c)))return d(D,0,1);t=a.substr(n+1,g);if(c!=t.length)return d(D,0,1);if(t.length){c=e.decodePacket(t,b);if(D.type==c.type&&D.data==c.data)return d(D,0,1);if(!1===d(c,n+g,q))return}n+=g;c=""}if(""!=c)return d(D,0,1)};e.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));
k(a,function(a,b){e.encodePacket(a,!0,function(a){return b(null,a)})},function(a,f){var d=f.reduce(function(a,b){var f;f="string"===typeof b?b.length:b.byteLength;return a+f.toString().length+f+2},0),c=new Uint8Array(d),g=0;f.forEach(function(a){var b="string"===typeof a,f=a;if(b){for(var f=new Uint8Array(a.length),d=0;d<a.length;d++)f[d]=a.charCodeAt(d);f=f.buffer}b?c[g++]=0:c[g++]=1;a=f.byteLength.toString();for(d=0;d<a.length;d++)c[g++]=parseInt(a[d]);c[g++]=255;f=new Uint8Array(f);for(d=0;d<f.length;d++)c[g++]=
f[d]});return b(c.buffer)})};e.encodePayloadAsBlob=function(a,b){k(a,function(a,b){e.encodePacket(a,!0,function(a){var f=new Uint8Array(1);f[0]=1;if("string"===typeof a){for(var d=new Uint8Array(a.length),m=0;m<a.length;m++)d[m]=a.charCodeAt(m);a=d.buffer;f[0]=0}for(var d=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),w=new Uint8Array(d.length+1),m=0;m<d.length;m++)w[m]=parseInt(d[m]);w[d.length]=255;z&&(a=new z([f.buffer,w.buffer,a]),b(null,a))})},function(a,f){return b(new z(f))})};e.decodePayloadAsBinary=
function(a,b,c){"function"===typeof b&&(c=b,b=null);for(var g=[];0<a.byteLength;){for(var C=new Uint8Array(a),t=0===C[0],n="",q=1;255!=C[q];q++)n+=C[q];a=d(a,2+n.length);n=parseInt(n);C=d(a,0,n);if(t)try{C=String.fromCharCode.apply(null,new Uint8Array(C))}catch(w){for(t=new Uint8Array(C),C="",q=0;q<t.length;q++)C+=String.fromCharCode(t[q])}g.push(C);a=d(a,n)}var p=g.length;g.forEach(function(a,f){c(e.decodePacket(a,b),f,p)})}},{"./keys":23,after:24,"arraybuffer.slice":25,"base64-arraybuffer":26,blob:27,
utf8:28}],23:[function(c,h,e){h.exports=Object.keys||function(b){var c=[],g=Object.prototype.hasOwnProperty,d;for(d in b)g.call(b,d)&&c.push(d);return c}},{}],24:[function(c,h,e){function b(){}h.exports=function(c,g,d){function e(b,a){if(0>=e.count)throw Error("after called too many times");--e.count;b?(h=!0,g(b),g=d):0!==e.count||h||g(null,a)}var h=!1;d=d||b;e.count=c;return 0===c?g():e}},{}],25:[function(c,h,e){h.exports=function(b,c,g){var d=b.byteLength;c=c||0;g=g||d;if(b.slice)return b.slice(c,
g);0>c&&(c+=d);0>g&&(g+=d);g>d&&(g=d);if(c>=d||c>=g||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);for(var d=new Uint8Array(g-c),e=0;c<g;c++,e++)d[e]=b[c];return d.buffer}},{}],26:[function(c,h,e){(function(b){e.encode=function(c){c=new Uint8Array(c);var g,d=c.length,e="";for(g=0;g<d;g+=3)e+=b[c[g]>>2],e+=b[(c[g]&3)<<4|c[g+1]>>4],e+=b[(c[g+1]&15)<<2|c[g+2]>>6],e+=b[c[g+2]&63];2===d%3?e=e.substring(0,e.length-1)+"=":1===d%3&&(e=e.substring(0,e.length-2)+"==");return e};e.decode=function(c){var g=
.75*c.length,d=c.length,e=0,h,s,a,y;"="===c[c.length-1]&&(g--,"="===c[c.length-2]&&g--);for(var A=new ArrayBuffer(g),D=new Uint8Array(A),g=0;g<d;g+=4)h=b.indexOf(c[g]),s=b.indexOf(c[g+1]),a=b.indexOf(c[g+2]),y=b.indexOf(c[g+3]),D[e++]=h<<2|s>>4,D[e++]=(s&15)<<4|a>>2,D[e++]=(a&3)<<6|y&63;return A}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],27:[function(c,h,e){function b(b,d){d=d||{};for(var c=new k,a=0;a<b.length;a++)c.append(b[a]);return d.type?c.getBlob(d.type):c.getBlob()}
c="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var k=c.BlobBuilder||c.WebKitBlobBuilder||c.MSBlobBuilder||c.MozBlobBuilder,g;try{g=2==(new Blob(["hi"])).size}catch(d){g=!1}e=k&&k.prototype.append&&k.prototype.getBlob;g=g?c.Blob:e?b:void 0;h.exports=g},{}],28:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};(function(c){function g(a){for(var b=[],f=0,d=a.length,c,g;f<d;)c=a.charCodeAt(f++),55296<=c&&56319>=c&&f<d?(g=a.charCodeAt(f++),
56320==(g&64512)?b.push(((c&1023)<<10)+(g&1023)+65536):(b.push(c),f--)):b.push(c);return b}function d(){if(z>=D)throw Error("Invalid byte index");var a=A[z]&255;z++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function x(){var a,b,f,c;if(z>D)throw Error("Invalid byte index");if(z==D)return!1;a=A[z]&255;z++;if(0==(a&128))return a;if(192==(a&224)){b=d();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=d();f=d();a=(a&15)<<12|b<<6|
f;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=d(),f=d(),c=d(),a=(a&15)<<18|b<<12|f<<6|c,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var u="object"==typeof e&&e,s="object"==typeof h&&h&&h.exports==u&&h,a="object"==typeof b&&b;if(a.global===a||a.window===a)c=a;var y=String.fromCharCode,A,D,z,a={version:"2.0.0",encode:function(a){a=g(a);for(var b=a.length,f=-1,d,c="";++f<b;){d=a[f];if(0==(d&4294967168))d=y(d);else{var n="";0==(d&4294965248)?
n=y(d>>6&31|192):0==(d&4294901760)?(n=y(d>>12&15|224),n+=y(d>>6&63|128)):0==(d&4292870144)&&(n=y(d>>18&7|240),n+=y(d>>12&63|128),n+=y(d>>6&63|128));d=n+=y(d&63|128)}c+=d}return c},decode:function(a){A=g(a);D=A.length;z=0;a=[];for(var b;!1!==(b=x());)a.push(b);b=a.length;for(var f=-1,d,c="";++f<b;)d=a[f],65535<d&&(d-=65536,c+=y(d>>>10&1023|55296),d=56320|d&1023),c+=y(d);return c}};if(u&&!u.nodeType)if(s)s.exports=a;else{c={}.hasOwnProperty;for(var f in a)c.call(a,f)&&(u[f]=a[f])}else c.utf8=a})(this)},
{}],29:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},k=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,x=/(?:^|:|,)(?:\s*\[)+/g,u=/^\s+/,s=/\s+$/;h.exports=function(a){if("string"!=typeof a||!a)return null;a=a.replace(u,"").replace(s,"");if(b.JSON&&JSON.parse)return JSON.parse(a);if(k.test(a.replace(g,"@").replace(d,"]").replace(x,"")))return(new Function("return "+a))()}},{}],
30:[function(c,h,e){e.encode=function(b){var c="",g;for(g in b)b.hasOwnProperty(g)&&(c.length&&(c+="&"),c+=encodeURIComponent(g)+"="+encodeURIComponent(b[g]));return c};e.decode=function(b){var c={};b=b.split("&");for(var g=0,d=b.length;g<d;g++){var e=b[g].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}},{}],31:[function(c,h,e){function b(b,d,c){return d?new k(b,d):new k(b)}c=function(){return this}();var k=c.WebSocket||c.MozWebSocket;h.exports=k?b:null;k&&(b.prototype=k.prototype)},
{}],32:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},k=c("isarray");h.exports=function(c){function d(c){if(!c)return!1;if(b.Buffer&&Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(k(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&(c=c.toJSON()),c)if(d(c[g]))return!0;return!1}return d(c)}},{isarray:33}],33:[function(c,h,e){h.exports=
Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],34:[function(c,h,e){c=c("global");try{h.exports="XMLHttpRequest"in c&&"withCredentials"in new c.XMLHttpRequest}catch(b){h.exports=!1}},{global:35}],35:[function(c,h,e){h.exports=function(){return this}()},{}],36:[function(c,h,e){var b=[].indexOf;h.exports=function(c,g){if(b)return c.indexOf(g);for(var d=0;d<c.length;++d)if(c[d]===g)return d;return-1}},{}],37:[function(c,h,e){var b=Object.prototype.hasOwnProperty;
e.keys=Object.keys||function(c){var g=[],d;for(d in c)b.call(c,d)&&g.push(d);return g};e.values=function(c){var g=[],d;for(d in c)b.call(c,d)&&g.push(c[d]);return g};e.merge=function(c,g){for(var d in g)b.call(g,d)&&(c[d]=g[d]);return c};e.length=function(b){return e.keys(b).length};e.isEmpty=function(b){return 0==e.length(b)}},{}],38:[function(c,h,e){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
k="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(c){c=b.exec(c||"");for(var d={},e=14;e--;)d[k[e]]=c[e]||"";return d}},{}],39:[function(c,h,e){function b(b){return k.Buffer&&Buffer.isBuffer(b)||k.ArrayBuffer&&b instanceof ArrayBuffer}var k="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},g=c("isarray");e.deconstructPacket=function(b){function c(b){if(!b)return b;if(k.Buffer&&Buffer.isBuffer(b)||
k.ArrayBuffer&&b instanceof ArrayBuffer){var a={_placeholder:!0,num:e.length};e.push(b);return a}if(g(b)){for(var a=Array(b.length),d=0;d<b.length;d++)a[d]=c(b[d]);return a}if("object"==typeof b&&!(b instanceof Date)){a={};for(d in b)a[d]=c(b[d]);return a}return b}var e=[];b.data=c(b.data);b.attachments=e.length;return{packet:b,buffers:e}};e.reconstructPacket=function(b,c){function e(b){if(b&&b._placeholder)return c[b.num];if(g(b))for(var a=0;a<b.length;a++)b[a]=e(b[a]);else if(b&&"object"==typeof b)for(a in b)b[a]=
e(b[a]);return b}b.data=e(b.data);b.attachments=void 0;return b};e.removeBlobs=function(c,e){function h(c,d,D){if(!c)return c;if(k.Blob&&c instanceof Blob||k.File&&c instanceof File){s++;var z=new FileReader;z.onload=function(){D?D[d]=this.result:a=this.result;--s||e(a)};z.readAsArrayBuffer(c)}if(g(c))for(z=0;z<c.length;z++)h(c[z],z,c);else if(c&&"object"==typeof c&&!b(c))for(var f in c)h(c[f],f,c)}var s=0,a=c;h(a);s||e(a)}},{isarray:41}],40:[function(c,h,e){function b(){}function k(b){var c,d=!1;
c=""+b.type;if(e.BINARY_EVENT==b.type||e.BINARY_ACK==b.type)c+=b.attachments,c+="-";b.nsp&&"/"!=b.nsp&&(d=!0,c+=b.nsp);null!=b.id&&(d&&(c+=",",d=!1),c+=b.id);null!=b.data&&(d&&(c+=","),c+=a.stringify(b.data));s("encoded %j as %s",b,c);return c}function g(a,b){y.removeBlobs(a,function(a){var f=y.deconstructPacket(a);a=k(f.packet);f=f.buffers;f.unshift(a);b(f)})}function d(){this.reconstructor=null}function x(a){this.reconPack=a;this.buffers=[]}var u="undefined"!==typeof self?self:"undefined"!==typeof window?
window:{},s=c("debug")("socket.io-parser"),a=c("json3");c("isarray");h=c("emitter");var y=c("./binary");e.protocol=3;e.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");e.CONNECT=0;e.DISCONNECT=1;e.EVENT=2;e.ACK=3;e.ERROR=4;e.BINARY_EVENT=5;e.BINARY_ACK=6;e.Encoder=b;b.prototype.encode=function(a,b){s("encoding packet %j",a);if(e.BINARY_EVENT==a.type||e.BINARY_ACK==a.type)g(a,b);else{var c=k(a);b([c])}};e.Decoder=d;h(d.prototype);d.prototype.add=function(b){if("string"==
typeof b){a:{var c={},d=0;c.type=Number(b.charAt(0));if(null==e.types[c.type])b={type:e.ERROR,data:"parser error"};else{if(e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type){for(c.attachments="";"-"!=b.charAt(++d);)c.attachments+=b.charAt(d);c.attachments=Number(c.attachments)}if("/"==b.charAt(d+1))for(c.nsp="";++d;){var f=b.charAt(d);if(","==f)break;c.nsp+=f;if(d+1==b.length)break}else c.nsp="/";f=b.charAt(d+1);if(""!=f&&Number(f)==f){for(c.id="";++d;){f=b.charAt(d);if(null==f||Number(f)!=f){--d;break}c.id+=
b.charAt(d);if(d+1==b.length)break}c.id=Number(c.id)}if(b.charAt(++d))try{c.data=a.parse(b.substr(d))}catch(m){b={type:e.ERROR,data:"parser error"};break a}s("decoded %s as %j",b,c);b=c}}e.BINARY_EVENT==b.type||e.BINARY_ACK==b.type?(this.reconstructor=new x(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(u.Buffer&&Buffer.isBuffer(b)||u.ArrayBuffer&&b instanceof ArrayBuffer||b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=
null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};x.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=y.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};x.prototype.finishedReconstruction=function(){this.reconPack=null;
this.buffers=[]}},{"./binary":39,debug:9,emitter:10,isarray:41,json3:42}],41:[function(c,h,e){h.exports=c(33)},{}],42:[function(c,h,e){(function(b){function c(b){if(c[b]!==u)return c[b];var f;if("bug-string-char-index"==b)f="a"!="a"[0];else if("json"==b)f=c("json-stringify")&&c("json-parse");else{var d;if("json-stringify"==b){f=a.stringify;var w="function"==typeof f&&y;if(w){(d=function(){return 1}).toJSON=d;try{w="0"===f(0)&&"0"===f(new Number)&&'""'==f(new String)&&f(g)===u&&f(u)===u&&f()===u&&
"1"===f(d)&&"[1]"==f([d])&&"[null]"==f([u])&&"null"==f(null)&&"[null,null,null]"==f([u,g,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==f({a:[d,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,d)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new Date(-1))}catch(m){w=!1}}f=w}if("json-parse"==b){f=a.parse;
if("function"==typeof f)try{if(0===f("0")&&!f(!1)){d=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var p=5==d.a.length&&1===d.a[0];if(p){try{p=!f('"\t"')}catch(l){}if(p)try{p=1!==f("01")}catch(n){}if(p)try{p=1!==f("1.")}catch(e){}}}}catch(B){p=!1}f=p}}return c[b]=!!f}var g={}.toString,d,h,u,s="object"==typeof JSON&&JSON,a="object"==typeof e&&e&&!e.nodeType&&e;a&&s?(a.stringify=s.stringify,a.parse=s.parse):a=b.JSON=s||{};var y=new Date(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&
0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(A){}if(!c("json")){var D=c("bug-string-char-index");if(!y)var z=Math.floor,f=[0,31,59,90,120,151,181,212,243,273,304,334],m=function(a,b){return f[b]+365*(a-1970)+z((a-1969+(b=+(1<b)))/4)-z((a-1901+b)/100)+z((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(a){var b={},f;(b.__proto__=null,b.__proto__={toString:1},b).toString!=g?d=function(a){var b=this.__proto__;
a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(f=b.constructor,d=function(a){var b=(this.constructor||f).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return d.call(this,a)});var l={"boolean":1,number:1,string:1,undefined:1};h=function(a,b){var f=0,c,w,m;(c=function(){this.valueOf=0}).prototype.valueOf=0;w=new c;for(m in w)d.call(w,m)&&f++;c=w=null;f?h=2==f?function(a,b){var f={},c="[object Function]"==g.call(a),w;for(w in a)c&&"prototype"==w||d.call(f,w)||!(f[w]=1)||
!d.call(a,w)||b(w)}:function(a,b){var f="[object Function]"==g.call(a),c,w;for(c in a)f&&"prototype"==c||!d.call(a,c)||(w="constructor"===c)||b(c);(w||d.call(a,c="constructor"))&&b(c)}:(w="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),h=function(a,b){var f="[object Function]"==g.call(a),c,m;if(m=!f&&"function"!=typeof a.constructor)m=typeof a.hasOwnProperty,m="object"==m?!!a.hasOwnProperty:!l[m];m=m?a.hasOwnProperty:d;for(c in a)f&&"prototype"==
c||!m.call(a,c)||b(c);for(f=w.length;c=w[--f];m.call(a,c)&&b(c));});return h(a,b)};if(!c("json-stringify")){var B={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(a,b){return("000000"+(b||0)).slice(-a)},t=function(a){var b='"',f=0,c=a.length,d=10<c&&D,w;for(d&&(w=a.split(""));f<c;f++){var m=a.charCodeAt(f);switch(m){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=B[m];break;default:if(32>m){b+="\\u00"+C(2,m.toString(16));break}b+=d?w[f]:D?a.charAt(f):a[f]}}return b+
'"'},n=function(a,b,f,c,w,p,l){var e,B,E,q,v,H,I,k,J;try{e=b[a]}catch(F){}if("object"==typeof e&&e)if(B=g.call(e),"[object Date]"!=B||d.call(e,"toJSON"))"function"==typeof e.toJSON&&("[object Number]"!=B&&"[object String]"!=B&&"[object Array]"!=B||d.call(e,"toJSON"))&&(e=e.toJSON(a));else if(e>-1/0&&e<1/0){if(m){q=z(e/864E5);for(B=z(q/365.2425)+1970-1;m(B+1,0)<=q;B++);for(E=z((q-m(B,0))/30.42);m(B,E+1)<=q;E++);q=1+q-m(B,E);v=(e%864E5+864E5)%864E5;H=z(v/36E5)%24;I=z(v/6E4)%60;k=z(v/1E3)%60;v%=1E3}else B=
e.getUTCFullYear(),E=e.getUTCMonth(),q=e.getUTCDate(),H=e.getUTCHours(),I=e.getUTCMinutes(),k=e.getUTCSeconds(),v=e.getUTCMilliseconds();e=(0>=B||1E4<=B?(0>B?"-":"+")+C(6,0>B?-B:B):C(4,B))+"-"+C(2,E+1)+"-"+C(2,q)+"T"+C(2,H)+":"+C(2,I)+":"+C(2,k)+"."+C(3,v)+"Z"}else e=null;f&&(e=f.call(b,a,e));if(null===e)return"null";B=g.call(e);if("[object Boolean]"==B)return""+e;if("[object Number]"==B)return e>-1/0&&e<1/0?""+e:"null";if("[object String]"==B)return t(""+e);if("object"==typeof e){for(a=l.length;a--;)if(l[a]===
e)throw TypeError();l.push(e);J=[];b=p;p+=w;if("[object Array]"==B){E=0;for(a=e.length;E<a;E++)B=n(E,e,f,c,w,p,l),J.push(B===u?"null":B);a=J.length?w?"[\n"+p+J.join(",\n"+p)+"\n"+b+"]":"["+J.join(",")+"]":"[]"}else h(c||e,function(a){var b=n(a,e,f,c,w,p,l);b!==u&&J.push(t(a)+":"+(w?" ":"")+b)}),a=J.length?w?"{\n"+p+J.join(",\n"+p)+"\n"+b+"}":"{"+J.join(",")+"}":"{}";l.pop();return a}};a.stringify=function(a,b,f){var c,d,w,m;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(m=
g.call(b)))d=b;else if("[object Array]"==m){w={};for(var p=0,l=b.length,e;p<l;e=b[p++],(m=g.call(e),"[object String]"==m||"[object Number]"==m)&&(w[e]=1));}if(f)if("[object Number]"==(m=g.call(f))){if(0<(f-=f%1))for(c="",10<f&&(f=10);c.length<f;c+=" ");}else"[object String]"==m&&(c=10>=f.length?f:f.slice(0,10));return n("",(e={},e[""]=a,e),d,w,c,"",[])}}if(!c("json-parse")){var q=String.fromCharCode,w={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,E,v=function(){p=E=null;throw SyntaxError();
},H=function(){for(var a=E,b=a.length,f,c,d,m,l;p<b;)switch(l=a.charCodeAt(p),l){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return f=D?a.charAt(p):a[p],p++,f;case 34:f="@";for(p++;p<b;)if(l=a.charCodeAt(p),32>l)v();else if(92==l)switch(l=a.charCodeAt(++p),l){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:f+=w[l];p++;break;case 117:c=++p;for(d=p+4;p<d;p++)l=a.charCodeAt(p),48<=l&&57>=l||97<=l&&102>=l||65<=l&&70>=l||v();f+=q("0x"+
a.slice(c,p));break;default:v()}else{if(34==l)break;l=a.charCodeAt(p);for(c=p;32<=l&&92!=l&&34!=l;)l=a.charCodeAt(++p);f+=a.slice(c,p)}if(34==a.charCodeAt(p))return p++,f;v();default:c=p;45==l&&(m=!0,l=a.charCodeAt(++p));if(48<=l&&57>=l){for(48==l&&(l=a.charCodeAt(p+1),48<=l&&57>=l)&&v();p<b&&(l=a.charCodeAt(p),48<=l&&57>=l);p++);if(46==a.charCodeAt(p)){for(d=++p;d<b&&(l=a.charCodeAt(d),48<=l&&57>=l);d++);d==p&&v();p=d}l=a.charCodeAt(p);if(101==l||69==l){l=a.charCodeAt(++p);43!=l&&45!=l||p++;for(d=
p;d<b&&(l=a.charCodeAt(d),48<=l&&57>=l);d++);d==p&&v();p=d}return+a.slice(c,p)}m&&v();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,null;v()}return"$"},I=function(a){var b,f;"$"==a&&v();if("string"==typeof a){if("@"==(D?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;f||(f=!0)){a=H();if("]"==a)break;f&&(","==a?(a=H(),"]"==a&&v()):v());","==a&&v();b.push(I(a))}return b}if("{"==a){for(b={};;f||(f=!0)){a=H();if("}"==
a)break;f&&(","==a?(a=H(),"}"==a&&v()):v());","!=a&&"string"==typeof a&&"@"==(D?a.charAt(0):a[0])&&":"==H()||v();b[a.slice(1)]=I(H())}return b}v()}return a},J=function(a,b,f){f=F(a,b,f);f===u?delete a[b]:a[b]=f},F=function(a,b,f){var c=a[b],d;if("object"==typeof c&&c)if("[object Array]"==g.call(c))for(d=c.length;d--;)J(c,d,f);else h(c,function(a){J(c,a,f)});return f.call(a,b,c)};a.parse=function(a,b){var f,c;p=0;E=""+a;f=I(H());"$"!=H()&&v();p=E=null;return b&&"[object Function]"==g.call(b)?F((c=
{},c[""]=f,c),"",b):f}}}})(this)},{}],43:[function(c,h,e){h.exports=function(b,c){for(var e=[],d=(c=c||0)||0;d<b.length;d++)e[d-c]=b[d];return e}},{}]},{},[1])(1)});
(function(){(function(r){var c=this||(0,eval)("this"),h=c.document,e=c.navigator,b=c.jQuery,k=c.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],b):b(c.ko={})})(function(g){function d(a,b){return null===a||typeof a in y?a===b:!1}function x(a,b){var c;return function(){c||(c=setTimeout(function(){c=r;a()},b))}}function u(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function s(b,c,d,e){a.d[b]={init:function(b,f,g,q,w){var p,E;a.ba(function(){var g=a.a.c(f()),n=!d!==!g,q=!E;if(q||c||n!==p)q&&a.ca.fa()&&(E=a.a.lb(a.e.childNodes(b),!0)),n?(q||a.e.U(b,a.a.lb(E)),a.gb(e?e(w,g):w,b)):a.e.da(b),p=n},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a="undefined"!==typeof g?g:{};a.b=function(b,c){for(var d=b.split("."),e=a,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};a.s=function(a,b,c){a[b]=c};a.version="3.1.0";
a.b("version",a.version);a.a=function(){function f(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f])}function d(a,b){if(b)for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a}function l(a,b){a.__proto__=b;return a}var g={__proto__:[]}instanceof Array,C={},t={};C[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];C.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");f(C,function(a,b){if(b.length)for(var f=
0,c=b.length;f<c;f++)t[b[f]]=a});var n={propertychange:!0},q=h&&function(){for(var a=3,b=h.createElement("div"),f=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",f[0];);return 4<a?a:r}();return{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var f=0,c=a.length;f<c;f++)b(a[f],f)},l:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var f=0,c=a.length;f<c;f++)if(a[f]===
b)return f;return-1},hb:function(a,b,f){for(var c=0,d=a.length;c<d;c++)if(b.call(f,a[c],c))return a[c];return null},ma:function(b,f){var c=a.a.l(b,f);0<c?b.splice(c,1):0===c&&b.shift()},ib:function(b){b=b||[];for(var f=[],c=0,d=b.length;c<d;c++)0>a.a.l(f,b[c])&&f.push(b[c]);return f},ya:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)f.push(b(a[c],c));return f},la:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)b(a[c],c)&&f.push(a[c]);return f},$:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var f=0,c=b.length;f<c;f++)a.push(b[f]);return a},Y:function(b,f,c){var d=a.a.l(a.a.Sa(b),f);0>d?c&&b.push(f):c||b.splice(d,1)},na:g,extend:d,ra:l,sa:g?l:d,A:f,Oa:function(a,b){if(!a)return a;var f={},c;for(c in a)a.hasOwnProperty(c)&&(f[c]=b(a[c],c,a));return f},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var f=h.createElement("div"),c=0,d=b.length;c<d;c++)f.appendChild(a.M(b[c]));return f},lb:function(b,f){for(var c=0,d=b.length,m=[];c<
d;c++){var l=b[c].cloneNode(!0);m.push(f?a.M(l):l)}return m},U:function(b,f){a.a.Fa(b);if(f)for(var c=0,d=f.length;c<d;c++)b.appendChild(f[c])},Bb:function(b,f){var c=b.nodeType?[b]:b;if(0<c.length){for(var d=c[0],m=d.parentNode,l=0,e=f.length;l<e;l++)m.insertBefore(f[l],d);l=0;for(e=c.length;l<e;l++)a.removeNode(c[l])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var f=a[0],c=a[a.length-1];for(a.length=0;f!==c;)if(a.push(f),
f=f.nextSibling,!f)return;a.push(c)}}return a},Db:function(a,b){7>q?a.setAttribute("selected",b):a.selected=b},ta:function(a){return null===a||a===r?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(b,f){for(var c=[],d=(b||"").split(f),m=0,l=d.length;m<l;m++){var e=a.a.ta(d[m]);""!==e&&c.push(e)}return c},kc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===
a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(f,c,d){var m=q&&n[c];if(!m&&b)b(f).bind(c,d);else if(m||"function"!=typeof f.addEventListener)if("undefined"!=typeof f.attachEvent){var l=function(a){d.call(f,a)},e="on"+c;f.attachEvent(e,
l);a.a.u.ja(f,function(){f.detachEvent(e,l)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else f.addEventListener(c,d,!1)},ha:function(f,d){if(!f||!f.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var m;"input"===a.a.B(f)&&f.type&&"click"==d.toLowerCase()?(m=f.type,m="checkbox"==m||"radio"==m):m=!1;if(b&&!m)b(f).trigger(d);else if("function"==typeof h.createEvent)if("function"==typeof f.dispatchEvent)m=h.createEvent(t[d]||"HTMLEvents"),
m.initEvent(d,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,f),f.dispatchEvent(m);else throw Error("The supplied element doesn't support dispatchEvent");else if(m&&f.click)f.click();else if("undefined"!=typeof f.fireEvent)f.fireEvent("on"+d);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,f,c){if(f){var d=/\S+/g,m=b.className.match(d)||[];a.a.r(f.match(d),function(b){a.a.Y(m,b,c)});b.className=m.join(" ")}},Xa:function(b,
f){var c=a.a.c(f);if(null===c||c===r)c="";var d=a.e.firstChild(b);!d||3!=d.nodeType||a.e.nextSibling(d)?a.e.U(b,[b.ownerDocument.createTextNode(c)]):d.data=c;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=q)try{a.mergeAttributes(h.createElement("<input name='"+a.name+"'/>"),!1)}catch(f){}},Vb:function(a){9<=q&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(q){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,f){b=a.a.c(b);f=a.a.c(f);for(var c=
[],d=b;d<=f;d++)c.push(d);return c},R:function(a){for(var b=[],f=0,c=a.length;f<c;f++)b.push(a[f]);return b},mc:6===q,nc:7===q,oa:q,ob:function(b,f){for(var c=a.a.R(b.getElementsByTagName("input")).concat(a.a.R(b.getElementsByTagName("textarea"))),d="string"==typeof f?function(a){return a.name===f}:function(a){return f.test(a.name)},m=[],l=c.length-1;0<=l;l--)d(c[l])&&m.push(c[l]);return m},fc:function(b){return"string"==typeof b&&(b=a.a.ta(b))?k&&k.parse?k.parse(b):(new Function("return "+b))():
null},Ya:function(b,f,c){if(!k||!k.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return k.stringify(a.a.c(b),f,c)},gc:function(b,c,d){d=d||{};var m=d.params||{},l=d.includeFields||this.mb,e=b;if("object"==typeof b&&"form"===a.a.B(b))for(var e=b.action,g=l.length-1;0<=g;g--)for(var n=a.a.ob(b,l[g]),B=n.length-1;0<=B;B--)m[n[B].name]=
n[B].value;c=a.a.c(c);var q=h.createElement("form");q.style.display="none";q.action=e;q.method="post";for(var t in c)b=h.createElement("input"),b.name=t,b.value=a.a.Ya(a.a.c(c[t])),q.appendChild(b);f(m,function(a,b){var f=h.createElement("input");f.name=a;f.value=b;q.appendChild(f)});h.body.appendChild(q);d.submitter?d.submitter(q):q.submit();setTimeout(function(){q.parentNode.removeChild(q)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.hb);a.b("utils.arrayFilter",
a.a.la);a.b("utils.arrayGetDistinctValues",a.a.ib);a.b("utils.arrayIndexOf",a.a.l);a.b("utils.arrayMap",a.a.ya);a.b("utils.arrayPushAll",a.a.$);a.b("utils.arrayRemoveItem",a.a.ma);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.mb);a.b("utils.getFormFields",a.a.ob);a.b("utils.peekObservable",a.a.Sa);a.b("utils.postJson",a.a.gc);a.b("utils.parseJson",a.a.fc);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Ya);a.b("utils.range",a.a.ic);a.b("utils.toggleDomNodeCssClass",
a.a.ua);a.b("utils.triggerEvent",a.a.ha);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.A);a.b("utils.addOrRemoveItem",a.a.Y);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(f,e){var g=f[c];if(!g||"null"===g||!d[g]){if(!e)return r;g=f[c]="ko"+b++;d[g]={}}return d[g]}
var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===r?r:d[c]},set:function(b,c,d){if(d!==r||a(b,!1)!==r)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},L:function(){return b++ +c}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);a.a.u=new function(){function f(b,f){var c=a.a.f.get(b,d);c===r&&f&&(c=[],a.a.f.set(b,d,c));return c}function c(b){var d=f(b,!1);if(d)for(var d=d.slice(0),l=0;l<d.length;l++)d[l](b);
a.a.f.clear(b);a.a.u.cleanExternalData(b);if(g[b.nodeType])for(d=b.firstChild;b=d;)d=b.nextSibling,8===b.nodeType&&c(b)}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{ja:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");f(a,!0).push(b)},Ab:function(b,c){var m=f(b,!1);m&&(a.a.ma(m,c),0==m.length&&a.a.f.set(b,d,r))},M:function(b){if(e[b.nodeType]&&(c(b),g[b.nodeType])){var f=[];a.a.$(f,b.getElementsByTagName("*"));for(var d=0,l=f.length;d<l;d++)c(f[d])}return b},
removeNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b("cleanNode",a.M);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.u);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.u.ja);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.u.Ab);(function(){a.a.Qa=function(f){var d;if(b)if(b.parseHTML)d=b.parseHTML(f)||[];else{if((d=b.clean([f]))&&
d[0]){for(f=d[0];f.parentNode&&11!==f.parentNode.nodeType;)f=f.parentNode;f.parentNode&&f.parentNode.removeChild(f)}}else{var l=a.a.ta(f).toLowerCase();d=h.createElement("div");l=l.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!l.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!l.indexOf("<td")||!l.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];f="ignored<div>"+l[1]+f+l[2]+"</div>";for("function"==typeof c.innerShiv?d.appendChild(c.innerShiv(f)):
d.innerHTML=f;l[0]--;)d=d.lastChild;d=a.a.R(d.lastChild.childNodes)}return d};a.a.Va=function(f,c){a.a.Fa(f);c=a.a.c(c);if(null!==c&&c!==r)if("string"!=typeof c&&(c=c.toString()),b)b(f).html(c);else for(var d=a.a.Qa(c),e=0;e<d.length;e++)f.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.Qa);a.b("utils.setHtml",a.a.Va);a.w=function(){function b(c,d){if(c)if(8==c.nodeType){var m=a.w.xb(c.nodeValue);null!=m&&d.push({Rb:c,cc:m})}else if(1==c.nodeType)for(var m=0,e=c.childNodes,g=e.length;m<g;m++)b(e[m],
d)}var c={};return{Na:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Hb:function(a,b){var f=c[a];if(f===r)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,d){var m=
[];b(c,m);for(var e=0,g=m.length;e<g;e++){var q=m[e].Rb,w=[q];d&&a.a.$(w,d);a.w.Hb(m[e].cc,w);q.nodeValue="";q.parentNode&&q.parentNode.removeChild(q)}},xb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.w);a.b("memoization.memoize",a.w.Na);a.b("memoization.unmemoize",a.w.Hb);a.b("memoization.parseMemoText",a.w.xb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);
d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?u:x;a.Ma(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:d}};var y={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,"dispose",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=
{}};g={V:function(b,c,d){var e=this;d=d||"change";var g=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],g)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(g);return g},notifySubscribers:function(b,c){c=c||"change";if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),e=0,g;g=d[e];++e)g.sb||g.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),e,g,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.bb(a):c.ia(a,b):c.cb(a)});var n=b(function(){d&&
h===c&&(h=c());e=!1;c.Ka(g,h)&&c.ia(g=h)});c.cb=function(a){e=!0;h=a;n()};c.bb=function(a){e||(g=a,c.ia(a,"beforeChange"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,c){b+=c.length});return b},Ka:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.A(b,function(b,f){var d=a.Ga[b];"function"==typeof d&&(c=d(c,f)||c)});return c}};a.s(g,"subscribe",g.V);a.s(g,"extend",g.extend);a.s(g,"getSubscriptionsCount",
g.Wb);a.a.na&&a.a.ra(g,Function.prototype);a.N.fn=g;a.tb=function(a){return null!=a&&"function"==typeof a.V&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.N);a.b("isSubscribable",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,g=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b))throw Error("Only subscribable things can act as dependencies");e.za(b,b.Kb||(b.Kb=++g))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e)return e.ba.fa()},
pa:function(){if(e)return e.pa}}}();a.b("computedContext",a.ca);a.b("computedContext.getDependenciesCount",a.ca.fa);a.b("computedContext.isInitial",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,"beforeChange")};a.s(c,"peek",c.o);a.s(c,"valueHasMutated",c.O);a.s(c,"valueWillMutate",
c.P);return c};a.m.fn={equalityComparer:d};var A=a.m.hc="__ko_proto__";a.m.fn[A]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===r||b[A]===r?!1:b[A]===c?!0:a.Ha(b[A],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return"function"==typeof b&&b[A]===a.m||"function"==typeof b&&b[A]===a.h&&b.Yb?!0:!1};a.b("observable",a.m);a.b("isObservable",a.v);a.b("isWriteableObservable",a.ub);a.T=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
b=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e="function"!=typeof b||a.v(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var h=c[g];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(g,1),g--)}d.length&&this.O();return d},removeAll:function(b){if(b===r){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=
"function"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.O()},destroyAll:function(b){return b===r?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.P(),this.o()[c]=b,this.O())}};a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.T.fn[b]=function(){var a=this.o();
this.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r(["slice"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b("observableArray",a.T);a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var m=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return m.apply(this,arguments)};var q=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb("arrayChange")){var d;
if(!e||1<g)e=a.a.Aa(q,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,"arrayChange")}q=c;e=null;g=0})}}if(!b.kb){var d=!1,e=null,g=0,h=b.V;b.V=b.subscribe=function(a,b,d){"arrayChange"===d&&c();return h.apply(this,arguments)};b.kb=function(b,c,f){function m(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(d&&!g){var h=[],t=b.length,H=f.length,I=0;switch(c){case "push":I=t;case "unshift":for(c=0;c<H;c++)m("added",f[c],I+c);break;case "pop":I=t-1;case "shift":t&&m("deleted",b[I],I);break;
case "splice":c=Math.min(Math.max(0,0>f[0]?t+f[0]:f[0]),t);for(var t=1===H?t:Math.min(c+(f[1]||0),t),H=c+H-2,I=Math.max(t,H),k=[],F=[],r=2;c<I;++c,++r)c<t&&F.push(m("deleted",b[c],c)),c<H&&k.push(m("added",f[r],c));a.a.nb(F,k);break;default:return}e=h}}}};a.ba=a.h=function(b,c,d){function e(){H=!0;a.a.A(u,function(a,b){b.F()});u={};y=0;p=!1}function g(){var a=n.throttleEvaluation;a&&0<=a?(clearTimeout(z),z=setTimeout(h,a)):n.wa?n.wa():h()}function h(){if(!k&&!H){if(x&&x()){if(!v){s();return}}else v=
!1;k=!0;try{var b=u,d=y;a.k.jb({za:function(a,c){H||(d&&b[c]?(u[c]=b[c],++y,delete b[c],--d):u[c]||(u[c]=a.V(g),++y))},ba:n,pa:!y});u={};y=0;try{var f=c?I.call(c):I()}finally{a.k.end(),d&&a.a.A(b,function(a,b){b.F()}),p=!1}n.Ka(w,f)&&(n.notifySubscribers(w,"beforeChange"),w=f,n.wa&&!n.throttleEvaluation||n.notifySubscribers(w))}finally{k=!1}y||s()}}function n(){if(0<arguments.length){if("function"===typeof J)J.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}p&&h();a.k.zb(n);return w}function q(){return p||0<y}var w,p=!0,k=!1,v=!1,H=!1,I=b;I&&"object"==typeof I?(d=I,I=d.read):(d=d||{},I||(I=d.read));if("function"!=typeof I)throw Error("Pass a function that returns the value of the ko.computed");var J=d.write,F=d.disposeWhenNodeIsRemoved||d.G||null,r=d.disposeWhen||d.Da,x=r,s=e,u={},y=0,z=null;c||(c=d.owner);a.N.call(n);a.a.sa(n,a.h.fn);n.o=function(){p&&!y&&h();return w};n.fa=function(){return y};n.Yb="function"===typeof d.write;n.F=function(){s()};
n.ga=q;var A=n.Ma;n.Ma=function(a){A.call(n,a);n.wa=function(){n.bb(w);p=!0;n.cb(n)}};a.s(n,"peek",n.o);a.s(n,"dispose",n.F);a.s(n,"isActive",n.ga);a.s(n,"getDependenciesCount",n.fa);F&&(v=!0,F.nodeType&&(x=function(){return!a.a.Ea(F)||r&&r()}));!0!==d.deferEvaluation&&h();F&&q()&&F.nodeType&&(s=function(){a.a.u.Ab(F,s);e()},a.a.u.ja(F,s));return n};a.$b=function(b){return a.Ha(b,a.h)};g=a.m.hc;a.h[g]=a.m;a.h.fn={equalityComparer:d};a.h.fn[g]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b("dependentObservable",
a.h);a.b("computed",a.h);a.b("isComputed",a.$b);(function(){function b(a,e,g){g=g||new d;a=e(a);if("object"!=typeof a||null===a||a===r||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var n=a instanceof Array?[]:{};g.save(a,n);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":n[c]=d;break;case "object":case "undefined":var l=g.get(d);n[c]=l!==r?l:b(d,e,g)}});return n}function c(a,b){if(a instanceof Array){for(var d=
0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Gb(b);return a.a.Ya(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.ab[d]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,
b);return 0<=b?this.ab[b]:r}}})();a.b("toJS",a.Gb);a.b("toJSON",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):r;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case "option":switch(typeof c){case "string":a.a.f.set(b,a.d.options.Pa,
r);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=r;for(var e=-1,g=0,h=b.options.length,n;g<h;++g)if(n=a.i.p(b.options[g]),n==c||""==n&&c===r){e=g;break}if(d||0<=e||c===r&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===r)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.p);a.b("selectExtensions.writeValue",a.i.X);a.g=function(){function b(c){c=a.a.ta(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],f=c.match(e),l,m,n=0;if(f){f.push(",");for(var k=0,J;J=f[k];++k){var F=J.charCodeAt(0);if(44===F){if(0>=n){l&&d.push(m?{key:l,value:m.join("")}:{unknown:l});l=m=n=0;continue}}else if(58===F){if(!m)continue}else if(47===F&&k&&1<J.length)(F=f[k-1].match(g))&&!h[F[0]]&&(c=c.substr(c.indexOf(J)+1),f=c.match(e),f.push(","),k=-1,J="/");else if(40===F||123===F||91===
F)++n;else if(41===F||125===F||93===F)--n;else if(!l&&!m){l=34===F||39===F?J.slice(1,-1):J;continue}m?m.push(J):m=[J]}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),g=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},n={};return{aa:[],W:n,Ra:b,qa:function(e,g){function p(b,f){var e,g=a.getBindingHandler(b);
if(g&&g.preprocess?f=g.preprocess(f,b,p):1){if(g=n[b])e=f,0<=a.a.l(c,e)?e=!1:(g=e.match(d),e=null===g?!1:g[1]?"Object("+g[1]+")"+g[2]:e),g=e;g&&B.push("'"+b+"':function(_z){"+e+"=_z}");H&&(f="function(){return "+f+" }");h.push("'"+b+"':"+f)}}g=g||{};var h=[],B=[],H=g.valueAccessors,k="string"===typeof e?b(e):e;a.a.r(k,function(a){p(a.key||a.unknown,a.value)});B.length&&p("_ko_property_writers","{"+B.join(",")+" }");return h.join(",")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;
return!1},va:function(b,c,d,f,e){if(b&&a.v(b))!a.ub(b)||e&&b.o()===f||b(f);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](f)}}}();a.b("expressionRewriting",a.g);a.b("expressionRewriting.bindingRewriteValidators",a.g.aa);a.b("expressionRewriting.parseObjectLiteral",a.g.Ra);a.b("expressionRewriting.preProcessBindings",a.g.qa);a.b("expressionRewriting._twoWayBindings",a.g.W);a.b("jsonExpressionRewriting",a.g);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.g.qa);(function(){function b(a){return 8==
a.nodeType&&k.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&n.test(g?a.text:a.nodeValue)}function d(a,e){for(var g=a,l=1,n=[];g=g.nextSibling;){if(c(g)&&(l--,0===l))return n;n.push(g);b(g)&&l++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=h&&"\x3c!--test--\x3e"===h.createComment("test").text,k=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
n=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,q={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,l=d.length;g<l;g++)e.parentNode.insertBefore(d[g],e)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,
d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(g?a.text:a.nodeValue).match(k))?a[1]:null},wb:function(d){if(q[a.a.B(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var l;l=g.firstChild;
var n=null;if(l){do if(n)n.push(l);else if(b(l)){var h=e(l,!0);h?l=h:n=[l]}else c(l)&&(n=[l]);while(l=l.nextSibling)}if(l=n)for(n=g.nextSibling,h=0;h<l.length;h++)n?d.insertBefore(l[h],n):d.appendChild(l[h])}while(g=g.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",a.e.Q);a.b("virtualElements.emptyNode",a.e.da);a.b("virtualElements.insertAfter",a.e.rb);a.b("virtualElements.prepend",a.e.yb);a.b("virtualElements.setDomNodeChildren",a.e.U);(function(){a.J=function(){this.Nb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):null},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.Nb,h=b+(e&&e.valueAccessors||""),n;if(!(n=g[h])){var q,w="with($context){with($data||{}){return{"+a.g.qa(b,e)+"}}}";q=new Function("$context","$element",w);n=g[h]=q}return n(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function d(a){return function(){return a}}function e(a){return a()}
function g(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function h(a,b){return g(this.getBindings.bind(this,a,b))}function k(b,c,d){var f,e=a.e.firstChild(c),g=a.J.instance,l=g.preprocessNode;if(l){for(;f=e;)e=a.e.nextSibling(f),l.call(g,f);e=a.e.firstChild(c)}for(;f=e;)e=a.e.nextSibling(f),t(b,f,d)}function t(b,c,d){var f=!0,e=1===c.nodeType;e&&a.e.wb(c);if(e&&d||a.J.instance.nodeHasBindings(c))f=q(c,null,b,d).shouldBindDescendants;f&&!p[a.a.B(c)]&&k(b,c,!e)}function n(b){var c=
[],d={},f=[];a.a.A(b,function L(e){if(!d[e]){var g=a.getBindingHandler(e);g&&(g.after&&(f.push(e),a.a.r(g.after,function(c){if(b[c]){if(-1!==a.a.l(f,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));L(c)}}),f.length--),c.push({key:e,pb:g}));d[e]=!0}});return c}function q(b,c,d,f){var g=a.a.f.get(b,E);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");a.a.f.set(b,E,!0)}!g&&f&&a.Eb(b,d);var l;if(c&&"function"!==
typeof c)l=c;else{var q=a.J.instance,p=q.getBindingAccessors||h,k=a.h(function(){(l=c?c(d,b):p.call(q,b,d))&&d.D&&d.D();return l},null,{G:b});l&&k.ga()||(k=null)}var w;if(l){var t=k?function(a){return function(){return e(k()[a])}}:function(a){return l[a]},C=function(){return a.a.Oa(k?k():l,e)};C.get=function(a){return l[a]&&e(t(a))};C.has=function(a){return a in l};f=n(l);a.a.r(f,function(c){var f=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g])throw Error("The binding '"+g+"' cannot be used with virtual elements");
try{"function"==typeof f&&a.k.t(function(){var a=f(b,t(g),C,d.$data,d);if(a&&a.controlsDescendantBindings){if(w!==r)throw Error("Multiple bindings ("+w+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");w=g}}),"function"==typeof e&&a.h(function(){e(b,t(g),C,d.$data,d)},null,{G:b})}catch(m){throw m.message='Unable to process binding "'+g+": "+l[g]+'"\nMessage: '+m.message,m;}})}return{shouldBindDescendants:w===r}}
function w(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var p={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,f){var e=this,g="function"==typeof b&&!a.v(b),l,m=a.h(function(){var l=g?b():b,n=a.a.c(l);c?(c.D&&c.D(),a.a.extend(e,c),m&&(e.D=m)):(e.$parents=[],e.$root=n,e.ko=a);e.$rawData=l;e.$data=n;d&&(e[d]=n);f&&f(e,c,n);return e.$data},null,{Da:function(){return l&&!a.a.eb(l)},G:!0});m.ga()&&(e.D=m,m.equalityComparer=null,l=[],m.Jb=function(b){l.push(b);a.a.u.ja(b,
function(b){a.a.ma(l,b);l.length||(m.F(),e.D=m=r)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var E=a.a.f.L(),v=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,v,c),
c.D&&c.D.Jb(b);else return a.a.f.get(b,v)};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return q(b,c,w(d),!0)};a.Lb=function(b,c,e){e=w(e);return a.xa(b,"function"===typeof c?g(c.bind(null,e,b)):a.a.Oa(c,d),e)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||k(w(a),b,!0)};a.fb=function(a,d){!b&&c.jQuery&&(b=c.jQuery);if(d&&1!==d.nodeType&&8!==d.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d=d||c.document.body;t(w(a),
d,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return r};a.Pb=function(b){return(b=a.Ca(b))?b.$data:r};a.b("bindingHandlers",a.d);a.b("applyBindings",a.fb);a.b("applyBindingsToDescendants",a.gb);a.b("applyBindingAccessorsToNode",a.xa);a.b("applyBindingsToNode",a.Lb);a.b("contextFor",a.Ca);a.b("dataFor",a.Pb)})();var D={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,
d){d=a.a.c(d);var e=!1===d||null===d||d===r;e&&b.removeAttribute(c);8>=a.a.oa&&c in D?(c=D[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.a.Cb(b,e?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):b.value}function g(){var n=b.checked,h=E?e():n;if(!a.ca.pa()&&(!q||n)){var t=a.k.t(c);k?p!==h?(n&&(a.a.Y(t,h,!0),a.a.Y(t,p,!1)),p=h):a.a.Y(t,h,n):a.g.va(t,d,"checked",
h,!0)}}function h(){var d=a.a.c(c());b.checked=k?0<=a.a.l(d,e()):n?d:e()===d}var n="checkbox"==b.type,q="radio"==b.type;if(n||q){var k=n&&a.a.c(c())instanceof Array,p=k?e():r,E=q||k;q&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(g,null,{G:b});a.a.q(b,"click",g);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||
""),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,g){var h=c()||{};a.a.A(h,function(n){"string"==typeof n&&a.a.q(b,n,function(b){var f,h=c()[n];if(h){try{var k=a.a.R(arguments);e=g.$data;k.unshift(e);f=h.apply(e,k)}finally{!0!==f&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(n+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,g){return a.d.template.update(b,a.d.foreach.vb(c),d,e,g)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(g){b.__ko_hasfocusUpdating=!0;var h=b.ownerDocument;if("activeElement"in h){var k;try{k=h.activeElement}catch(p){k=h.body}g=k===b}h=c();a.g.va(h,d,"hasfocus",g,!0);b.__ko_hasfocusLastValue=g;b.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,"focus",g);a.a.q(b,"focusin",
g);a.a.q(b,"blur",h);a.a.q(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?"focusin":"focusout"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};s("if");s("ifnot",!1,!0);s("with",!0,!1,function(a,b){return a.createChildContext(b)});var z={};a.d.options={init:function(b){if("select"!==
a.a.B(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(E.length){var e=0<=a.a.l(E,a.i.p(d[0]));a.a.Db(d[0],e);v&&!e&&a.k.t(a.a.ha,null,[b,"change"])}}var n=0!=b.length&&b.multiple?b.scrollTop:null,q=a.a.c(c()),k=d.get("optionsIncludeDestroyed");
c={};var p,E;E=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];q&&("undefined"==typeof q.length&&(q=[q]),p=a.a.la(q,function(b){return k||b===r||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(q=a.a.c(d.get("optionsCaption")),null!==q&&q!==r&&p.unshift(z)));var v=!1;c.beforeRemove=function(a){b.removeChild(a)};q=h;d.has("optionsAfterRender")&&(q=function(b,c){h(0,c);a.k.t(d.get("optionsAfterRender"),null,[c[0],b!==z?b:r])});a.a.Ua(b,p,function(c,e,n){n.length&&
(E=n[0].selected?[a.i.p(n[0])]:[],v=!0);e=b.ownerDocument.createElement("option");c===z?(a.a.Xa(e,d.get("optionsCaption")),a.i.X(e,r)):(n=g(c,d.get("optionsValue"),c),a.i.X(e,a.a.c(n)),c=g(c,d.get("optionsText"),n),a.a.Xa(e,c));return[e]},c,q);a.k.t(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.X(b,a.a.c(d.get("value")),!0):(b.multiple?E.length&&e().length<E.length:E.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==E[0]:E.length||0<=b.selectedIndex)&&a.a.ha(b,"change")});a.a.Tb(b);
n&&20<Math.abs(n-b.scrollTop)&&(b.scrollTop=n)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var e=c(),g=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.i.p(b))});a.g.va(e,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.a.B(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=
0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||""})}};a.d.submit={init:function(b,c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.q(b,"submit",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:["options","foreach"],init:function(b,c,d){function e(){n=!1;var g=c(),h=a.i.p(b);a.g.va(g,d,"value",h)}var g=["change"],h=d.get("valueUpdate"),n=!1;h&&("string"==typeof h&&(h=[h]),a.a.$(g,h),g=a.a.ib(g));!a.a.oa||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||
-1!=a.a.l(g,"propertychange")||(a.a.q(b,"propertychange",function(){n=!0}),a.a.q(b,"focus",function(){n=!1}),a.a.q(b,"blur",function(){n&&e()}));a.a.r(g,function(c){var d=e;a.a.kc(c,"after")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c)if("select"===a.a.B(b)){var g=d.get("valueAllowUnset");d=function(){a.i.X(b,e,g)};d();g||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,"change"])}else a.i.X(b,e)}};a.g.W.value=!0;a.d.visible=
{update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,g,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,h)}}})("click");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.C.prototype.makeTemplateSource=
function(b,c){if("string"==typeof b){c=c||h;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error("Unknown template type: "+b);};a.C.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.C.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.C.prototype.rewriteTemplate=
function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.C);a.Za=function(){function b(c,d,e,f){c=a.g.Ra(c);for(var g=a.g.aa,h=0;h<c.length;h++){var l=c[h].key;if(g.hasOwnProperty(l)){var m=g[l];if("function"===typeof m){if(l=m(c[h].value))throw Error(l);}else if(!m)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.g.qa(c,
{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,e){return a.replace(c,function(a,c,d,g,h){return b(h,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e",
"#comment",e)})},Mb:function(b,c){return a.w.Na(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.xa(f,b,e)})}}}();a.b("__tr_ambtns",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.j[b];var c=arguments[0];"innerHTML"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+"_";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,
b+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===r&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b("templateSources",a.n);a.b("templateSources.domElement",a.n.j);a.b("templateSources.anonymousTemplate",
a.n.Z)})();(function(){function b(c,d,e){var f;for(d=a.e.nextSibling(d);c&&(f=c)!==d;)c=a.e.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var g=d[0],h=d[d.length-1],l=g.parentNode,m=a.J.instance,k=m.preprocessNode;if(k){b(g,h,function(a,b){var c=a.previousSibling,d=k.call(m,a);d&&(a===g&&(g=d[0]||b),a===h&&(h=d[d.length-1]||c))});d.length=0;if(!g)return;g===h?d.push(g):(d.push(g,h),a.a.ea(d,l))}b(g,h,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(e,b)});b(g,h,function(b){1!==b.nodeType&&8!==
b.nodeType||a.w.Ib(b,[e])});a.a.ea(d,l)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,f,h,k,t){t=t||{};var v=b&&d(b),v=v&&v.ownerDocument,r=t.templateEngine||g;a.Za.Ub(h,r,v);h=r.renderTemplate(h,k,t,v);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");v=!1;switch(f){case "replaceChildren":a.e.U(b,h);v=!0;break;case "replaceNode":a.a.Bb(b,h);v=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
f);}v&&(c(h,k),t.afterRender&&a.k.t(t.afterRender,null,[h,k.$data]));return h}var g;a.Wa=function(b){if(b!=r&&!(b instanceof a.C))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.Ta=function(b,c,f,h,m){f=f||{};if((f.templateEngine||g)==r)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(h){var k=d(h);return a.h(function(){var g=c&&c instanceof a.I?c:new a.I(a.a.c(c)),t=a.v(b)?b():"function"==typeof b?b(g.$data,g):b,g=e(h,m,t,g,f);
"replaceNode"==m&&(h=g,k=d(h))},null,{Da:function(){return!k||!a.a.Ea(k)},G:k&&"replaceNode"==m?k.parentNode:k})}return a.w.Na(function(d){a.Ta(b,c,f,d,"replaceNode")})};a.jc=function(b,d,f,g,h){function l(a,b){c(b,t);f.afterRender&&f.afterRender(b,a)}function k(a,c){t=h.createChildContext(a,f.as,function(a){a.$index=c});var d="function"==typeof b?b(a,t):b;return e(null,"ignoreTargetNode",d,t,f)}var t;return a.h(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||
b===r||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[g,b,k,f,l])},null,{G:g})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),l;c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),l=a.a.c(c.data));"foreach"in c?e=a.jc(g||b,d&&c.foreach||
[],c,b,f):d?(f="data"in c?f.createChildContext(l,c.as):f,e=a.Ta(g||b,f,c,b)):a.e.da(b);f=e;(l=a.a.f.get(b,h))&&"function"==typeof l.F&&l.F();a.a.f.set(b,h,f&&f.ga()?f:r)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.Q.template=!0})();a.b("setTemplateEngine",a.Wa);a.b("renderTemplate",a.Ta);a.a.nb=function(a,b,c){if(a.length&&b.length){var d,e,g,h,k;for(d=
e=0;(!c||d<c)&&(h=a[e]);++e){for(g=0;k=b[g];++g)if(h.value===k.value){h.moved=k.index;k.moved=h.index;b.splice(g,1);d=g=0;break}d+=g}}};a.a.Aa=function(){function b(c,d,e,f,g){var h=Math.min,k=Math.max,r=[],p,x=c.length,v,s=d.length,u=s-x||1,y=x+s+1,z,A,D;for(p=0;p<=x;p++)for(A=z,r.push(z=[]),D=h(s,p+u),v=k(0,p-1);v<=D;v++)z[v]=v?p?c[p-1]===d[v-1]?A[v-1]:h(A[v]||y,z[v-1]||y)+1:v+1:p+1;h=[];k=[];u=[];p=x;for(v=s;p||v;)s=r[p][v]-1,v&&s===r[p][v-1]?k.push(h[h.length]={status:e,value:d[--v],index:v}):
p&&s===r[p-1][v]?u.push(h[h.length]={status:f,value:c[--p],index:p}):(--v,--p,g.sparse||h.push({status:"retained",value:d[v]}));a.a.nb(k,u,10*x);return h.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Aa);(function(){function b(c,d,e,f,g){var h=[],k=a.h(function(){var b=d(e,g,a.a.ea(h,c))||[];0<h.length&&(a.a.Bb(h,b),f&&a.k.t(f,null,[e,
b,g]));h.length=0;a.a.$(h,b)},null,{G:c,Da:function(){return!a.a.eb(h)}});return{S:h,h:k.ga()?k:r}}var c=a.a.f.L();a.a.Ua=function(d,e,g,h,k){function q(b,c){G=s[c];A!==c&&(O[b]=G);G.Ia(A++);a.a.ea(G.S,d);y.push(G);L.push(G)}function x(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}e=e||[];h=h||{};var p=a.a.f.get(d,c)===r,s=a.a.f.get(d,c)||[],v=a.a.ya(s,function(a){return a.ka}),u=a.a.Aa(v,e,h.dontLimitMoves),y=[],z=0,A=0,D=[],L=[];e=[];for(var O=[],v=[],
G,K=0,M,N;M=u[K];K++)switch(N=M.moved,M.status){case "deleted":N===r&&(G=s[z],G.h&&G.h.F(),D.push.apply(D,a.a.ea(G.S,d)),h.beforeRemove&&(e[K]=G,L.push(G)));z++;break;case "retained":q(K,z++);break;case "added":N!==r?q(K,N):(G={ka:M.value,Ia:a.m(A++)},y.push(G),L.push(G),p||(v[K]=G))}x(h.beforeMove,O);a.a.r(D,h.beforeRemove?a.M:a.removeNode);for(var K=0,p=a.e.firstChild(d),P;G=L[K];K++){G.S||a.a.extend(G,b(d,g,G.ka,k,G.Ia));for(z=0;u=G.S[z];p=u.nextSibling,P=u,z++)u!==p&&a.e.rb(d,u,P);!G.Zb&&k&&(k(G.ka,
G.S,G.Ia),G.Zb=!0)}x(h.beforeRemove,e);x(h.afterMove,O);x(h.afterAdd,v);a.a.f.set(d,c,y)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b("nativeTemplateEngine",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!b||
!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,c,d);d.appendTo(h.createElement("div"));
b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){h.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.La.prototype=new a.C;var c=new a.La;0<c.ac&&a.Wa(c);a.b("jqueryTmplTemplateEngine",a.La)})()})})()})();
(function(r){r.Tools={};r.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var h=16*Math.random()|0;return("x"===c?h:h&3|8).toString(16)})};r.Tools.createCookie=function(c,h,e){var b="";e&&(b=new Date,b.setTime(b.getTime()+864E5*e),b="; expires="+b.toGMTString());document.cookie=c+"="+h+b+"; path=/"};r.Tools.readCookie=function(c){c+="=";for(var h=document.cookie.split(";"),e=0;e<h.length;e++){for(var b=h[e];" "===b.charAt(0);)b=b.substring(1,b.length);
if(0===b.indexOf(c))return b.substring(c.length,b.length)}return null};r.Tools.eraseCookie=function(c){r.Tools.createCookie(c,"",-1)}})(window.EP=window.EP||{});
(function(r){r.User=function(c,h){var e=this;e.uuid=h||r.Tools.uuid();e.name=ko.observable("");e.estimation=ko.observable(!1);e.broadcast=function(){c.emit("update",ko.toJSON(e))};e.loadFromCookie=function(){r.Tools.readCookie("ep.user.name")&&r.Tools.readCookie("ep.user.uuid")&&(e.name(r.Tools.readCookie("ep.user.name")),e.uuid=r.Tools.readCookie("ep.user.uuid"))};e.saveToCookie=function(){r.Tools.createCookie("ep.user.name",e.name());r.Tools.createCookie("ep.user.uuid",e.uuid)}};r.PokerView=function(c){var h=
this,e=function(){var b=[];h.users().forEach(function(c){!1!==c.estimation()&&b.push(c.estimation())});!1!==h.localUser().estimation()&&b.push(h.localUser().estimation());return b},b=function(b){for(var c=0;c<h.users().length;c++)if(h.users()[c].uuid===b)return c;return!1},k=io.connect("/");k.on("update",function(c){c=JSON.parse(c);if(void 0!==c.uuid){var e;e=b(c.uuid);e=!1===e?!1:h.users()[e];e||(e=new r.User(k,c.uuid),h.users.push(e));e.name(c.name);e.estimation(c.estimation)}else h.storyTitle(c.storyTitle)});
k.on("who is there",function(){h.localUser().broadcast();g()});k.on("user disconnected",function(c){c=b(c);h.users.splice(c,1)});k.on("new round",function(){h.localUser().estimation(!1)});h.initNewRound=function(){h.localUser().estimation(!1);k.emit("new round")};h.localUser=ko.observable(new r.User(k));h.localUser().loadFromCookie();h.localUser().name.subscribe(function(){h.localUser().broadcast();h.localUser().saveToCookie()});h.localUser().estimation.subscribe(function(){h.localUser().broadcast()});
k.emit("join",{groupName:c,userUuid:h.localUser().uuid});h.localUser().broadcast();h.users=ko.observableArray([]);h.storyTitle=ko.observable("");h.storyTitle.subscribe(function(){g()});h.highestEstimation=ko.computed(function(){var b=e(),b=Math.max.apply(null,b);return-Infinity===b?!1:b});h.lowestEstimation=ko.computed(function(){var b=e(),b=Math.min.apply(null,b);return Infinity===b?!1:b});h.estimationsComplete=ko.computed(function(){for(var b=0;b<h.users().length;b++)if(!1===h.users()[b].estimation())return!1;
return!1===h.localUser().estimation()?!1:!0});var g=function(){var b={storyTitle:h.storyTitle()};k.emit("update",JSON.stringify(b))}}})(window.EP=window.EP||{});
(function(r){r.bindingHandlers.estimationSelect={init:function(c,h){var e=[0,1,2,3,5,8,13,20,40,100];c.classList.add("estimationSelect");for(var b=0;b<e.length;b++)c.insertAdjacentHTML("beforeend",'<button type="button" class="btn">'+e[b]+"</button>");for(var e=c.querySelectorAll("button"),k=function(){var b=h();this.classList.contains("active")?b(!1):b(+this.textContent)},b=0;b<e.length;b++)e[b].addEventListener("click",k)},update:function(c,h){for(var e=h(),b=c.querySelectorAll("button"),k=0;k<
b.length;k++)+b[k].textContent===e()?b[k].classList.add("active"):b[k].classList.remove("active")}};r.bindingHandlers.editableText={init:function(c,h){c.classList.add("editableText");c.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');c.querySelector(".et-form").style.display="none";
var e=function(){c.classList.remove("editing");c.querySelector(".et-display").style.display="";c.querySelector(".et-form").style.display="none";h()(c.querySelector("input").value)};c.querySelector(".et-display").addEventListener("click",function(){c.classList.add("editing");c.querySelector(".et-display").style.display="none";c.querySelector(".et-form").style.display="";c.querySelector(".et-form input").focus()});c.querySelector("button").addEventListener("click",e);c.querySelector("input").addEventListener("keypress",
function(b){13===b.keyCode&&e()});c.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(c.classList.remove("editing"),c.querySelector(".et-display").style.display="",c.querySelector(".et-form").style.display="none")})},update:function(c,h){var e=h();c.querySelector(".et-label").textContent=e();c.querySelector("input").value=e();e()?c.querySelector(".et-hint").style.display="none":(c.querySelector(".et-hint").textContent=c.getAttribute("data-edit-hint")||"edit",c.querySelector(".et-hint").style.display=
"")}}})(ko);(function(r){""===location.hash&&(location.hash=r.Tools.uuid());r=new r.PokerView(location.hash);ko.applyBindings(r)})(window.EP=window.EP||{});

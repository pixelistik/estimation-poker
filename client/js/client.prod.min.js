!function(z){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=z();else if("function"==typeof define&&define.amd)define([],z);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=z()}}(function(){return function d(g,c,b){function w(m,r){if(!c[m]){if(!g[m]){var y="function"==typeof require&&require;if(!r&&y)return y(m,!0);if(e)return e(m,!0);throw Error("Cannot find module '"+m+"'");}y=c[m]={exports:{}};g[m][0].call(y.exports,
function(b){var a=g[m][1][b];return w(a?a:b)},y,y.exports,d,g,c,b)}return c[m].exports}for(var e="function"==typeof require&&require,m=0;m<b.length;m++)w(b[m]);return w}({1:[function(d,g,c){g.exports=d("./lib/")},{"./lib/":2}],2:[function(d,g,c){function b(b,e){"object"==typeof b&&(e=b,b=void 0);e=e||{};var a=w(b),n=a.source,v=a.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(k("ignoring socket cache for %s",n),n=m(n,e)):(r[v]||(k("new io instance for %s",n),r[v]=m(n,e)),n=r[v]);return n.socket(a.path)}
var w=d("./url"),e=d("socket.io-parser"),m=d("./manager"),k=d("debug")("socket.io-client");g.exports=c=b;var r=c.managers={};c.protocol=e.protocol;c.connect=b;c.Manager=d("./manager");c.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(d,g,c){function b(a,n){if(!(this instanceof b))return new b(a,n);a&&"object"==typeof a&&(n=a,a=void 0);n=n||{};n.path=n.path||"/socket.io";this.nsps={};this.subs=[];this.opts=n;this.reconnection(!1!==n.reconnection);
this.reconnectionAttempts(n.reconnectionAttempts||Infinity);this.reconnectionDelay(n.reconnectionDelay||1E3);this.reconnectionDelayMax(n.reconnectionDelayMax||5E3);this.timeout(null==n.timeout?2E4:n.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new m.Encoder;this.decoder=new m.Decoder;(this.autoConnect=!1!==n.autoConnect)&&this.open()}d("./url");var w=d("engine.io-client"),e=d("./socket");c=d("component-emitter");
var m=d("socket.io-parser"),k=d("./on"),r=d("component-bind");d("object-component");var y=d("debug")("socket.io-client:manager"),x=d("indexof");g.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};c(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){y("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;y("opening %s",this.uri);var n=this.engine=w(this.uri,this.opts),v=this;this.readyState="opening";this.skipReconnect=!1;var b=k(n,"open",function(){v.onopen();a&&a()}),e=k(n,"error",function(f){y("connect_error");v.cleanup();v.readyState="closed";v.emitAll("connect_error",f);if(a){var h=
Error("Connection error");h.data=f;a(h)}v.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;y("connect attempt will timeout after %d",c);var f=setTimeout(function(){y("connect attempt timed out after %d",c);b.destroy();n.close();n.emit("error","timeout");v.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(f)}})}this.subs.push(b);this.subs.push(e);return this};b.prototype.onopen=function(){y("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(k(a,"data",r(this,"ondata")));this.subs.push(k(this.decoder,"decoded",r(this,"ondecoded")));this.subs.push(k(a,"error",r(this,"onerror")));this.subs.push(k(a,"close",r(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){y("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var n=this.nsps[a];if(!n){n=new e(this,a);this.nsps[a]=n;var v=this;n.on("connect",
function(){~x(v.connected,n)||v.connected.push(n)})}return n};b.prototype.destroy=function(a){a=x(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};b.prototype.packet=function(a){y("writing packet %j",a);var n=this;n.encoding?n.packetBuffer.push(a):(n.encoding=!0,this.encoder.encode(a,function(a){for(var b=0;b<a.length;b++)n.engine.write(a[b]);n.encoding=!1;n.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){y("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)y("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var n=this.attempts*this.reconnectionDelay(),n=Math.min(n,this.reconnectionDelayMax());y("will wait %dms before reconnect attempt",n);this.reconnecting=!0;var v=setTimeout(function(){a.skipReconnect||(y("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(v){v?(y("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",v.data)):(y("reconnect success"),a.onreconnect())}))},n);this.subs.push({destroy:function(){clearTimeout(v)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(d,g,c){g.exports=function(b,w,e){b.on(w,e);return{destroy:function(){b.removeListener(w,e)}}}},{}],5:[function(d,g,c){function b(a,v){this.io=a;this.nsp=v;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var w=d("socket.io-parser");c=d("component-emitter");var e=d("to-array"),m=d("./on"),k=d("component-bind"),r=d("debug")("socket.io-client:socket"),y=d("has-binary");g.exports=b;var x=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=c.prototype.emit;c(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[m(a,"open",k(this,"onopen")),m(a,"packet",k(this,"onpacket")),m(a,"close",k(this,"onclose"))]}};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};b.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(n){if(x.hasOwnProperty(n))return a.apply(this,arguments),this;var v=e(arguments),b=w.EVENT;y(v)&&(b=w.BINARY_EVENT);b={type:b,data:v};"function"==typeof v[v.length-1]&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=v.pop(),b.id=this.ids++);this.connected?this.packet(b):this.sendBuffer.push(b);return this};b.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};b.prototype.onopen=function(){r("transport is open - connecting");"/"!=this.nsp&&this.packet({type:w.CONNECT})};b.prototype.onclose=function(a){r("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case w.CONNECT:this.onconnect();break;case w.EVENT:this.onevent(a);break;case w.BINARY_EVENT:this.onevent(a);break;case w.ACK:this.onack(a);break;case w.BINARY_ACK:this.onack(a);
break;case w.DISCONNECT:this.ondisconnect();break;case w.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(n){var v=n.data||[];r("emitting event %j",v);null!=n.id&&(r("attaching ack callback to event"),v.push(this.ack(n.id)));this.connected?a.apply(this,v):this.receiveBuffer.push(v)};b.prototype.ack=function(a){var v=this,b=!1;return function(){if(!b){b=!0;var E=e(arguments);r("sending ack %j",E);var c=y(E)?w.BINARY_ACK:w.ACK;v.packet({type:c,id:a,data:E})}}};b.prototype.onack=function(a){r("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var n;for(n=0;n<this.receiveBuffer.length;n++)a.apply(this,this.receiveBuffer[n]);this.receiveBuffer=[];for(n=0;n<this.sendBuffer.length;n++)this.packet(this.sendBuffer[n]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){r("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:w.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(d,g,c){(function(b){var w=d("parseuri"),e=d("debug")("socket.io-client:url");g.exports=function(c,d){var r=c;d=d||b.location;null==c&&(c=d.protocol+"//"+d.hostname);"string"==typeof c&&("/"==c.charAt(0)&&(c="/"==c.charAt(1)?d.protocol+c:d.hostname+c),/^(https?|wss?):\/\//.test(c)||(e("protocol-less url %s",c),c="undefined"!=typeof d?d.protocol+"//"+c:"https://"+c),e("parse %s",c),r=w(c));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&
(r.port="443"));r.path=r.path||"/";r.id=r.protocol+"://"+r.host+":"+r.port;r.href=r.protocol+"://"+r.host+(d&&d.port==r.port?"":":"+r.port);return r}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(d,g,c){var b=[].slice;g.exports=function(c,e){"string"==typeof e&&(e=c[e]);if("function"!=typeof e)throw Error("bind() requires a function");var d=b.call(arguments,2);return function(){return e.apply(c,d.concat(b.call(arguments)))}}},
{}],8:[function(d,g,c){function b(c){if(c){for(var e in b.prototype)c[e]=b.prototype[e];return c}}g.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(e);return this};b.prototype.once=function(b,e){function c(){d.off(b,c);e.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=e;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[b];if(!c)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var d,r=0;r<c.length;r++)if(d=c[r],d===e||d.fn===e){c.splice(r,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),c=this._callbacks[b];if(c)for(var c=c.slice(0),d=0,r=c.length;d<r;++d)c[d].apply(this,
e);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(d,g,c){function b(c){return b.enabled(c)?function(e){e instanceof Error&&(e=e.stack||e.message);var d=new Date,k=d-(b[c]||d);b[c]=d;e=c+" "+e+" +"+b.humanize(k);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=b;b.names=[];b.skips=
[];b.enable=function(c){try{localStorage.debug=c}catch(d){}for(var e=(c||"").split(/[\s,]+/),m=e.length,k=0;k<m;k++)c=e[k].replace("*",".*?"),"-"===c[0]?b.skips.push(new RegExp("^"+c.substr(1)+"$")):b.names.push(new RegExp("^"+c+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(c){for(var e=0,d=b.skips.length;e<d;e++)if(b.skips[e].test(c))return!1;e=0;for(d=b.names.length;e<
d;e++)if(b.names[e].test(c))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(w){}},{}],10:[function(d,g,c){g.exports=d("./lib/")},{"./lib/":11}],11:[function(d,g,c){g.exports=d("./socket");g.exports.parser=d("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(d,g,c){(function(b){function c(a,e){if(!(this instanceof c))return new c(a,e);e=e||{};a&&"object"==typeof a&&(e=a,a=null);a&&(a=x(a),e.host=a.host,e.secure="https"==a.protocol||"wss"==a.protocol,
e.port=a.port,a.query&&(e.query=a.query));this.secure=null!=e.secure?e.secure:b.location&&"https:"==location.protocol;if(e.host){var E=e.host.split(":");e.hostname=E.shift();E.length&&(e.port=E.pop())}this.agent=e.agent||!1;this.hostname=e.hostname||(b.location?location.hostname:"localhost");this.port=e.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=n.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=(e.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}
var e=d("./transports"),m=d("component-emitter"),k=d("debug")("engine.io-client:socket"),r=d("indexof"),y=d("engine.io-parser"),x=d("parseuri"),a=d("parsejson"),n=d("parseqs");g.exports=c;c.priorWebsocketSuccess=!1;m(c.prototype);c.protocol=y.protocol;c.Socket=c;c.Transport=d("./transport");c.transports=d("./transports");c.parser=d("engine.io-parser");c.prototype.createTransport=function(a){k('creating transport "%s"',a);var b=this.query,n={},c;for(c in b)b.hasOwnProperty(c)&&(n[c]=b[c]);n.EIO=y.protocol;
n.transport=a;this.id&&(n.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:n,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(n){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){k("setting transport %s",a.name);var b=this;this.transport&&(k("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(p.onlyBinaryUpgrades){var f=!this.supportsBinary&&p.transport.supportsBinary;C=C||f}C||(k('probe transport "%s" opened',a),q.send([{type:"ping",data:"probe"}]),q.once("packet",function(f){C||("pong"==f.type&&"probe"==f.data?(k('probe transport "%s" pong',a),p.upgrading=!0,p.emit("upgrading",q),q&&
(c.priorWebsocketSuccess="websocket"==q.name,k('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){C||"closed"==p.readyState||(k("changing transport and sending upgrade packet"),D(),p.setTransport(q),q.send([{type:"upgrade"}]),p.emit("upgrade",q),q=null,p.upgrading=!1,p.flush())}))):(k('probe transport "%s" failed',a),f=Error("probe error"),f.transport=q.name,p.emit("upgradeError",f)))}))}function n(){C||(C=!0,D(),q.close(),q=null)}function e(f){var h=Error("probe error: "+
f);h.transport=q.name;n();k('probe transport "%s" failed because of error: %s',a,f);p.emit("upgradeError",h)}function f(){e("transport closed")}function l(){e("socket closed")}function h(a){q&&a.name!=q.name&&(k('"%s" works - aborting "%s"',a.name,q.name),n())}function D(){q.removeListener("open",b);q.removeListener("error",e);q.removeListener("close",f);p.removeListener("close",l);p.removeListener("upgrading",h)}k('probing transport "%s"',a);var q=this.createTransport(a,{probe:1}),C=!1,p=this;c.priorWebsocketSuccess=
!1;q.once("open",b);q.once("error",e);q.once("close",f);this.once("close",l);this.once("upgrading",h);q.open()};c.prototype.onOpen=function(){k("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){k("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(v){if("opening"==this.readyState||
"open"==this.readyState)switch(k('socket receive: type "%s", data "%s"',v.type,v.data),this.emit("packet",v),this.emit("heartbeat"),v.type){case "open":this.onHandshake(a(v.data));break;case "pong":this.setPing();break;case "error":var b=Error("server error");b.code=v.data;this.emit("error",b);break;case "message":this.emit("data",v.data),this.emit("message",v.data)}else k('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};
c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){k("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(k("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};c.prototype.sendPacket=function(a,b,n){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:b},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(n),this.flush())};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){e.once("upgrade",b);e.once("upgradeError",b)},b=function(){e.removeListener("upgrade",b);e.removeListener("upgradeError",b);n()},n=function(){e.onClose("forced close");k("socket closing - telling transport to close");e.transport.close()};this.readyState=
"closing";var e=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():n()});else this.upgrading?a():n()}return this};c.prototype.onError=function(a){k("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){k('socket close with reason: "%s"',a);var n=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){n.writeBuffer=[];n.callbackBuffer=[];n.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};c.prototype.filterUpgrades=function(a){for(var b=[],n=0,e=a.length;n<e;n++)~r(this.transports,a[n])&&b.push(a[n]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(d,g,c){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket;this.enablesXDR=b.enablesXDR}var w=d("engine.io-parser");d=d("component-emitter");g.exports=b;d(b.prototype);b.timestamps=0;b.prototype.onError=function(b,
c){var d=Error(b);d.type="TransportError";d.description=c;this.emit("error",d);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=w.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(d,g,c){(function(b){var w=d("xmlhttprequest"),e=d("./polling-xhr"),m=d("./polling-jsonp"),k=d("./websocket");c.polling=function(c){var d=!1,k=!1,a=!1!==c.jsonp;b.location&&(k=
"https:"==location.protocol,(d=location.port)||(d=k?443:80),d=c.hostname!=location.hostname||d!=c.port,k=c.secure!=k);c.xdomain=d;c.xscheme=k;if("open"in new w(c)&&!c.forceJSONP)return new e(c);if(!a)throw Error("JSONP disabled");return new m(c)};c.websocket=k}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,g,c){(function(b){function c(){}function e(a){m.call(this,a);this.query=
this.query||{};x||(b.___eio||(b.___eio=[]),x=b.___eio);this.index=x.length;var n=this;x.push(function(a){n.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}var m=d("./polling"),k=d("component-inherit");g.exports=e;var r=/\n/g,y=/\\n/g,x;k(e,m);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);m.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,b){function c(){e();b()}function e(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{h=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(a){h=document.createElement("iframe"),h.name=d.iframeId,h.src="javascript:0"}h.id=d.iframeId;d.form.appendChild(h);d.iframe=h}var d=this;if(!this.form){var H=document.createElement("form"),
f=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index,h;H.className="socketio";H.style.position="absolute";H.style.top="-1000px";H.style.left="-1000px";H.target=l;H.method="POST";H.setAttribute("accept-charset","utf-8");f.name="d";H.appendChild(f);document.body.appendChild(H);this.form=H;this.area=f}this.form.action=this.uri();e();a=a.replace(y,"\\\n");this.area.value=a.replace(r,"\\n");try{this.form.submit()}catch(D){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==d.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,g,c){(function(b){function c(){}function e(a){y.call(this,a);if(b.location){var c="https:"==location.protocol,n=location.port;n||(n=c?443:80);this.xd=a.hostname!=b.location.hostname||n!=a.port;this.xs=a.secure!=c}}function m(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function k(){for(var a in m.requests)m.requests.hasOwnProperty(a)&&m.requests[a].abort()}var r=d("xmlhttprequest"),y=d("./polling"),x=d("component-emitter"),a=d("component-inherit"),n=d("debug")("engine.io-client:polling-xhr");g.exports=e;g.exports.Request=m;a(e,y);e.prototype.supportsBinary=!0;e.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new m(a)};e.prototype.doWrite=function(a,b){var c=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),n=this;c.on("success",b);c.on("error",function(a){n.onError("xhr post error",a)});this.sendXhr=c};e.prototype.doPoll=function(){n("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};x(m.prototype);m.prototype.create=function(){var a=this.xhr=new r({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),c=this;try{n("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){c.onLoad()},a.onerror=function(){c.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)c.onLoad();else setTimeout(function(){c.onError(a.status)},0)};n("xhr data %s",this.data);a.send(this.data)}catch(e){setTimeout(function(){c.onError(e)},0);return}b.document&&(this.index=m.requestsCount++,m.requests[this.index]=this)};m.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
m.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};m.prototype.onError=function(a){this.emit("error",a);this.cleanup()};m.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;try{this.xhr.abort()}catch(a){}b.document&&delete m.requests[this.index];this.xhr=null}};m.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(c){}a=
"application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};m.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};m.prototype.abort=function(){this.cleanup()};b.document&&(m.requestsCount=0,m.requests={},b.attachEvent?b.attachEvent("onunload",k):b.addEventListener&&b.addEventListener("beforeunload",k,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(d,g,c){function b(b){var c=b&&b.forceBase64;if(!r||c)this.supportsBinary=!1;w.call(this,b)}var w=d("../transport"),e=d("parseqs"),m=d("engine.io-parser");c=d("component-inherit");var k=d("debug")("engine.io-client:polling");g.exports=b;var r=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;c(b,w);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=
function(b){function c(){k("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var n=0;this.polling&&(k("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){k("pre-pause polling complete");--n||c()}));this.writable||(k("we are currently writing - waiting to pause"),n++,this.once("drain",function(){k("pre-pause writing complete");--n||c()}))}else c()};b.prototype.poll=function(){k("polling");this.polling=!0;this.doPoll();
this.emit("poll")};b.prototype.onData=function(b){var c=this;k("polling got data %s",b);m.decodePayload(b,this.socket.binaryType,function(a,b,e){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():k('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){k("writing close packet");c.write([{type:"close"}])}
var c=this;"open"==this.readyState?(k("transport open - closing"),b()):(k("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var c=this;this.writable=!1;var a=function(){c.writable=!0;c.emit("drain")},c=this;m.encodePayload(b,this.supportsBinary,function(b){c.doWrite(b,a)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+w.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=e.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(d,g,c){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);w.call(this,b)}var w=d("../transport"),e=d("engine.io-parser"),m=d("parseqs");c=d("component-inherit");var k=d("debug")("engine.io-client:websocket"),
r=d("ws");g.exports=b;c(b,w);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new r(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(c){b.onData(c.data)};this.ws.onerror=
function(c){b.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var c=this;setTimeout(function(){w.prototype.onData.call(c,b)},0)});b.prototype.write=function(b){var c=this;this.writable=!1;for(var a=0,n=b.length;a<n;a++)e.encodePacket(b[a],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){k("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};b.prototype.onClose=
function(){w.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"wss":"ws",a="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=m.encode(b);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b};b.prototype.check=function(){return!!r&&!("__initialize"in
r&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(d,g,c){var b=d("has-cors");g.exports=function(c){var e=c.xdomain,d=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||b))return new XMLHttpRequest}catch(k){}try{if("undefined"!=typeof XDomainRequest&&!d&&c)return new XDomainRequest}catch(k){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(k){}}},{"has-cors":37}],20:[function(d,
g,c){g.exports=function(b,c){var e=function(){};e.prototype=c.prototype;b.prototype=new e;b.prototype.constructor=b}},{}],21:[function(d,g,c){function b(){var b;try{b=localStorage.debug}catch(c){}return b}c=g.exports=d("./debug");c.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var b=arguments,e=this.useColors;b[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+b[0]+(e?"%c ":" ")+"+"+c.humanize(this.diff);
if(!e)return b;var e="color: "+this.color,b=[b[0],e,"color: inherit"].concat(Array.prototype.slice.call(b,1)),d=0,k=0;b[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(d++,"%c"===b&&(k=d))});b.splice(k,0,e);return b};c.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(c){}};c.load=b;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(b){return JSON.stringify(b)};c.enable(b())},{"./debug":22}],22:[function(d,g,c){c=g.exports=function(e){function d(){}function k(){var e=+new Date;k.diff=e-(w||e);k.prev=w;w=k.curr=e;null==k.useColors&&(k.useColors=c.useColors());null==k.color&&k.useColors&&(k.color=c.colors[b++%c.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=c.coerce(d[0]);
"string"!==typeof d[0]&&(d=["%o"].concat(d));var a=0;d[0]=d[0].replace(/%([a-z%])/g,function(b,e){if("%"===b)return b;a++;var B=c.formatters[e];"function"===typeof B&&(b=B.call(k,d[a]),d.splice(a,1),a--);return b});"function"===typeof c.formatArgs&&(d=c.formatArgs.apply(k,d));(k.log||c.log||console.log.bind(console)).apply(k,d)}d.enabled=!1;k.enabled=!0;var g=c.enabled(e)?k:d;g.namespace=e;return g};c.coerce=function(b){return b instanceof Error?b.stack||b.message:b};c.disable=function(){c.enable("")};
c.enable=function(b){c.save(b);for(var d=(b||"").split(/[\s,]+/),k=d.length,w=0;w<k;w++)d[w]&&(b=d[w].replace(/\*/g,".*?"),"-"===b[0]?c.skips.push(new RegExp("^"+b.substr(1)+"$")):c.names.push(new RegExp("^"+b+"$")))};c.enabled=function(b){var d,k;d=0;for(k=c.skips.length;d<k;d++)if(c.skips[d].test(b))return!1;d=0;for(k=c.names.length;d<k;d++)if(c.names[d].test(b))return!0;return!1};c.humanize=d("ms");c.names=[];c.skips=[];c.formatters={};var b=0,w},{ms:23}],23:[function(d,g,c){function b(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function w(b,c,d){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+d:Math.ceil(b/c)+" "+d+"s"}
g.exports=function(c,d){d=d||{};return"string"==typeof c?b(c):d.long?w(c,864E5,"day")||w(c,36E5,"hour")||w(c,6E4,"minute")||w(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],24:[function(d,g,c){(function(b){function w(a,f,b){if(!f)return c.encodeBase64Packet(a,b);var h=new FileReader;h.onload=function(){a.data=h.result;c.encodePacket(a,f,!0,b)};return h.readAsArrayBuffer(a.data)}function e(a,
f,b){var h=Array(a.length);b=y(a.length,b);for(var c=function(a,b,c){f(b,function(f,b){h[a]=b;c(f,h)})},n=0;n<a.length;n++)c(n,a[n],b)}var m=d("./keys"),k=d("arraybuffer.slice"),g=d("base64-arraybuffer"),y=d("after"),x=d("utf8"),a=navigator.userAgent.match(/Android/i);c.protocol=3;var n=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=m(n),B={type:"error",data:"parser error"},E=d("blob");c.encodePacket=function(d,f,l,h){"function"==typeof f&&(h=f,f=!1);"function"==typeof l&&(h=
l,l=null);var D=void 0===d.data?void 0:d.data.buffer||d.data;if(b.ArrayBuffer&&D instanceof ArrayBuffer){if(f){l=d.data;f=new Uint8Array(l);l=new Uint8Array(1+l.byteLength);l[0]=n[d.type];for(d=0;d<f.length;d++)l[d+1]=f[d];d=h(l.buffer)}else d=c.encodeBase64Packet(d,h);return d}if(E&&D instanceof b.Blob)return f?a?d=w(d,f,h):(f=new Uint8Array(1),f[0]=n[d.type],d=new E([f.buffer,d.data]),d=h(d)):d=c.encodeBase64Packet(d,h),d;f=n[d.type];void 0!==d.data&&(f+=l?x.encode(String(d.data)):String(d.data));
return h(""+f)};c.encodeBase64Packet=function(a,f){var l="b"+c.packets[a.type];if(E&&a.data instanceof E){var h=new FileReader;h.onload=function(){var a=h.result.split(",")[1];f(l+a)};return h.readAsDataURL(a.data)}var D;try{D=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(n){D=new Uint8Array(a.data);for(var d=Array(D.length),e=0;e<D.length;e++)d[e]=D[e];D=String.fromCharCode.apply(null,d)}l+=b.btoa(D);return f(l)};c.decodePacket=function(a,f,b){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return c.decodeBase64Packet(a.substr(1),f);if(b)try{a=x.decode(a)}catch(h){return B}b=a.charAt(0);return Number(b)==b&&v[b]?1<a.length?{type:v[b],data:a.substring(1)}:{type:v[b]}:B}b=(new Uint8Array(a))[0];a=k(a,1);E&&"blob"===f&&(a=new E([a]));return{type:v[b],data:a}};c.decodeBase64Packet=function(a,f){var c=v[a.charAt(0)];if(!b.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var h=g.decode(a.substr(1));"blob"===f&&E&&(h=new E([h]));return{type:c,data:h}};c.encodePayload=
function(b,f,l){"function"==typeof f&&(l=f,f=null);if(f)return E&&!a?c.encodePayloadAsBlob(b,l):c.encodePayloadAsArrayBuffer(b,l);if(!b.length)return l("0:");e(b,function(a,b){c.encodePacket(a,f,!0,function(a){b(null,a.length+":"+a)})},function(a,b){return l(b.join(""))})};c.decodePayload=function(a,b,l){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,l);"function"===typeof b&&(l=b,b=null);var h;if(""==a)return l(B,0,1);h="";for(var n,d,e=0,v=a.length;e<v;e++)if(d=a.charAt(e),":"!=d)h+=d;
else{if(""==h||h!=(n=Number(h)))return l(B,0,1);d=a.substr(e+1,n);if(h!=d.length)return l(B,0,1);if(d.length){h=c.decodePacket(d,b,!0);if(B.type==h.type&&B.data==h.data)return l(B,0,1);if(!1===l(h,e+n,v))return}e+=n;h=""}if(""!=h)return l(B,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,c){var n=c.reduce(function(a,b){var f;f="string"===typeof b?b.length:b.byteLength;return a+
f.toString().length+f+2},0),d=new Uint8Array(n),e=0;c.forEach(function(a){var b="string"===typeof a,f=a;if(b){for(var f=new Uint8Array(a.length),c=0;c<a.length;c++)f[c]=a.charCodeAt(c);f=f.buffer}b?d[e++]=0:d[e++]=1;a=f.byteLength.toString();for(c=0;c<a.length;c++)d[e++]=parseInt(a[c]);d[e++]=255;f=new Uint8Array(f);for(c=0;c<f.length;c++)d[e++]=f[c]});return b(d.buffer)})};c.encodePayloadAsBlob=function(a,b){e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var f=new Uint8Array(1);f[0]=1;if("string"===
typeof a){for(var c=new Uint8Array(a.length),l=0;l<a.length;l++)c[l]=a.charCodeAt(l);a=c.buffer;f[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),n=new Uint8Array(c.length+1),l=0;l<c.length;l++)n[l]=parseInt(c[l]);n[c.length]=255;E&&(a=new E([f.buffer,n.buffer,a]),b(null,a))})},function(a,c){return b(new E(c))})};c.decodePayloadAsBinary=function(a,b,l){"function"===typeof b&&(l=b,b=null);for(var h=[],n=!1;0<a.byteLength;){for(var d=new Uint8Array(a),e=0===d[0],v="",A=1;255!=
d[A];A++){if(310<v.length){n=!0;break}v+=d[A]}if(n)return l(B,0,1);a=k(a,2+v.length);v=parseInt(v);d=k(a,0,v);if(e)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(u){for(e=new Uint8Array(d),d="",A=0;A<e.length;A++)d+=String.fromCharCode(e[A])}h.push(d);a=k(a,v)}var t=h.length;h.forEach(function(a,h){l(c.decodePacket(a,b,!0),h,t)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(d,g,c){g.exports=Object.keys||function(b){var c=[],d=Object.prototype.hasOwnProperty,m;for(m in b)d.call(b,m)&&c.push(m);return c}},{}],26:[function(d,g,c){function b(){}g.exports=function(c,d,m){function k(b,c){if(0>=k.count)throw Error("after called too many times");--k.count;b?(g=!0,d(b),d=m):0!==k.count||g||d(null,c)}var g=!1;m=m||b;k.count=c;return 0===c?d():k}},{}],27:[function(d,g,c){g.exports=function(b,c,d){var m=b.byteLength;c=c||0;d=d||m;if(b.slice)return b.slice(c,
d);0>c&&(c+=m);0>d&&(d+=m);d>m&&(d=m);if(c>=m||c>=d||0===m)return new ArrayBuffer(0);b=new Uint8Array(b);for(var m=new Uint8Array(d-c),k=0;c<d;c++,k++)m[k]=b[c];return m.buffer}},{}],28:[function(d,g,c){(function(b){c.encode=function(c){c=new Uint8Array(c);var d,m=c.length,k="";for(d=0;d<m;d+=3)k+=b[c[d]>>2],k+=b[(c[d]&3)<<4|c[d+1]>>4],k+=b[(c[d+1]&15)<<2|c[d+2]>>6],k+=b[c[d+2]&63];2===m%3?k=k.substring(0,k.length-1)+"=":1===m%3&&(k=k.substring(0,k.length-2)+"==");return k};c.decode=function(c){var d=
.75*c.length,m=c.length,k=0,g,y,x,a;"="===c[c.length-1]&&(d--,"="===c[c.length-2]&&d--);for(var n=new ArrayBuffer(d),v=new Uint8Array(n),d=0;d<m;d+=4)g=b.indexOf(c[d]),y=b.indexOf(c[d+1]),x=b.indexOf(c[d+2]),a=b.indexOf(c[d+3]),v[k++]=g<<2|y>>4,v[k++]=(y&15)<<4|x>>2,v[k++]=(x&3)<<6|a&63;return n}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(d,g,c){(function(b){function c(b,k){k=k||{};for(var m=new d,a=0;a<b.length;a++)m.append(b[a]);return k.type?m.getBlob(k.type):
m.getBlob()}var d=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,m;try{m=2==(new Blob(["hi"])).size}catch(r){m=!1}var k=d&&d.prototype.append&&d.prototype.getBlob;b=m?b.Blob:k?c:void 0;g.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(d,g,c){(function(b){(function(d){function e(a){for(var b=[],c=0,h=a.length,d,n;c<h;)d=a.charCodeAt(c++),55296<=d&&56319>=d&&c<h?(n=a.charCodeAt(c++),56320==(n&64512)?b.push(((d&1023)<<
10)+(n&1023)+65536):(b.push(d),c--)):b.push(d);return b}function m(){if(B>=v)throw Error("Invalid byte index");var a=n[B]&255;B++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function k(){var a,b,c,h;if(B>v)throw Error("Invalid byte index");if(B==v)return!1;a=n[B]&255;B++;if(0==(a&128))return a;if(192==(a&224)){b=m();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=m();c=m();a=(a&15)<<12|b<<6|c;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=m(),c=m(),h=m(),a=(a&15)<<18|b<<12|c<<6|h,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var r="object"==typeof c&&c,y="object"==typeof g&&g&&g.exports==r&&g,x="object"==typeof b&&b;if(x.global===x||x.window===x)d=x;var a=String.fromCharCode,n,v,B,x={version:"2.0.0",encode:function(b){b=e(b);for(var c=b.length,d=-1,h,n="";++d<c;){h=b[d];if(0==(h&4294967168))h=a(h);else{var v="";0==(h&4294965248)?v=a(h>>6&31|192):0==(h&4294901760)?(v=a(h>>12&15|224),v+=a(h>>
6&63|128)):0==(h&4292870144)&&(v=a(h>>18&7|240),v+=a(h>>12&63|128),v+=a(h>>6&63|128));h=v+=a(h&63|128)}n+=h}return n},decode:function(b){n=e(b);v=n.length;B=0;b=[];for(var c;!1!==(c=k());)b.push(c);c=b.length;for(var d=-1,h,D="";++d<c;)h=b[d],65535<h&&(h-=65536,D+=a(h>>>10&1023|55296),h=56320|h&1023),D+=a(h);return D}};if(r&&!r.nodeType)if(y)y.exports=x;else{d={}.hasOwnProperty;for(var E in x)d.call(x,E)&&(r[E]=x[E])}else d.utf8=x})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(d,g,c){(function(b){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,m=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,k=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,y=/\s+$/;g.exports=function(g){if("string"!=typeof g||!g)return null;g=g.replace(r,"").replace(y,"");if(b.JSON&&JSON.parse)return JSON.parse(g);if(c.test(g.replace(d,"@").replace(m,"]").replace(k,"")))return(new Function("return "+g))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(d,g,c){c.encode=function(b){var c="",d;for(d in b)b.hasOwnProperty(d)&&(c.length&&(c+="&"),c+=encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return c};c.decode=function(b){var c={};b=b.split("&");for(var d=0,m=b.length;d<m;d++){var k=b[d].split("=");c[decodeURIComponent(k[0])]=decodeURIComponent(k[1])}return c}},{}],33:[function(d,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
w="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(c){var d=c,k=c.indexOf("["),g=c.indexOf("]");-1!=k&&-1!=g&&(c=c.substring(0,k)+c.substring(k,g).replace(/:/g,";")+c.substring(g,c.length));c=b.exec(c||"");for(var y={},x=14;x--;)y[w[x]]=c[x]||"";-1!=k&&-1!=g&&(y.source=d,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=
!0);return y}},{}],34:[function(d,g,c){function b(b,c,d){return c?new w(b,c):new w(b)}d=function(){return this}();var w=d.WebSocket||d.MozWebSocket;g.exports=w?b:null;w&&(b.prototype=w.prototype)},{}],35:[function(d,g,c){(function(b){var c=d("isarray");g.exports=function(d){function m(d){if(!d)return!1;if(b.Buffer&&b.Buffer.isBuffer(d)||b.ArrayBuffer&&d instanceof ArrayBuffer||b.Blob&&d instanceof Blob||b.File&&d instanceof File)return!0;if(c(d))for(var e=0;e<d.length;e++){if(m(d[e]))return!0}else if(d&&
"object"==typeof d)for(e in d.toJSON&&(d=d.toJSON()),d)if(d.hasOwnProperty(e)&&m(d[e]))return!0;return!1}return m(d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(d,g,c){g.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(d,g,c){d=d("global");try{g.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(b){g.exports=!1}},{global:38}],38:[function(d,g,
c){g.exports=function(){return this}()},{}],39:[function(d,g,c){var b=[].indexOf;g.exports=function(c,d){if(b)return c.indexOf(d);for(var m=0;m<c.length;++m)if(c[m]===d)return m;return-1}},{}],40:[function(d,g,c){var b=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(c){var d=[],m;for(m in c)b.call(c,m)&&d.push(m);return d};c.values=function(c){var d=[],m;for(m in c)b.call(c,m)&&d.push(c[m]);return d};c.merge=function(c,d){for(var m in d)b.call(d,m)&&(c[m]=d[m]);return c};c.length=function(b){return c.keys(b).length};
c.isEmpty=function(b){return 0==c.length(b)}},{}],41:[function(d,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(c){c=b.exec(c||"");for(var d={},k=14;k--;)d[w[k]]=c[k]||
"";return d}},{}],42:[function(d,g,c){(function(b){var g=d("isarray"),e=d("./is-buffer");c.deconstructPacket=function(b){function c(b){if(!b)return b;if(e(b)){var m={_placeholder:!0,num:d.length};d.push(b);return m}if(g(b)){for(var m=Array(b.length),a=0;a<b.length;a++)m[a]=c(b[a]);return m}if("object"==typeof b&&!(b instanceof Date)){m={};for(a in b)m[a]=c(b[a]);return m}return b}var d=[];b.data=c(b.data);b.attachments=d.length;return{packet:b,buffers:d}};c.reconstructPacket=function(b,c){function d(b){if(b&&
b._placeholder)return c[b.num];if(g(b))for(var e=0;e<b.length;e++)b[e]=d(b[e]);else if(b&&"object"==typeof b)for(e in b)b[e]=d(b[e]);return b}b.data=d(b.data);b.attachments=void 0;return b};c.removeBlobs=function(c,d){function r(a,c,v){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){y++;var B=new FileReader;B.onload=function(){v?v[c]=this.result:x=this.result;--y||d(x)};B.readAsArrayBuffer(a)}else if(g(a))for(B=0;B<a.length;B++)r(a[B],B,a);else if(a&&"object"==typeof a&&!e(a))for(B in a)r(a[B],
B,a)}var y=0,x=c;r(x);y||d(x)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(d,g,c){function b(){}function w(a){var b,d=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp);null!=a.id&&(d&&(b+=",",d=!1),b+=a.id);null!=a.data&&(d&&(b+=","),b+=y.stringify(a.data));r("encoded %j as %s",a,b);return b}function e(a,b){x.removeBlobs(a,function(a){var c=x.deconstructPacket(a);
a=w(c.packet);c=c.buffers;c.unshift(a);b(c)})}function m(){this.reconstructor=null}function k(a){this.reconPack=a;this.buffers=[]}var r=d("debug")("socket.io-parser"),y=d("json3");d("isarray");g=d("component-emitter");var x=d("./binary"),a=d("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=b;c.Decoder=m;b.prototype.encode=function(a,b){r("encoding packet %j",
a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)e(a,b);else{var d=w(a);b([d])}};g(m.prototype);m.prototype.add=function(b){if("string"==typeof b){a:{var d={},e=0;d.type=Number(b.charAt(0));if(null==c.types[d.type])b={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==d.type||c.BINARY_ACK==d.type){for(d.attachments="";"-"!=b.charAt(++e);)d.attachments+=b.charAt(e);d.attachments=Number(d.attachments)}if("/"==b.charAt(e+1))for(d.nsp="";++e;){var E=b.charAt(e);if(","==E)break;d.nsp+=E;if(e+
1==b.length)break}else d.nsp="/";E=b.charAt(e+1);if(""!=E&&Number(E)==E){for(d.id="";++e;){E=b.charAt(e);if(null==E||Number(E)!=E){--e;break}d.id+=b.charAt(e);if(e+1==b.length)break}d.id=Number(d.id)}if(b.charAt(++e))try{d.data=y.parse(b.substr(e))}catch(g){b={type:c.ERROR,data:"parser error"};break a}r("decoded %s as %j",b,d);b=d}}c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new k(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(a(b)||
b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};m.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};k.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=x.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};k.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(d,g,c){(function(b){g.exports=function(c){return b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(d,g,c){g.exports=d(36)},{}],46:[function(d,g,c){(function(b){function d(b){if(d[b]!==r)return d[b];
var c;if("bug-string-char-index"==b)c="a"!="a"[0];else if("json"==b)c=d("json-stringify")&&d("json-parse");else{var f;if("json-stringify"==b){c=x.stringify;var h="function"==typeof c&&a;if(h){(f=function(){return 1}).toJSON=f;try{h="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(e)===r&&c(r)===r&&c()===r&&"1"===c(f)&&"[1]"==c([f])&&"[null]"==c([r])&&"null"==c(null)&&"[null,null,null]"==c([r,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[f,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===c(null,f)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(l){h=!1}}c=h}if("json-parse"==b){c=x.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){f=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var F=5==f.a.length&&1===f.a[0];if(F){try{F=!c('"\t"')}catch(l){}if(F)try{F=1!==
c("01")}catch(l){}if(F)try{F=1!==c("1.")}catch(l){}}}}catch(l){F=!1}c=F}}return d[b]=!!c}var e={}.toString,g,k,r,y="object"==typeof JSON&&JSON,x="object"==typeof c&&c&&!c.nodeType&&c;x&&y?(x.stringify=y.stringify,x.parse=y.parse):x=b.JSON=y||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(P){}if(!d("json")){var n=d("bug-string-char-index");
if(!a)var v=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return B[b]+365*(a-1970)+v((a-1969+(b=+(1<b)))/4)-v((a-1901+b)/100)+v((a-1601+b)/400)};(g={}.hasOwnProperty)||(g=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=e?g=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,g=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return g.call(this,
a)});var H={"boolean":1,number:1,string:1,undefined:1};k=function(a,b){var c=0,f,d,h;(f=function(){this.valueOf=0}).prototype.valueOf=0;d=new f;for(h in d)g.call(d,h)&&c++;f=d=null;c?k=2==c?function(a,b){var c={},f="[object Function]"==e.call(a),d;for(d in a)f&&"prototype"==d||g.call(c,d)||!(c[d]=1)||!g.call(a,d)||b(d)}:function(a,b){var c="[object Function]"==e.call(a),f,d;for(f in a)c&&"prototype"==f||!g.call(a,f)||(d="constructor"===f)||b(f);(d||g.call(a,f="constructor"))&&b(f)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
k=function(a,b){var c="[object Function]"==e.call(a),f,h;if(h=!c&&"function"!=typeof a.constructor)h=typeof a.hasOwnProperty,h="object"==h?!!a.hasOwnProperty:!H[h];h=h?a.hasOwnProperty:g;for(f in a)c&&"prototype"==f||!h.call(a,f)||b(f);for(c=d.length;f=d[--c];h.call(a,f)&&b(f));});return k(a,b)};if(!d("json-stringify")){var f={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},l=function(a,b){return("000000"+(b||0)).slice(-a)},h=function(a){var b='"',c=0,d=a.length,h=10<d&&n,F;for(h&&
(F=a.split(""));c<d;c++){var D=a.charCodeAt(c);switch(D){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=f[D];break;default:if(32>D){b+="\\u00"+l(2,D.toString(16));break}b+=h?F[c]:n?a.charAt(c):a[c]}}return b+'"'},D=function(a,b,c,f,d,F,n){var u,t,q,C,A,p,L,I,B;try{u=b[a]}catch(H){}if("object"==typeof u&&u)if(t=e.call(u),"[object Date]"!=t||g.call(u,"toJSON"))"function"==typeof u.toJSON&&("[object Number]"!=t&&"[object String]"!=t&&"[object Array]"!=t||g.call(u,"toJSON"))&&(u=u.toJSON(a));
else if(u>-1/0&&u<1/0){if(E){C=v(u/864E5);for(t=v(C/365.2425)+1970-1;E(t+1,0)<=C;t++);for(q=v((C-E(t,0))/30.42);E(t,q+1)<=C;q++);C=1+C-E(t,q);A=(u%864E5+864E5)%864E5;p=v(A/36E5)%24;L=v(A/6E4)%60;I=v(A/1E3)%60;A%=1E3}else t=u.getUTCFullYear(),q=u.getUTCMonth(),C=u.getUTCDate(),p=u.getUTCHours(),L=u.getUTCMinutes(),I=u.getUTCSeconds(),A=u.getUTCMilliseconds();u=(0>=t||1E4<=t?(0>t?"-":"+")+l(6,0>t?-t:t):l(4,t))+"-"+l(2,q+1)+"-"+l(2,C)+"T"+l(2,p)+":"+l(2,L)+":"+l(2,I)+"."+l(3,A)+"Z"}else u=null;c&&(u=
c.call(b,a,u));if(null===u)return"null";t=e.call(u);if("[object Boolean]"==t)return""+u;if("[object Number]"==t)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==t)return h(""+u);if("object"==typeof u){for(a=n.length;a--;)if(n[a]===u)throw TypeError();n.push(u);B=[];b=F;F+=d;if("[object Array]"==t){q=0;for(a=u.length;q<a;q++)t=D(q,u,c,f,d,F,n),B.push(t===r?"null":t);a=B.length?d?"[\n"+F+B.join(",\n"+F)+"\n"+b+"]":"["+B.join(",")+"]":"[]"}else k(f||u,function(a){var b=D(a,u,c,f,d,F,n);b!==r&&
B.push(h(a)+":"+(d?" ":"")+b)}),a=B.length?d?"{\n"+F+B.join(",\n"+F)+"\n"+b+"}":"{"+B.join(",")+"}":"{}";n.pop();return a}};x.stringify=function(a,b,c){var f,d,h,l;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(l=e.call(b)))d=b;else if("[object Array]"==l){h={};for(var F=0,n=b.length,u;F<n;u=b[F++],(l=e.call(u),"[object String]"==l||"[object Number]"==l)&&(h[u]=1));}if(c)if("[object Number]"==(l=e.call(c))){if(0<(c-=c%1))for(f="",10<c&&(c=10);f.length<c;f+=" ");}else"[object String]"==
l&&(f=10>=c.length?c:c.slice(0,10));return D("",(u={},u[""]=a,u),d,h,f,"",[])}}if(!d("json-parse")){var q=String.fromCharCode,C={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,A,t=function(){p=A=null;throw SyntaxError();},u=function(){for(var a=A,b=a.length,c,f,d,h,l;p<b;)switch(l=a.charCodeAt(p),l){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=n?a.charAt(p):a[p],p++,c;case 34:c="@";for(p++;p<b;)if(l=a.charCodeAt(p),32>l)t();
else if(92==l)switch(l=a.charCodeAt(++p),l){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=C[l];p++;break;case 117:f=++p;for(d=p+4;p<d;p++)l=a.charCodeAt(p),48<=l&&57>=l||97<=l&&102>=l||65<=l&&70>=l||t();c+=q("0x"+a.slice(f,p));break;default:t()}else{if(34==l)break;l=a.charCodeAt(p);for(f=p;32<=l&&92!=l&&34!=l;)l=a.charCodeAt(++p);c+=a.slice(f,p)}if(34==a.charCodeAt(p))return p++,c;t();default:f=p;45==l&&(h=!0,l=a.charCodeAt(++p));if(48<=l&&57>=l){for(48==l&&(l=a.charCodeAt(p+
1),48<=l&&57>=l)&&t();p<b&&(l=a.charCodeAt(p),48<=l&&57>=l);p++);if(46==a.charCodeAt(p)){for(d=++p;d<b&&(l=a.charCodeAt(d),48<=l&&57>=l);d++);d==p&&t();p=d}l=a.charCodeAt(p);if(101==l||69==l){l=a.charCodeAt(++p);43!=l&&45!=l||p++;for(d=p;d<b&&(l=a.charCodeAt(d),48<=l&&57>=l);d++);d==p&&t();p=d}return+a.slice(f,p)}h&&t();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,null;t()}return"$"},I=function(a){var b,c;"$"==a&&t();if("string"==
typeof a){if("@"==(n?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=u();if("]"==a)break;c&&(","==a?(a=u(),"]"==a&&t()):t());","==a&&t();b.push(I(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=u();if("}"==a)break;c&&(","==a?(a=u(),"}"==a&&t()):t());","!=a&&"string"==typeof a&&"@"==(n?a.charAt(0):a[0])&&":"==u()||t();b[a.slice(1)]=I(u())}return b}t()}return a},F=function(a,b,c){c=L(a,b,c);c===r?delete a[b]:a[b]=c},L=function(a,b,c){var f=a[b],d;if("object"==typeof f&&f)if("[object Array]"==
e.call(f))for(d=f.length;d--;)F(f,d,c);else k(f,function(a){F(f,a,c)});return c.call(a,b,f)};x.parse=function(a,b){var c,f;p=0;A=""+a;c=I(u());"$"!=u()&&t();p=A=null;return b&&"[object Function]"==e.call(b)?L((f={},f[""]=c,f),"",b):c}}}})(this)},{}],47:[function(d,g,c){g.exports=function(b,c){for(var d=[],g=(c=c||0)||0;g<b.length;g++)d[g-c]=b[g];return d}},{}]},{},[1])(1)});var QRCode;
!function(){function z(a){this.mode=e.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];a=[];for(var b=0,c=this.data.length;c>b;b++){var d=this.data.charCodeAt(b);65536<d?(a[0]=240|(1835008&d)>>>18,a[1]=128|(258048&d)>>>12,a[2]=128|(4032&d)>>>6,a[3]=128|63&d):2048<d?(a[0]=224|(61440&d)>>>12,a[1]=128|(4032&d)>>>6,a[2]=128|63&d):128<d?(a[0]=192|(1984&d)>>>6,a[1]=128|63&d):a[0]=d;this.parsedData=this.parsedData.concat(a)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function d(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function g(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function c(a,b){this.totalCount=a;this.dataCount=b}function b(){this.buffer=[];this.length=0}function w(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&
(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}z.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}};d.prototype={addData:function(a){a=new z(a);this.dataList.push(a);this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[c][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,
b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,
c);var d=k.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-
8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=k.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var l=-2;2>=l;l++)this.modules[d+f][e+l]=-2==f||2==f||-2==l||2==l||0==f&&0==l?!0:!1}},setupTypeNumber:function(a){for(var b=k.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-
8-3]=d}for(c=0;18>c;c++)d=!a&&1==(1&b>>c),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=k.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(1&c>>d);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(1&c>>d),8>d?this.modules[8][this.moduleCount-d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,
b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,l=this.moduleCount-1;0<l;l-=2)for(6==l&&l--;;){for(var h=0;2>h;h++)if(null==this.modules[d][l-h]){var D=!1;f<a.length&&(D=1==(1&a[f]>>>e));k.getMask(b,d,l-h)&&(D=!D);this.modules[d][l-h]=D;e--; -1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};d.PAD0=236;d.PAD1=17;d.createData=function(a,e,g){e=c.getRSBlocks(a,e);for(var m=new b,r=0;r<g.length;r++){var f=g[r];m.put(f.mode,4);m.put(f.getLength(),k.getLengthInBits(f.mode,a));f.write(m)}for(r=
a=0;r<e.length;r++)a+=e[r].dataCount;if(m.getLengthInBits()>8*a)throw Error("code length overflow. ("+m.getLengthInBits()+">"+8*a+")");for(m.getLengthInBits()+4<=8*a&&m.put(0,4);0!=m.getLengthInBits()%8;)m.putBit(!1);for(;!(m.getLengthInBits()>=8*a||(m.put(d.PAD0,8),m.getLengthInBits()>=8*a));)m.put(d.PAD1,8);return d.createBytes(m,e)};d.createBytes=function(a,b){for(var c=0,d=0,e=0,f=Array(b.length),l=Array(b.length),h=0;h<b.length;h++){var D=b[h].dataCount,q=b[h].totalCount-D,d=Math.max(d,D),e=
Math.max(e,q);f[h]=Array(D);for(var C=0;C<f[h].length;C++)f[h][C]=255&a.buffer[C+c];c+=D;C=k.getErrorCorrectPolynomial(q);D=(new g(f[h],C.getLength()-1)).mod(C);l[h]=Array(C.getLength()-1);for(C=0;C<l[h].length;C++)q=C+D.getLength()-l[h].length,l[h][C]=0<=q?D.get(q):0}for(C=h=0;C<b.length;C++)h+=b[C].totalCount;c=Array(h);for(C=D=0;d>C;C++)for(h=0;h<b.length;h++)C<f[h].length&&(c[D++]=f[h][C]);for(C=0;e>C;C++)for(h=0;h<b.length;h++)C<l[h].length&&(c[D++]=l[h][C]);return c};for(var e={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},m={L:1,M:0,Q:3,H:2},k={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=k.getBCHDigit(b)-k.getBCHDigit(k.G15);)b^=k.G15<<k.getBCHDigit(b)-k.getBCHDigit(k.G15);return(a<<10|b)^k.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=k.getBCHDigit(b)-k.getBCHDigit(k.G18);)b^=k.G18<<k.getBCHDigit(b)-
k.getBCHDigit(k.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return k.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var b=
new g([1],0),c=0;a>c;c++)b=b.multiply(new g([1,r.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else{if(!(41>b))throw Error("type:"+b);switch(a){case e.MODE_NUMBER:return 14;
case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw Error("mode:"+a);}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,l=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var D=-1;1>=D;D++)0>e+D||e+D>=b||(0!=h||0!=D)&&l==a.isDark(d+h,e+D)&&f++;5<f&&(c+=3+f-5)}for(d=0;b-1>d;d++)for(e=0;b-1>e;e++)f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0!=f&&
4!=f||(c+=3);for(d=0;b>d;d++)for(e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;b>e;e++)for(d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;b>e;e++)for(d=0;b>d;d++)a.isDark(d,e)&&f++;return c+Math.abs(100*f/b/b-50)/5*10}},r={glog:function(a){if(1>a)throw Error("glog("+a+")");return r.LOG_TABLE[a]},
gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return r.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},y=0;8>y;y++)r.EXP_TABLE[y]=1<<y;for(y=8;256>y;y++)r.EXP_TABLE[y]=r.EXP_TABLE[y-4]^r.EXP_TABLE[y-5]^r.EXP_TABLE[y-6]^r.EXP_TABLE[y-8];for(y=0;255>y;y++)r.LOG_TABLE[r.EXP_TABLE[y]]=y;g.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=
0;d<a.getLength();d++)b[c+d]^=r.gexp(r.glog(this.get(c))+r.glog(a.get(d)));return new g(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=r.glog(this.get(0))-r.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=r.gexp(r.glog(a.get(d))+b);return(new g(c,0)).mod(a)}};c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];c.getRSBlocks=function(a,b){var d=c.getRsBlockTable(a,b);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var e=d.length/3,g=[],f=0;e>f;f++)for(var l=d[3*f+0],h=d[3*f+1],D=d[3*f+2],q=0;l>q;q++)g.push(new c(h,D));return g};c.getRsBlockTable=function(a,
b){switch(b){case m.L:return c.RS_BLOCK_TABLE[4*(a-1)+0];case m.M:return c.RS_BLOCK_TABLE[4*(a-1)+1];case m.Q:return c.RS_BLOCK_TABLE[4*(a-1)+2];case m.H:return c.RS_BLOCK_TABLE[4*(a-1)+3]}};b.prototype={get:function(a){return 1==(1&this.buffer[Math.floor(a/8)]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=
128>>>this.length%8);this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,
805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],y=function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){function b(a,c){var d=document.createElementNS("http://www.w3.org/2000/svg",a),f;for(f in c)c.hasOwnProperty(f)&&d.setAttribute(f,
c[f]);return d}var c=this._htOption,d=this._el,f=a.getModuleCount();Math.floor(c.width/f);Math.floor(c.height/f);this.clear();var l=b("svg",{viewBox:"0 0 "+String(f)+" "+String(f),width:"100%",height:"100%",fill:c.colorLight});l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");d.appendChild(l);l.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(c=0;f>c;c++)for(d=0;f>d;d++)if(a.isDark(c,d)){var h=b("use",{x:String(c),y:String(d)});
h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");l.appendChild(h)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),a="svg"===document.documentElement.tagName.toLowerCase()?y:"undefined"!=typeof CanvasRenderingContext2D?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function b(a,c){var d=this;if(d._fFail=c,d._fSuccess=
a,null===d._bSupportDataURI){var e=document.createElement("img"),q=function(){d._bSupportDataURI=!1;d._fFail&&_fFail.call(d)};return e.onabort=q,e.onerror=q,e.onload=function(){d._bSupportDataURI=!0;d._fSuccess&&d._fSuccess.call(d)},e.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}!0===d._bSupportDataURI&&d._fSuccess?d._fSuccess.call(d):!1===d._bSupportDataURI&&d._fFail&&d._fFail.call(d)}if(this._android&&
2.1>=this._android){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,h,e,q,C,p,A){if("nodeName"in a&&/img/i.test(a.nodeName))for(var t=arguments.length-1;1<=t;t--)arguments[t]*=c;else"undefined"==typeof A&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1;this._android=w();this._htOption=b;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=b.width;this._elCanvas.height=b.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),C=d.width/e,p=d.height/e,A=Math.round(C),t=Math.round(p);b.style.display="none";
this.clear();for(b=0;e>b;b++)for(var u=0;e>u;u++){var I=a.isDark(b,u),F=u*C,L=b*p;c.strokeStyle=I?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=I?d.colorDark:d.colorLight;c.fillRect(F,L,C,p);c.strokeRect(Math.floor(F)+.5,Math.floor(L)+.5,A,t);c.strokeRect(Math.ceil(F)-.5,Math.ceil(L)-.5,A,t)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a},e}():function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),f=Math.floor(b.width/d),l=Math.floor(b.height/d),h=['<table style="border:0;border-collapse:collapse;">'],e=0;d>e;e++){h.push("<tr>");for(var q=0;d>q;q++)h.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
f+"px;height:"+l+"px;background-color:"+(a.isDark(e,q)?b.colorDark:b.colorLight)+';"></td>');h.push("</tr>")}h.push("</table>");c.innerHTML=h.join("");a=c.childNodes[0];c=(b.width-a.offsetWidth)/2;b=(b.height-a.offsetHeight)/2;0<c&&0<b&&(a.style.margin=b+"px "+c+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(b,c){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:m.H},"string"==typeof c&&(c={text:c}),c)for(var d in c)this._htOption[d]=
c[d];"string"==typeof b&&(b=document.getElementById(b));this._android=w();this._el=b;this._oQRCode=null;this._oDrawing=new a(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(a){var b=this._htOption.correctLevel,c=1,e;e=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");e=e.length+(e.length!=a?3:0);for(var g=0,f=x.length;f>=g;g++){var l=0;switch(b){case m.L:l=x[g][0];break;case m.M:l=x[g][1];break;case m.Q:l=x[g][2];break;case m.H:l=
x[g][3]}if(l>=e)break;c++}if(c>x.length)throw Error("Too long data");this._oQRCode=new d(c,this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._el.title=a;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=m}();
(function(){(function(z){var d=this||(0,eval)("this"),g=d.document,c=d.navigator,b=d.jQuery,w=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(e,m){function k(a,b){return null===a||typeof a in n?a===b:!1}function r(a,b){var c;return function(){c||(c=setTimeout(function(){c=z;a()},b))}}function y(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function x(b,c,d,e){a.bindingHandlers[b]={init:function(b,f,p,A,t){var u,I;a.computed(function(){var F=a.utils.unwrapObservable(f()),A=!d!==!F,P=!I;if(P||c||A!==u)P&&a.computedContext.getDependenciesCount()&&(I=a.utils.cloneNodes(a.virtualElements.childNodes(b),!0)),A?(P||a.virtualElements.setDomNodeChildren(b,a.utils.cloneNodes(I)),a.applyBindingsToDescendants(e?e(t,F):t,b)):a.virtualElements.emptyNode(b),u=A},null,{disposeWhenNodeIsRemoved:b});return{controlsDescendantBindings:!0}}};
a.expressionRewriting.bindingRewriteValidators[b]=!1;a.virtualElements.allowedBindings[b]=!0}var a="undefined"!==typeof e?e:{};a.exportSymbol=function(b,c){for(var d=b.split("."),e=a,q=0;q<d.length-1;q++)e=e[d[q]];e[d[d.length-1]]=c};a.exportProperty=function(a,b,c){a[b]=c};a.version="3.3.0";a.exportSymbol("version",a.version);a.utils=function(){function f(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function l(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a,
b){a.__proto__=b;return a}function e(b,c,d,f){var h=b[c].match(I)||[];a.utils.arrayForEach(d.match(I),function(b){a.utils.addOrRemoveItem(h,b,f)});b[c]=h.join(" ")}var q={__proto__:[]}instanceof Array,C={},p={},A=c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents";C[A]=["keyup","keydown","keypress"];C.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");f(C,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)p[b[c]]=a});var t=
{propertychange:!0},u=g&&function(){for(var a=3,b=g.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:z}(),I=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<
d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,f=a.length;d<f;d++)if(b.call(c,a[d],d))return a[d];return null},arrayRemoveItem:function(b,c){var d=a.utils.arrayIndexOf(b,c);0<d?b.splice(d,1):0===d&&b.shift()},arrayGetDistinctValues:function(b){b=b||[];for(var c=[],d=0,f=b.length;d<f;d++)0>a.utils.arrayIndexOf(c,b[d])&&c.push(b[d]);return c},arrayMap:function(a,b){a=a||[];for(var c=[],d=0,f=a.length;d<f;d++)c.push(b(a[d],d));return c},arrayFilter:function(a,b){a=a||[];
for(var c=[],d=0,f=a.length;d<f;d++)b(a[d],d)&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(b,c,d){var f=a.utils.arrayIndexOf(a.utils.peekObservable(b),c);0>f?d&&b.push(c):d||b.splice(f,1)},canSetPrototype:q,extend:l,setPrototypeOf:h,setPrototypeOfOrExtend:q?h:l,objectForEach:f,objectMap:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],
d,a));return c},emptyDomNode:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},moveCleanedNodesToContainerElement:function(b){b=a.utils.makeArray(b);for(var c=(b[0]&&b[0].ownerDocument||g).createElement("div"),d=0,f=b.length;d<f;d++)c.appendChild(a.cleanNode(b[d]));return c},cloneNodes:function(b,c){for(var d=0,f=b.length,h=[];d<f;d++){var l=b[d].cloneNode(!0);h.push(c?a.cleanNode(l):l)}return h},setDomNodeChildren:function(b,c){a.utils.emptyDomNode(b);if(c)for(var d=0,f=c.length;d<f;d++)b.appendChild(c[d])},
replaceDomNodes:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var f=d[0],h=f.parentNode,l=0,e=c.length;l<e;l++)h.insertBefore(c[l],f);l=0;for(e=d.length;l<e;l++)a.removeNode(d[l])}},fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){7>u?a.setAttribute("selected",
b):a.selected=b},stringTrim:function(a){return null===a||a===z?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(b){return a.utils.domNodeIsContainedBy(b,
b.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(b){return!!a.utils.arrayFirst(b,a.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(c,d,f){var h=u&&t[d];if(!h&&b)b(c).bind(d,f);else if(h||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var l=function(a){f.call(c,a)},e="on"+d;c.attachEvent(e,l);a.utils.domNodeDisposal.addDisposeCallback(c,function(){c.detachEvent(e,
l)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else c.addEventListener(d,f,!1)},triggerEvent:function(c,f){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var h;"input"===a.utils.tagNameLower(c)&&c.type?"click"!=f.toLowerCase()?h=!1:(h=c.type,h="checkbox"==h||"radio"==h):h=!1;if(b&&!h)b(c).trigger(f);else if("function"==typeof g.createEvent)if("function"==typeof c.dispatchEvent)h=g.createEvent(p[f]||"HTMLEvents"),h.initEvent(f,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(h);else throw Error("The supplied element doesn't support dispatchEvent");else if(h&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+f);else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(b){return a.isObservable(b)?b():b},peekObservable:function(b){return a.isObservable(b)?b.peek():b},toggleDomNodeCssClass:function(b,c,d){var f;c&&("object"===typeof b.classList?(f=b.classList[d?"add":
"remove"],a.utils.arrayForEach(c.match(I),function(a){f.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},setTextContent:function(b,c){var d=a.utils.unwrapObservable(c);if(null===d||d===z)d="";var f=a.virtualElements.firstChild(b);!f||3!=f.nodeType||a.virtualElements.nextSibling(f)?a.virtualElements.setDomNodeChildren(b,[b.ownerDocument.createTextNode(d)]):f.data=d;a.utils.forceRefresh(b)},setElementName:function(a,b){a.name=b;if(7>=u)try{a.mergeAttributes(g.createElement("<input name='"+
a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){9<=u&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ensureSelectElementIsRenderedCorrectly:function(a){if(u){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,c){b=a.utils.unwrapObservable(b);c=a.utils.unwrapObservable(c);for(var d=[],f=b;f<=c;f++)d.push(f);return d},makeArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:6===u,isIe7:7===u,ieVersion:u,getFormFields:function(b,
c){for(var d=a.utils.makeArray(b.getElementsByTagName("input")).concat(a.utils.makeArray(b.getElementsByTagName("textarea"))),f="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},h=[],l=d.length-1;0<=l;l--)f(d[l])&&h.push(d[l]);return h},parseJson:function(b){return"string"==typeof b&&(b=a.utils.stringTrim(b))?w&&w.parse?w.parse(b):(new Function("return "+b))():null},stringifyJson:function(b,c,d){if(!w||!w.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return w.stringify(a.utils.unwrapObservable(b),c,d)},postJson:function(b,c,d){d=d||{};var h=d.params||{},l=d.includeFields||this.fieldsIncludedWithJsonPost,e=b;if("object"==typeof b&&"form"===a.utils.tagNameLower(b))for(var e=b.action,u=l.length-1;0<=u;u--)for(var D=a.utils.getFormFields(b,l[u]),t=D.length-1;0<=t;t--)h[D[t].name]=D[t].value;c=a.utils.unwrapObservable(c);var q=g.createElement("form");q.style.display="none";q.action=e;q.method="post";for(var C in c)b=g.createElement("input"),b.type=
"hidden",b.name=C,b.value=a.utils.stringifyJson(a.utils.unwrapObservable(c[C])),q.appendChild(b);f(h,function(a,b){var c=g.createElement("input");c.type="hidden";c.name=a;c.value=b;q.appendChild(c)});g.body.appendChild(q);d.submitter?d.submitter(q):q.submit();setTimeout(function(){q.parentNode.removeChild(q)},0)}}}();a.exportSymbol("utils",a.utils);a.exportSymbol("utils.arrayForEach",a.utils.arrayForEach);a.exportSymbol("utils.arrayFirst",a.utils.arrayFirst);a.exportSymbol("utils.arrayFilter",a.utils.arrayFilter);
a.exportSymbol("utils.arrayGetDistinctValues",a.utils.arrayGetDistinctValues);a.exportSymbol("utils.arrayIndexOf",a.utils.arrayIndexOf);a.exportSymbol("utils.arrayMap",a.utils.arrayMap);a.exportSymbol("utils.arrayPushAll",a.utils.arrayPushAll);a.exportSymbol("utils.arrayRemoveItem",a.utils.arrayRemoveItem);a.exportSymbol("utils.extend",a.utils.extend);a.exportSymbol("utils.fieldsIncludedWithJsonPost",a.utils.fieldsIncludedWithJsonPost);a.exportSymbol("utils.getFormFields",a.utils.getFormFields);a.exportSymbol("utils.peekObservable",
a.utils.peekObservable);a.exportSymbol("utils.postJson",a.utils.postJson);a.exportSymbol("utils.parseJson",a.utils.parseJson);a.exportSymbol("utils.registerEventHandler",a.utils.registerEventHandler);a.exportSymbol("utils.stringifyJson",a.utils.stringifyJson);a.exportSymbol("utils.range",a.utils.range);a.exportSymbol("utils.toggleDomNodeCssClass",a.utils.toggleDomNodeCssClass);a.exportSymbol("utils.triggerEvent",a.utils.triggerEvent);a.exportSymbol("utils.unwrapObservable",a.utils.unwrapObservable);
a.exportSymbol("utils.objectForEach",a.utils.objectForEach);a.exportSymbol("utils.addOrRemoveItem",a.utils.addOrRemoveItem);a.exportSymbol("utils.setTextContent",a.utils.setTextContent);a.exportSymbol("unwrap",a.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return b.apply(a,
d)}});a.utils.domData=new function(){function a(f,e){var p=f[c];if(!p||"null"===p||!d[p]){if(!e)return z;p=f[c]="ko"+b++;d[p]={}}return d[p]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===z?z:d[c]},set:function(b,c,d){if(d!==z||a(b,!1)!==z)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},nextKey:function(){return b++ +c}}};a.exportSymbol("utils.domData",a.utils.domData);a.exportSymbol("utils.domData.clear",a.utils.domData.clear);
a.utils.domNodeDisposal=new function(){function c(b,d){var f=a.utils.domData.get(b,h);f===z&&d&&(f=[],a.utils.domData.set(b,h,f));return f}function d(b){var h=c(b,!1);if(h)for(var h=h.slice(0),e=0;e<h.length;e++)h[e](b);a.utils.domData.clear(b);a.utils.domNodeDisposal.cleanExternalData(b);if(q[b.nodeType])for(h=b.firstChild;b=h;)h=b.nextSibling,8===b.nodeType&&d(b)}var h=a.utils.domData.nextKey(),e={1:!0,8:!0,9:!0},q={1:!0,9:!0};return{addDisposeCallback:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");
c(a,!0).push(b)},removeDisposeCallback:function(b,d){var l=c(b,!1);l&&(a.utils.arrayRemoveItem(l,d),0==l.length&&a.utils.domData.set(b,h,z))},cleanNode:function(b){if(e[b.nodeType]&&(d(b),q[b.nodeType])){var c=[];a.utils.arrayPushAll(c,b.getElementsByTagName("*"));for(var f=0,h=c.length;f<h;f++)d(c[f])}return b},removeNode:function(b){a.cleanNode(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.cleanNode=a.utils.domNodeDisposal.cleanNode;
a.removeNode=a.utils.domNodeDisposal.removeNode;a.exportSymbol("cleanNode",a.cleanNode);a.exportSymbol("removeNode",a.removeNode);a.exportSymbol("utils.domNodeDisposal",a.utils.domNodeDisposal);a.exportSymbol("utils.domNodeDisposal.addDisposeCallback",a.utils.domNodeDisposal.addDisposeCallback);a.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",a.utils.domNodeDisposal.removeDisposeCallback);(function(){a.utils.parseHtmlFragment=function(c,l){var h;if(b)if(b.parseHTML)h=b.parseHTML(c,l)||
[];else{if((h=b.clean([c],l))&&h[0]){for(var e=h[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{(e=l)||(e=g);h=e.parentWindow||e.defaultView||d;var q=a.utils.stringTrim(c).toLowerCase(),e=e.createElement("div"),q=q.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!q.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!q.indexOf("<td")||!q.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],C="ignored<div>"+
q[1]+c+q[2]+"</div>";for("function"==typeof h.innerShiv?e.appendChild(h.innerShiv(C)):e.innerHTML=C;q[0]--;)e=e.lastChild;h=a.utils.makeArray(e.lastChild.childNodes)}return h};a.utils.setHtml=function(c,d){a.utils.emptyDomNode(c);d=a.utils.unwrapObservable(d);if(null!==d&&d!==z)if("string"!=typeof d&&(d=d.toString()),b)b(c).html(d);else for(var h=a.utils.parseHtmlFragment(d,c.ownerDocument),e=0;e<h.length;e++)c.appendChild(h[e])}})();a.exportSymbol("utils.parseHtmlFragment",a.utils.parseHtmlFragment);
a.exportSymbol("utils.setHtml",a.utils.setHtml);a.memoization=function(){function b(c,d){if(c)if(8==c.nodeType){var l=a.memoization.parseMemoText(c.nodeValue);null!=l&&d.push({domNode:c,memoId:l})}else if(1==c.nodeType)for(var l=0,e=c.childNodes,p=e.length;l<p;l++)b(e[l],d)}var c={};return{memoize:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|
0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},unmemoize:function(a,b){var d=c[a];if(d===z)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},unmemoizeDomNodeAndDescendants:function(c,d){var l=[];b(c,l);for(var e=0,p=l.length;e<p;e++){var A=l[e].domNode,t=[A];d&&a.utils.arrayPushAll(t,d);a.memoization.unmemoize(l[e].memoId,t);A.nodeValue="";A.parentNode&&A.parentNode.removeChild(A)}},
parseMemoText:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.exportSymbol("memoization",a.memoization);a.exportSymbol("memoization.memoize",a.memoization.memoize);a.exportSymbol("memoization.unmemoize",a.memoization.unmemoize);a.exportSymbol("memoization.parseMemoText",a.memoization.parseMemoText);a.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",a.memoization.unmemoizeDomNodeAndDescendants);a.extenders={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.dependentObservable({read:b,
write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?y:r;a.limit(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:k}};var n={undefined:1,"boolean":1,number:1,string:1};a.exportSymbol("extenders",a.extenders);a.subscription=function(b,c,d){this._target=b;this.callback=c;this.disposeCallback=d;this.isDisposed=!1;a.exportProperty(this,"dispose",
this.dispose)};a.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};a.subscribable=function(){a.utils.setPrototypeOfOrExtend(this,a.subscribable.fn);this._subscriptions={};this._versionNumber=1};var v={subscribe:function(b,c,d){var e=this;d=d||"change";b=c?b.bind(c):b;var q=new a.subscription(e,b,function(){a.utils.arrayRemoveItem(e._subscriptions[d],q);e.afterSubscriptionRemove&&e.afterSubscriptionRemove(d)});e.beforeSubscriptionAdd&&e.beforeSubscriptionAdd(d);e._subscriptions[d]||
(e._subscriptions[d]=[]);e._subscriptions[d].push(q);return q},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.updateVersion();if(this.hasSubscriptionsForEvent(c))try{a.dependencyDetection.begin();for(var d=this._subscriptions[c].slice(0),e=0,q;q=d[e];++e)q.isDisposed||q.callback(b)}finally{a.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(b){var c=
this,d=a.isObservable(c),e,q,C;c._origNotifySubscribers||(c._origNotifySubscribers=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c._rateLimitedBeforeChange(a):c._origNotifySubscribers(a,b):c._rateLimitedChange(a)});var p=b(function(){d&&C===c&&(C=c());e=!1;c.isDifferent(q,C)&&c._origNotifySubscribers(q=C)});c._rateLimitedChange=function(a){e=!0;C=a;p()};c._rateLimitedBeforeChange=function(a){e||(q=a,c._origNotifySubscribers(a,"beforeChange"))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&
this._subscriptions[a].length},getSubscriptionsCount:function(b){if(b)return this._subscriptions[b]&&this._subscriptions[b].length||0;var c=0;a.utils.objectForEach(this._subscriptions,function(a,b){c+=b.length});return c},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.utils.objectForEach(b,function(b,d){var f=a.extenders[b];"function"==typeof f&&(c=f(c,d)||c)});return c}};a.exportProperty(v,"subscribe",v.subscribe);a.exportProperty(v,
"extend",v.extend);a.exportProperty(v,"getSubscriptionsCount",v.getSubscriptionsCount);a.utils.canSetPrototype&&a.utils.setPrototypeOf(v,Function.prototype);a.subscribable.fn=v;a.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.exportSymbol("subscribable",a.subscribable);a.exportSymbol("isSubscribable",a.isSubscribable);a.computedContext=a.dependencyDetection=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],
e,q=0;return{begin:b,end:c,registerDependency:function(b){if(e){if(!a.isSubscribable(b))throw Error("Only subscribable things can act as dependencies");e.callback(b,b._id||(b._id=++q))}},ignore:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},getDependenciesCount:function(){if(e)return e.computed.getDependenciesCount()},isInitial:function(){if(e)return e.isInitial}}}();a.exportSymbol("computedContext",a.computedContext);a.exportSymbol("computedContext.getDependenciesCount",a.computedContext.getDependenciesCount);
a.exportSymbol("computedContext.isInitial",a.computedContext.isInitial);a.exportSymbol("computedContext.isSleeping",a.computedContext.isSleeping);a.exportSymbol("ignoreDependencies",a.ignoreDependencies=a.dependencyDetection.ignore);a.observable=function(b){function c(){if(0<arguments.length)return c.isDifferent(d,arguments[0])&&(c.valueWillMutate(),d=arguments[0],c._latestValue=d,c.valueHasMutated()),this;a.dependencyDetection.registerDependency(c);return d}var d=b;a.subscribable.call(c);a.utils.setPrototypeOfOrExtend(c,
a.observable.fn);c._latestValue=d;c.peek=function(){return d};c.valueHasMutated=function(){c.notifySubscribers(d)};c.valueWillMutate=function(){c.notifySubscribers(d,"beforeChange")};a.exportProperty(c,"peek",c.peek);a.exportProperty(c,"valueHasMutated",c.valueHasMutated);a.exportProperty(c,"valueWillMutate",c.valueWillMutate);return c};a.observable.fn={equalityComparer:k};var B=a.observable.protoProperty="__ko_proto__";a.observable.fn[B]=a.observable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observable.fn,
a.subscribable.fn);a.hasPrototype=function(b,c){return null===b||b===z||b[B]===z?!1:b[B]===c?!0:a.hasPrototype(b[B],c)};a.isObservable=function(b){return a.hasPrototype(b,a.observable)};a.isWriteableObservable=function(b){return"function"==typeof b&&b[B]===a.observable||"function"==typeof b&&b[B]===a.dependentObservable&&b.hasWriteFunction?!0:!1};a.exportSymbol("observable",a.observable);a.exportSymbol("isObservable",a.isObservable);a.exportSymbol("isWriteableObservable",a.isWriteableObservable);
a.exportSymbol("isWritableObservable",a.isWriteableObservable);a.observableArray=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.observable(b);a.utils.setPrototypeOfOrExtend(b,a.observableArray.fn);return b.extend({trackArrayChanges:!0})};a.observableArray.fn={remove:function(b){for(var c=this.peek(),d=[],e="function"!=typeof b||a.isObservable(b)?function(a){return a===
b}:b,q=0;q<c.length;q++){var g=c[q];e(g)&&(0===d.length&&this.valueWillMutate(),d.push(g),c.splice(q,1),q--)}d.length&&this.valueHasMutated();return d},removeAll:function(b){if(b===z){var c=this.peek(),d=c.slice(0);this.valueWillMutate();c.splice(0,c.length);this.valueHasMutated();return d}return b?this.remove(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},destroy:function(b){var c=this.peek(),d="function"!=typeof b||a.isObservable(b)?function(a){return a===b}:b;this.valueWillMutate();for(var e=
c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.valueHasMutated()},destroyAll:function(b){return b===z?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},indexOf:function(b){var c=this();return a.utils.arrayIndexOf(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}};a.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(b){a.observableArray.fn[b]=
function(){var a=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(a,b,arguments);a=a[b].apply(a,arguments);this.valueHasMutated();return a}});a.utils.arrayForEach(["slice"],function(b){a.observableArray.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observableArray.fn,a.observable.fn);a.exportSymbol("observableArray",a.observableArray);a.extenders.trackArrayChanges=function(b){function c(){if(!d){d=!0;var l=b.notifySubscribers;
b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return l.apply(this,arguments)};var u=[].concat(b.peek()||[]);e=null;q=b.subscribe(function(c){c=[].concat(c||[]);if(b.hasSubscriptionsForEvent("arrayChange")){var d;if(!e||1<g)e=a.utils.compareArrays(u,c,{sparse:!0});d=e}u=c;e=null;g=0;d&&d.length&&b.notifySubscribers(d,"arrayChange")})}}if(!b.cacheDiffForKnownOperation){var d=!1,e=null,q,g=0,p=b.beforeSubscriptionAdd,A=b.afterSubscriptionRemove;b.beforeSubscriptionAdd=function(a){p&&p.call(b,
a);"arrayChange"===a&&c()};b.afterSubscriptionRemove=function(a){A&&A.call(b,a);"arrayChange"!==a||b.hasSubscriptionsForEvent("arrayChange")||(q.dispose(),d=!1)};b.cacheDiffForKnownOperation=function(b,c,f){function l(a,b,c){return q[q.length]={status:a,value:b,index:c}}if(d&&!g){var q=[],A=b.length,p=f.length,k=0;switch(c){case "push":k=A;case "unshift":for(c=0;c<p;c++)l("added",f[c],k+c);break;case "pop":k=A-1;case "shift":A&&l("deleted",b[k],k);break;case "splice":c=Math.min(Math.max(0,0>f[0]?
A+f[0]:f[0]),A);for(var A=1===p?A:Math.min(c+(f[1]||0),A),p=c+p-2,k=Math.max(A,p),m=[],n=[],r=2;c<k;++c,++r)c<A&&n.push(l("deleted",b[c],c)),c<p&&m.push(l("added",f[r],c));a.utils.findMovesInArrayComparison(n,m);break;default:return}e=q}}}};a.computed=a.dependentObservable=function(b,c,d){function e(a,b,c){if(v&&b===t)throw Error("A 'pure' computed must not be called recursively");J[a]=c;c._order=K++;c._version=b.getVersion()}function q(){var a,b;for(a in J)if(J.hasOwnProperty(a)&&(b=J[a],b._target.hasChanged(b._version)))return!0}
function g(){!w&&J&&a.utils.objectForEach(J,function(a,b){b.dispose&&b.dispose()});J=null;K=0;r=!0;w=n=!1}function p(){var a=t.throttleEvaluation;a&&0<=a?(clearTimeout(W),W=setTimeout(function(){A(!0)},a)):t._evalRateLimited?t._evalRateLimited():A(!0)}function A(b){if(!T&&!r){if(H&&H()){if(!U){N();return}}else U=!1;T=!0;try{var d=J,f=K,h=v?z:!K;a.dependencyDetection.begin({callback:function(a,b){r||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):J[b]||e(b,a,w?{_target:a}:a.subscribe(p)))},computed:t,isInitial:h});
J={};K=0;try{var u=c?x.call(c):x()}finally{a.dependencyDetection.end(),f&&!w&&a.utils.objectForEach(d,function(a,b){b.dispose&&b.dispose()}),n=!1}t.isDifferent(m,u)&&(w||k(m,"beforeChange"),m=u,t._latestValue=m,w?t.updateVersion():b&&k(m));h&&k(m,"awake")}finally{T=!1}K||N()}}function t(){if(0<arguments.length){if("function"===typeof y)y.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.dependencyDetection.registerDependency(t);(n||w&&q())&&A();return m}function u(){(n&&!K||w&&q())&&A();return m}function I(){return n||0<K}function k(a,b){t.notifySubscribers(a,b)}var m,n=!0,T=!1,U=!1,r=!1,x=b,v=!1,w=!1;x&&"object"==typeof x?(d=x,x=d.read):(d=d||{},x||(x=d.read));if("function"!=typeof x)throw Error("Pass a function that returns the value of the ko.computed");var y=d.write,B=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,E=d.disposeWhen||d.disposeWhen,H=
E,N=g,J={},K=0,W=null;c||(c=d.owner);a.subscribable.call(t);a.utils.setPrototypeOfOrExtend(t,a.dependentObservable.fn);t.peek=u;t.getDependenciesCount=function(){return K};t.hasWriteFunction="function"===typeof y;t.dispose=function(){N()};t.isActive=I;var X=t.limit;t.limit=function(a){X.call(t,a);t._evalRateLimited=function(){t._rateLimitedBeforeChange(m);n=!0;t._rateLimitedChange(t)}};d.pure?(w=v=!0,t.beforeSubscriptionAdd=function(b){if(!r&&w&&"change"==b){w=!1;if(n||q())J=null,K=0,n=!0,A();else{var c=
[];a.utils.objectForEach(J,function(a,b){c[b._order]=a});a.utils.arrayForEach(c,function(a,b){var c=J[a],d=c._target.subscribe(p);d._order=b;d._version=c._version;J[a]=d})}r||k(m,"awake")}},t.afterSubscriptionRemove=function(b){r||"change"!=b||t.hasSubscriptionsForEvent("change")||(a.utils.objectForEach(J,function(a,b){b.dispose&&(J[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),w=!0,k(z,"asleep"))},t._originalGetVersion=t.getVersion,t.getVersion=function(){w&&(n||q())&&
A();return t._originalGetVersion()}):d.deferEvaluation&&(t.beforeSubscriptionAdd=function(a){"change"!=a&&"beforeChange"!=a||u()});a.exportProperty(t,"peek",t.peek);a.exportProperty(t,"dispose",t.dispose);a.exportProperty(t,"isActive",t.isActive);a.exportProperty(t,"getDependenciesCount",t.getDependenciesCount);B&&(U=!0,B.nodeType&&(H=function(){return!a.utils.domNodeIsAttachedToDocument(B)||E&&E()}));w||d.deferEvaluation||A();B&&I()&&B.nodeType&&(N=function(){a.utils.domNodeDisposal.removeDisposeCallback(B,
N);g()},a.utils.domNodeDisposal.addDisposeCallback(B,N));return t};a.isComputed=function(b){return a.hasPrototype(b,a.dependentObservable)};v=a.observable.protoProperty;a.dependentObservable[v]=a.observable;a.dependentObservable.fn={equalityComparer:k};a.dependentObservable.fn[v]=a.dependentObservable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.dependentObservable.fn,a.subscribable.fn);a.exportSymbol("dependentObservable",a.dependentObservable);a.exportSymbol("computed",a.dependentObservable);
a.exportSymbol("isComputed",a.isComputed);a.pureComputed=function(b,c){if("function"===typeof b)return a.computed(b,c,{pure:!0});b=a.utils.extend({},b);b.pure=!0;return a.computed(b,c)};a.exportSymbol("pureComputed",a.pureComputed);(function(){function b(a,e,g){g=g||new d;a=e(a);if("object"!=typeof a||null===a||a===z||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var p=a instanceof Array?[]:{};g.save(a,p);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":p[c]=
d;break;case "object":case "undefined":var h=g.get(d);p[c]=h!==z?h:b(d,e,g)}});return p}function c(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.values=[]}a.toJS=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.isObservable(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.toJS(b);return a.utils.stringifyJson(b,
c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.utils.arrayIndexOf(this.keys,b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.utils.arrayIndexOf(this.keys,b);return 0<=b?this.values[b]:z}}})();a.exportSymbol("toJS",a.toJS);a.exportSymbol("toJSON",a.toJSON);(function(){a.selectExtensions={readValue:function(b){switch(a.utils.tagNameLower(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.utils.domData.get(b,a.bindingHandlers.options.optionValueDomDataKey):
7>=a.utils.ieVersion?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex]):z;default:return b.value}},writeValue:function(b,c,d){switch(a.utils.tagNameLower(b)){case "option":switch(typeof c){case "string":a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,z);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;
default:a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=z;for(var e=-1,q=0,g=b.options.length,p;q<g;++q)if(p=a.selectExtensions.readValue(b.options[q]),p==c||""==p&&c===z){e=q;break}if(d||0<=e||c===z&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===z)c="";b.value=c}}}})();a.exportSymbol("selectExtensions",a.selectExtensions);a.exportSymbol("selectExtensions.readValue",
a.selectExtensions.readValue);a.exportSymbol("selectExtensions.writeValue",a.selectExtensions.writeValue);a.expressionRewriting=function(){function b(c){c=a.utils.stringTrim(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],f=c.match(e),h,l=[],p=0;if(f){f.push(",");for(var k=0,m;m=f[k];++k){var n=m.charCodeAt(0);if(44===n){if(0>=p){d.push(h&&l.length?{key:h,value:l.join("")}:{unknown:h||l.join("")});h=p=0;l=[];continue}}else if(58===n){if(!p&&!h&&1===l.length){h=l.pop();continue}}else 47===n&&
k&&1<m.length?(n=f[k-1].match(q))&&!g[n[0]]&&(c=c.substr(c.indexOf(m)+1),f=c.match(e),f.push(","),k=-1,m="/"):40===n||123===n||91===n?++p:41===n||125===n||93===n?--p:h||l.length||34!==n&&39!==n||(m=m.slice(1,-1));l.push(m)}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,q=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
p={};return{bindingRewriteValidators:[],twoWayBindings:p,parseObjectLiteral:b,preProcessBindings:function(e,t){function u(b,e){var f;if(!D){var t=a.getBindingHandler(b);if(t&&t.preprocess&&!(e=t.preprocess(e,b,u)))return;if(t=p[b])f=e,0<=a.utils.arrayIndexOf(c,f)?f=!1:(t=f.match(d),f=null===t?!1:t[1]?"Object("+t[1]+")"+t[2]:f),t=f;t&&g.push("'"+b+"':function(_z){"+f+"=_z}")}k&&(e="function(){return "+e+" }");q.push("'"+b+"':"+e)}t=t||{};var q=[],g=[],k=t.valueAccessors,D=t.bindingParams,m="string"===
typeof e?b(e):e;a.utils.arrayForEach(m,function(a){u(a.key||a.unknown,a.value)});g.length&&u("_ko_property_writers","{"+g.join(",")+" }");return q.join(",")},keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(b,c,d,e,f){if(b&&a.isObservable(b))!a.isWriteableObservable(b)||f&&b.peek()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.exportSymbol("expressionRewriting",a.expressionRewriting);a.exportSymbol("expressionRewriting.bindingRewriteValidators",
a.expressionRewriting.bindingRewriteValidators);a.exportSymbol("expressionRewriting.parseObjectLiteral",a.expressionRewriting.parseObjectLiteral);a.exportSymbol("expressionRewriting.preProcessBindings",a.expressionRewriting.preProcessBindings);a.exportSymbol("expressionRewriting._twoWayBindings",a.expressionRewriting.twoWayBindings);a.exportSymbol("jsonExpressionRewriting",a.expressionRewriting);a.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.expressionRewriting.preProcessBindings);
(function(){function b(a){return 8==a.nodeType&&k.test(q?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&p.test(q?a.text:a.nodeValue)}function d(a,e){for(var h=a,q=1,g=[];h=h.nextSibling;){if(c(h)&&(q--,0===q))return g;g.push(h);b(h)&&q++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var q=g&&"\x3c!--test--\x3e"===g.createComment("test").text,k=q?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:
/^\s*ko(?:\s+([\s\S]+))?\s*$/,p=q?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,A={ul:!0,ol:!0};a.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?d(a):a.childNodes},emptyNode:function(c){if(b(c)){c=a.virtualElements.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.utils.emptyDomNode(c)},setDomNodeChildren:function(c,d){if(b(c)){a.virtualElements.emptyNode(c);for(var e=c.nextSibling,h=0,l=d.length;h<l;h++)e.parentNode.insertBefore(d[h],e)}else a.utils.setDomNodeChildren(c,
d)},prepend:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},insertAfter:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.virtualElements.prepend(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},
hasBindingValue:b,virtualNodeBindingValue:function(a){return(a=(q?a.text:a.nodeValue).match(k))?a[1]:null},normaliseVirtualElementDomStructure:function(d){if(A[a.utils.tagNameLower(d)]){var h=d.firstChild;if(h){do if(1===h.nodeType){var q;q=h.firstChild;var g=null;if(q){do if(g)g.push(q);else if(b(q)){var p=e(q,!0);p?q=p:g=[q]}else c(q)&&(g=[q]);while(q=q.nextSibling)}if(q=g)for(g=h.nextSibling,p=0;p<q.length;p++)g?d.insertBefore(q[p],g):d.appendChild(q[p])}while(h=h.nextSibling)}}}}})();a.exportSymbol("virtualElements",
a.virtualElements);a.exportSymbol("virtualElements.allowedBindings",a.virtualElements.allowedBindings);a.exportSymbol("virtualElements.emptyNode",a.virtualElements.emptyNode);a.exportSymbol("virtualElements.insertAfter",a.virtualElements.insertAfter);a.exportSymbol("virtualElements.prepend",a.virtualElements.prepend);a.exportSymbol("virtualElements.setDomNodeChildren",a.virtualElements.setDomNodeChildren);(function(){a.bindingProvider=function(){this.bindingCache={}};a.utils.extend(a.bindingProvider.prototype,
{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.components.getComponentNameForNode(b);case 8:return a.virtualElements.hasBindingValue(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.components.addBindingsForCustomElement(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.components.addBindingsForCustomElement(d,
b,c,!0)},getBindingsString:function(b,c){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.virtualElements.virtualNodeBindingValue(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var q=this.bindingCache,g=b+(e&&e.valueAccessors||""),p;if(!(p=q[g])){var A,t="with($context){with($data||{}){return{"+a.expressionRewriting.preProcessBindings(b,e)+"}}}";A=new Function("$context","$element",t);p=q[g]=A}return p(c,d)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+
b+"\nMessage: "+u.message,u;}}});a.bindingProvider.instance=new a.bindingProvider})();a.exportSymbol("bindingProvider",a.bindingProvider);(function(){function c(a){return function(){return a}}function e(a){return a()}function h(b){return a.utils.objectMap(a.dependencyDetection.ignore(b),function(a,c){return function(){return b()[c]}})}function g(b,d,e){return"function"===typeof b?h(b.bind(null,d,e)):a.utils.objectMap(b,c)}function q(a,b){return h(this.getBindings.bind(this,a,b))}function k(b,c,d){var e,
f=a.virtualElements.firstChild(c),h=a.bindingProvider.instance,l=h.preprocessNode;if(l){for(;e=f;)f=a.virtualElements.nextSibling(e),l.call(h,e);f=a.virtualElements.firstChild(c)}for(;e=f;)f=a.virtualElements.nextSibling(e),p(b,e,d)}function p(b,c,d){var e=!0,f=1===c.nodeType;f&&a.virtualElements.normaliseVirtualElementDomStructure(c);if(f&&d||a.bindingProvider.instance.nodeHasBindings(c))e=t(c,null,b,d).shouldBindDescendants;e&&!m[a.utils.tagNameLower(c)]&&k(b,c,!f)}function A(b){var c=[],d={},e=
[];a.utils.objectForEach(b,function O(f){if(!d[f]){var h=a.getBindingHandler(f);h&&(h.after&&(e.push(f),a.utils.arrayForEach(h.after,function(c){if(b[c]){if(-1!==a.utils.arrayIndexOf(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));O(c)}}),e.length--),c.push({key:f,handler:h}));d[f]=!0}});return c}function t(b,c,d,f){var h=a.utils.domData.get(b,n);if(!c){if(h)throw Error("You cannot apply bindings multiple times to the same element.");
a.utils.domData.set(b,n,!0)}!h&&f&&a.storedBindingContextForNode(b,d);var u;if(c&&"function"!==typeof c)u=c;else{var g=a.bindingProvider.instance,t=g.getBindingAccessors||q,p=a.dependentObservable(function(){(u=c?c(d,b):t.call(g,b,d))&&d._subscribable&&d._subscribable();return u},null,{disposeWhenNodeIsRemoved:b});u&&p.isActive()||(p=null)}var k;if(u){var m=function(){return a.utils.objectMap(p?p():u,e)},D=p?function(a){return function(){return e(p()[a])}}:function(a){return u[a]};m.get=function(a){return u[a]&&
e(D(a))};m.has=function(a){return a in u};f=A(u);a.utils.arrayForEach(f,function(c){var e=c.handler.init,f=c.handler.update,h=c.key;if(8===b.nodeType&&!a.virtualElements.allowedBindings[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof e&&a.dependencyDetection.ignore(function(){var a=e(b,D(h),m,d.$data,d);if(a&&a.controlsDescendantBindings){if(k!==z)throw Error("Multiple bindings ("+k+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
k=h}}),"function"==typeof f&&a.dependentObservable(function(){f(b,D(h),m,d.$data,d)},null,{disposeWhenNodeIsRemoved:b})}catch(l){throw l.message='Unable to process binding "'+h+": "+u[h]+'"\nMessage: '+l.message,l;}})}return{shouldBindDescendants:k===z}}function u(b){return b&&b instanceof a.bindingContext?b:new a.bindingContext(b)}a.bindingHandlers={};var m={script:!0,textarea:!0};a.getBindingHandler=function(b){return a.bindingHandlers[b]};a.bindingContext=function(b,c,d,e){var f=this,h="function"==
typeof b&&!a.isObservable(b),l,u=a.dependentObservable(function(){var l=h?b():b,q=a.utils.unwrapObservable(l);c?(c._subscribable&&c._subscribable(),a.utils.extend(f,c),u&&(f._subscribable=u)):(f.$parents=[],f.$root=q,f.ko=a);f.$rawData=l;f.$data=q;d&&(f[d]=q);e&&e(f,c,q);return f.$data},null,{disposeWhen:function(){return l&&!a.utils.anyDomNodeIsAttachedToDocument(l)},disposeWhenNodeIsRemoved:!0});u.isActive()&&(f._subscribable=u,u.equalityComparer=null,l=[],u._addNode=function(b){l.push(b);a.utils.domNodeDisposal.addDisposeCallback(b,
function(b){a.utils.arrayRemoveItem(l,b);l.length||(u.dispose(),f._subscribable=u=z)})})};a.bindingContext.prototype.createChildContext=function(b,c,d){return new a.bindingContext(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.bindingContext.prototype.extend=function(b){return new a.bindingContext(this._subscribable||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.utils.extend(c,"function"==typeof b?
b():b)})};var n=a.utils.domData.nextKey(),r=a.utils.domData.nextKey();a.storedBindingContextForNode=function(b,c){if(2==arguments.length)a.utils.domData.set(b,r,c),c._subscribable&&c._subscribable._addNode(b);else return a.utils.domData.get(b,r)};a.applyBindingAccessorsToNode=function(b,c,d){1===b.nodeType&&a.virtualElements.normaliseVirtualElementDomStructure(b);return t(b,c,u(d),!0)};a.applyBindingsToNode=function(b,c,d){d=u(d);return a.applyBindingAccessorsToNode(b,g(c,d,b),d)};a.applyBindingsToDescendants=
function(a,b){1!==b.nodeType&&8!==b.nodeType||k(u(a),b,!0)};a.applyBindings=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;p(u(a),c,!0)};a.contextFor=function(b){switch(b.nodeType){case 1:case 8:var c=a.storedBindingContextForNode(b);if(c)return c;if(b.parentNode)return a.contextFor(b.parentNode)}return z};a.dataFor=function(b){return(b=
a.contextFor(b))?b.$data:z};a.exportSymbol("bindingHandlers",a.bindingHandlers);a.exportSymbol("applyBindings",a.applyBindings);a.exportSymbol("applyBindingsToDescendants",a.applyBindingsToDescendants);a.exportSymbol("applyBindingAccessorsToNode",a.applyBindingAccessorsToNode);a.exportSymbol("applyBindingsToNode",a.applyBindingsToNode);a.exportSymbol("contextFor",a.contextFor);a.exportSymbol("dataFor",a.dataFor)})();(function(b){function c(a,d){return a.hasOwnProperty(d)?a[d]:b}function d(b,f){var h=
c(g,b),q;h?h.subscribe(f):(h=g[b]=new a.subscribable,h.subscribe(f),e(b,function(a,c){var d=!(!c||!c.synchronous);p[b]={definition:a,isSynchronousComponent:d};delete g[b];q||d?h.notifySubscribers(a):setTimeout(function(){h.notifySubscribers(a)},0)}),q=!0)}function e(a,b){q("getConfig",[a],function(c){c?q("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function q(c,d,e,h){h||(h=a.components.loaders.slice(0));var l=h.shift();if(l){var g=l[c];if(g){var p=!1;if(g.apply(l,d.concat(function(a){p?
e(null):null!==a?e(a):q(c,d,e,h)}))!==b&&(p=!0,!l.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else q(c,d,e,h)}else e(null)}var g={},p={};a.components={get:function(b,e){var f=c(p,b);f?f.isSynchronousComponent?a.dependencyDetection.ignore(function(){e(f.definition)}):setTimeout(function(){e(f.definition)},0):d(b,e)},clearCachedDefinition:function(a){delete p[a]},_getFirstResultFromLoaders:q};a.components.loaders=
[];a.exportSymbol("components",a.components);a.exportSymbol("components.get",a.components.get);a.exportSymbol("components.clearCachedDefinition",a.components.clearCachedDefinition)})();(function(b){function c(b,d,e,f){var h={},l=2,q=function(){0===--l&&f(h)},g=e.template;e=e.viewModel;g?n(d,g,function(c){a.components._getFirstResultFromLoaders("loadTemplate",[b,c],function(a){h.template=a;q()})}):q();e?n(d,e,function(c){a.components._getFirstResultFromLoaders("loadViewModel",[b,c],function(a){h[t]=
a;q()})}):q()}function e(a,b,c){if("function"===typeof b)c(function(a){return new b(a)});else if("function"===typeof b[t])c(b[t]);else if("instance"in b){var d=b.instance;c(function(a,b){return d})}else"viewModel"in b?e(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function k(b){switch(a.utils.tagNameLower(b)){case "script":return a.utils.parseHtmlFragment(b.text);case "textarea":return a.utils.parseHtmlFragment(b.value);case "template":if(q(b.content))return a.utils.cloneNodes(b.content.childNodes)}return a.utils.cloneNodes(b.childNodes)}
function q(a){return d.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function n(a,b,c){"string"===typeof b.require?m||d.require?(m||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function p(a){return function(b){throw Error("Component '"+a+"': "+b);}}var A={};a.components.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.components.isRegistered(b))throw Error("Component "+b+" is already registered");A[b]=c};a.components.isRegistered=
function(a){return a in A};a.components.unregister=function(b){delete A[b];a.components.clearCachedDefinition(b)};a.components.defaultLoader={getConfig:function(a,b){var c=A.hasOwnProperty(a)?A[a]:null;b(c)},loadComponent:function(a,b,d){var e=p(a);n(e,b,function(b){c(a,e,b,d)})},loadTemplate:function(b,c,e){b=p(b);if("string"===typeof c)e(a.utils.parseHtmlFragment(c));else if(c instanceof Array)e(c);else if(q(c))e(a.utils.makeArray(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof
HTMLElement:c&&c.tagName&&1===c.nodeType)e(k(c));else if("string"===typeof c){var f=g.getElementById(c);f?e(k(f)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,c){e(p(a),b,c)}};var t="createViewModel";a.exportSymbol("components.register",a.components.register);a.exportSymbol("components.isRegistered",a.components.isRegistered);a.exportSymbol("components.unregister",a.components.unregister);a.exportSymbol("components.defaultLoader",
a.components.defaultLoader);a.components.loaders.push(a.components.defaultLoader);a.components._allRegisteredComponents=A})();(function(b){function c(b,e){var f=b.getAttribute("params");if(f){var f=d.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.utils.objectMap(f,function(c,d){return a.computed(c,null,{disposeWhenNodeIsRemoved:b})}),l=a.utils.objectMap(f,function(c,d){var e=c.peek();return c.isActive()?a.computed({read:function(){return a.utils.unwrapObservable(c())},write:a.isWriteableObservable(e)&&
function(a){c()(a)},disposeWhenNodeIsRemoved:b}):e});l.hasOwnProperty("$raw")||(l.$raw=f);return l}return{$raw:{}}}a.components.getComponentNameForNode=function(b){b=a.utils.tagNameLower(b);return a.components.isRegistered(b)&&b};a.components.addBindingsForCustomElement=function(b,d,e,f){if(1===d.nodeType){var h=a.components.getComponentNameForNode(d);if(h){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var g={name:h,params:c(d,e)};
b.component=f?function(){return g}:g}}return b};var d=new a.bindingProvider;9>a.utils.ieVersion&&(a.components.register=function(a){return function(b){g.createElement(b);return a.apply(this,arguments)}}(a.components.register),g.createDocumentFragment=function(b){return function(){var c=b(),d=a.components._allRegisteredComponents,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(g.createDocumentFragment))})();(function(b){function c(b,d,e){d=d.template;if(!d)throw Error("Component '"+
b+"' has no template");b=a.utils.cloneNodes(d);a.virtualElements.setDomNodeChildren(e,b)}function d(a,b,c,e){var f=a.createViewModel;return f?f.call(a,e,{element:b,templateNodes:c}):e}var e=0;a.bindingHandlers.component={init:function(g,k,p,m,t){var u,n,r=function(){var a=u&&u.dispose;"function"===typeof a&&a.call(u);n=null},x=a.utils.makeArray(a.virtualElements.childNodes(g));a.utils.domNodeDisposal.addDisposeCallback(g,r);a.computed(function(){var p=a.utils.unwrapObservable(k()),m,A;"string"===
typeof p?m=p:(m=a.utils.unwrapObservable(p.name),A=a.utils.unwrapObservable(p.params));if(!m)throw Error("No component name specified");var v=n=++e;a.components.get(m,function(e){if(n===v){r();if(!e)throw Error("Unknown component '"+m+"'");c(m,e,g);var p=d(e,g,x,A);e=t.createChildContext(p,b,function(a){a.$component=p;a.$componentTemplateNodes=x});u=p;a.applyBindingsToDescendants(e,g)}})},null,{disposeWhenNodeIsRemoved:g});return{controlsDescendantBindings:!0}}};a.virtualElements.allowedBindings.component=
!0})();var E={"class":"className","for":"htmlFor"};a.bindingHandlers.attr={update:function(b,c,d){c=a.utils.unwrapObservable(c())||{};a.utils.objectForEach(c,function(c,d){d=a.utils.unwrapObservable(d);var e=!1===d||null===d||d===z;e&&b.removeAttribute(c);8>=a.utils.ieVersion&&c in E?(c=E[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.utils.setElementName(b,e?"":d.toString())})}};(function(){a.bindingHandlers.checked={after:["value","attr"],init:function(b,c,d){function e(){var g=
b.checked,p=n?k():g;if(!a.computedContext.isInitial()&&(!m||g)){var q=a.dependencyDetection.ignore(c);t?u!==p?(g&&(a.utils.addOrRemoveItem(q,p,!0),a.utils.addOrRemoveItem(q,u,!1)),u=p):a.utils.addOrRemoveItem(q,p,g):a.expressionRewriting.writeValueToProperty(q,d,"checked",p,!0)}}function g(){var d=a.utils.unwrapObservable(c());b.checked=t?0<=a.utils.arrayIndexOf(d,k()):p?d:k()===d}var k=a.pureComputed(function(){return d.has("checkedValue")?a.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?
a.utils.unwrapObservable(d.get("value")):b.value}),p="checkbox"==b.type,m="radio"==b.type;if(p||m){var t=p&&a.utils.unwrapObservable(c())instanceof Array,u=t?k():z,n=m||t;m&&!b.name&&a.bindingHandlers.uniqueName.init(b,function(){return!0});a.computed(e,null,{disposeWhenNodeIsRemoved:b});a.utils.registerEventHandler(b,"click",e);a.computed(g,null,{disposeWhenNodeIsRemoved:b})}}};a.expressionRewriting.twoWayBindings.checked=!0;a.bindingHandlers.checkedValue={update:function(b,c){b.value=a.utils.unwrapObservable(c())}}})();
a.bindingHandlers.css={update:function(b,c){var d=a.utils.unwrapObservable(c());null!==d&&"object"==typeof d?a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);a.utils.toggleDomNodeCssClass(b,c,d)}):(d=String(d||""),a.utils.toggleDomNodeCssClass(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.utils.toggleDomNodeCssClass(b,d,!0))}};a.bindingHandlers.enable={update:function(b,c){var d=a.utils.unwrapObservable(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};
a.bindingHandlers.disable={update:function(b,c){a.bindingHandlers.enable.update(b,function(){return!a.utils.unwrapObservable(c())})}};a.bindingHandlers.event={init:function(b,c,d,e,g){var k=c()||{};a.utils.objectForEach(k,function(p){"string"==typeof p&&a.utils.registerEventHandler(b,p,function(b){var f,u=c()[p];if(u){try{var k=a.utils.makeArray(arguments);e=g.$data;k.unshift(e);f=u.apply(e,k)}finally{!0!==f&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(p+"Bubble")&&(b.cancelBubble=
!0,b.stopPropagation&&b.stopPropagation())}})})}};a.bindingHandlers.foreach={makeTemplateValueAccessor:function(b){return function(){var c=b(),d=a.utils.peekObservable(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.nativeTemplateEngine.instance};a.utils.unwrapObservable(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.nativeTemplateEngine.instance}}},
init:function(b,c,d,e,g){return a.bindingHandlers.template.init(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(b,c,d,e,g){return a.bindingHandlers.template.update(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,g)}};a.expressionRewriting.bindingRewriteValidators.foreach=!1;a.virtualElements.allowedBindings.foreach=!0;a.bindingHandlers.hasfocus={init:function(b,c,d){var e=function(e){b.__ko_hasfocusUpdating=!0;var g=b.ownerDocument;if("activeElement"in g){var k;
try{k=g.activeElement}catch(q){k=g.body}e=k===b}g=c();a.expressionRewriting.writeValueToProperty(g,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1},g=e.bind(null,!0),e=e.bind(null,!1);a.utils.registerEventHandler(b,"focus",g);a.utils.registerEventHandler(b,"focusin",g);a.utils.registerEventHandler(b,"blur",e);a.utils.registerEventHandler(b,"focusout",e)},update:function(b,c){var d=!!a.utils.unwrapObservable(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():
b.blur(),a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,d?"focusin":"focusout"]))}};a.expressionRewriting.twoWayBindings.hasfocus=!0;a.bindingHandlers.hasFocus=a.bindingHandlers.hasfocus;a.expressionRewriting.twoWayBindings.hasFocus=!0;a.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.utils.setHtml(b,c())}};x("if");x("ifnot",!1,!0);x("with",!0,!1,function(a,b){return a.createChildContext(b)});var H={};a.bindingHandlers.options={init:function(b){if("select"!==
a.utils.tagNameLower(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.utils.arrayFilter(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function k(c,e){if(v&&u)a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0);else if(x.length){var l=0<=a.utils.arrayIndexOf(x,a.selectExtensions.readValue(e[0]));
a.utils.setOptionNodeSelectionState(e[0],l);v&&!l&&a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,"change"])}}var p=b.multiple,m=0!=b.length&&p?b.scrollTop:null,t=a.utils.unwrapObservable(c()),u=d.get("valueAllowUnset")&&d.has("value"),n=d.get("optionsIncludeDestroyed");c={};var r,x=[];u||(p?x=a.utils.arrayMap(e(),a.selectExtensions.readValue):0<=b.selectedIndex&&x.push(a.selectExtensions.readValue(b.options[b.selectedIndex])));t&&("undefined"==typeof t.length&&(t=[t]),r=a.utils.arrayFilter(t,
function(b){return n||b===z||null===b||!a.utils.unwrapObservable(b._destroy)}),d.has("optionsCaption")&&(t=a.utils.unwrapObservable(d.get("optionsCaption")),null!==t&&t!==z&&r.unshift(H)));var v=!1;c.beforeRemove=function(a){b.removeChild(a)};t=k;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(t=function(b,c){k(b,c);a.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[c[0],b!==H?b:z])});a.utils.setDomNodeChildrenFromArrayMapping(b,r,function(c,e,l){l.length&&
(x=!u&&l[0].selected?[a.selectExtensions.readValue(l[0])]:[],v=!0);e=b.ownerDocument.createElement("option");c===H?(a.utils.setTextContent(e,d.get("optionsCaption")),a.selectExtensions.writeValue(e,z)):(l=g(c,d.get("optionsValue"),c),a.selectExtensions.writeValue(e,a.utils.unwrapObservable(l)),c=g(c,d.get("optionsText"),l),a.utils.setTextContent(e,c));return[e]},c,t);a.dependencyDetection.ignore(function(){u?a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0):(p?x.length&&
e().length<x.length:x.length&&0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex])!==x[0]:x.length||0<=b.selectedIndex)&&a.utils.triggerEvent(b,"change")});a.utils.ensureSelectElementIsRenderedCorrectly(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.bindingHandlers.options.optionValueDomDataKey=a.utils.domData.nextKey();a.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.utils.registerEventHandler(b,"change",function(){var e=c(),g=[];
a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.selectExtensions.readValue(b))});a.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.utils.tagNameLower(b))throw Error("values binding applies only to SELECT elements");var d=a.utils.unwrapObservable(c());d&&"number"==typeof d.length&&a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){var c=0<=a.utils.arrayIndexOf(d,a.selectExtensions.readValue(b));
a.utils.setOptionNodeSelectionState(b,c)})}};a.expressionRewriting.twoWayBindings.selectedOptions=!0;a.bindingHandlers.style={update:function(b,c){var d=a.utils.unwrapObservable(c()||{});a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);if(null===d||d===z||!1===d)d="";b.style[c]=d})}};a.bindingHandlers.submit={init:function(b,c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.utils.registerEventHandler(b,"submit",function(a){var d,
e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.utils.setTextContent(b,c())}};a.virtualElements.allowedBindings.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,g=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),k=b(e.match(/Firefox\/([^ ]*)/));
if(10>a.utils.ieVersion)var m=a.utils.domData.nextKey(),p=a.utils.domData.nextKey(),n=function(b){var c=this.activeElement;(c=c&&a.utils.domData.get(c,p))&&c(b)},t=function(b,c){var d=b.ownerDocument;a.utils.domData.get(d,m)||(a.utils.domData.set(d,m,!0),a.utils.registerEventHandler(d,"selectionchange",n));a.utils.domData.set(b,p,c)};a.bindingHandlers.textInput={init:function(b,d,e){var f=b.value,h,p,m=function(c){clearTimeout(h);p=h=z;var g=b.value;f!==g&&(c&&(b._ko_textInputProcessedEvent=c.type),
f=g,a.expressionRewriting.writeValueToProperty(d(),e,"textInput",g))},n=function(a){h||(p=b.value,a=m.bind(b,{type:a.type}),h=setTimeout(a,4))},A=function(){var c=a.utils.unwrapObservable(d());if(null===c||c===z)c="";p!==z&&c===p?setTimeout(A,4):b.value!==c&&(f=c,b.value=c)},r=function(c,d){a.utils.registerEventHandler(b,c,d)};a.bindingHandlers.textInput._forceUpdateOn?a.utils.arrayForEach(a.bindingHandlers.textInput._forceUpdateOn,function(a){"after"==a.slice(0,5)?r(a.slice(5),n):r(a,m)}):10>a.utils.ieVersion?
(r("propertychange",function(a){"value"===a.propertyName&&m(a)}),8==a.utils.ieVersion&&(r("keyup",m),r("keydown",m)),8<=a.utils.ieVersion&&(t(b,m),r("dragend",n))):(r("input",m),5>g&&"textarea"===a.utils.tagNameLower(b)?(r("keydown",n),r("paste",n),r("cut",n)):11>c?r("keydown",n):4>k&&(r("DOMAutoComplete",m),r("dragdrop",m),r("drop",m)));r("change",m);a.computed(A,null,{disposeWhenNodeIsRemoved:b})}};a.expressionRewriting.twoWayBindings.textInput=!0;a.bindingHandlers.textinput={preprocess:function(a,
b,c){c("textInput",a)}}})();a.bindingHandlers.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.bindingHandlers.uniqueName.currentIndex;a.utils.setElementName(b,d)}}};a.bindingHandlers.uniqueName.currentIndex=0;a.bindingHandlers.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],g=d.get("valueUpdate"),k=!1,p=null;g&&("string"==typeof g&&(g=[g]),a.utils.arrayPushAll(e,g),e=a.utils.arrayGetDistinctValues(e));
var m=function(){p=null;k=!1;var e=c(),g=a.selectExtensions.readValue(b);a.expressionRewriting.writeValueToProperty(e,d,"value",g)};!a.utils.ieVersion||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.utils.arrayIndexOf(e,"propertychange")||(a.utils.registerEventHandler(b,"propertychange",function(){k=!0}),a.utils.registerEventHandler(b,"focus",function(){k=!1}),a.utils.registerEventHandler(b,"blur",function(){k&&m()}));a.utils.arrayForEach(e,
function(c){var d=m;a.utils.stringStartsWith(c,"after")&&(d=function(){p=a.selectExtensions.readValue(b);setTimeout(m,0)},c=c.substring(5));a.utils.registerEventHandler(b,c,d)});var n=function(){var e=a.utils.unwrapObservable(c()),g=a.selectExtensions.readValue(b);if(null!==p&&e===p)setTimeout(n,0);else if(e!==g)if("select"===a.utils.tagNameLower(b)){var k=d.get("valueAllowUnset"),g=function(){a.selectExtensions.writeValue(b,e,k)};g();k||e===a.selectExtensions.readValue(b)?setTimeout(g,0):a.dependencyDetection.ignore(a.utils.triggerEvent,
null,[b,"change"])}else a.selectExtensions.writeValue(b,e)};a.computed(n,null,{disposeWhenNodeIsRemoved:b})}else a.applyBindingAccessorsToNode(b,{checkedValue:c})},update:function(){}};a.expressionRewriting.twoWayBindings.value=!0;a.bindingHandlers.visible={update:function(b,c){var d=a.utils.unwrapObservable(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.bindingHandlers[b]={init:function(c,d,e,g,k){return a.bindingHandlers.event.init.call(this,
c,function(){var a={};a[b]=d();return a},e,g,k)}}})("click");a.templateEngine=function(){};a.templateEngine.prototype.renderTemplateSource=function(a,b,c,d){throw Error("Override renderTemplateSource");};a.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw Error("Override createJavaScriptEvaluatorBlock");};a.templateEngine.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||g;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.templateSources.domElement(d)}if(1==
b.nodeType||8==b.nodeType)return new a.templateSources.anonymousTemplate(b);throw Error("Unknown template type: "+b);};a.templateEngine.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c,d)};a.templateEngine.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.templateEngine.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());
a.text(b);a.data("isRewritten",!0)};a.exportSymbol("templateEngine",a.templateEngine);a.templateRewriting=function(){function b(c,d,e,f){c=a.expressionRewriting.parseObjectLiteral(c);for(var h=a.expressionRewriting.bindingRewriteValidators,g=0;g<c.length;g++){var l=c[g].key;if(h.hasOwnProperty(l)){var k=h[l];if("function"===typeof k){if(l=k(c[g].value))throw Error(l);}else if(!k)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+
a.expressionRewriting.preProcessBindings(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.templateRewriting.memoizeBindingAttributeSyntax(b,c)},d)},memoizeBindingAttributeSyntax:function(a,
e){return a.replace(c,function(a,c,d,h,g){return b(g,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},applyMemoizedBindingsToNextSibling:function(b,c){return a.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.applyBindingAccessorsToNode(f,b,e)})}}}();a.exportSymbol("__tr_ambtns",a.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){a.templateSources={};a.templateSources.domElement=function(a){this.domElement=a};
a.templateSources.domElement.prototype.text=function(){var b=a.utils.tagNameLower(this.domElement),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.domElement[b];var c=arguments[0];"innerHTML"===b?a.utils.setHtml(this.domElement,c):this.domElement[b]=c};var b=a.utils.domData.nextKey()+"_";a.templateSources.domElement.prototype.data=function(c){if(1===arguments.length)return a.utils.domData.get(this.domElement,b+c);a.utils.domData.set(this.domElement,b+c,
arguments[1])};var c=a.utils.domData.nextKey();a.templateSources.anonymousTemplate=function(a){this.domElement=a};a.templateSources.anonymousTemplate.prototype=new a.templateSources.domElement;a.templateSources.anonymousTemplate.prototype.constructor=a.templateSources.anonymousTemplate;a.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var b=a.utils.domData.get(this.domElement,c)||{};b.textData===z&&b.containerData&&(b.textData=b.containerData.innerHTML);return b.textData}a.utils.domData.set(this.domElement,
c,{textData:arguments[0]})};a.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length)return(a.utils.domData.get(this.domElement,c)||{}).containerData;a.utils.domData.set(this.domElement,c,{containerData:arguments[0]})};a.exportSymbol("templateSources",a.templateSources);a.exportSymbol("templateSources.domElement",a.templateSources.domElement);a.exportSymbol("templateSources.anonymousTemplate",a.templateSources.anonymousTemplate)})();(function(){function b(c,d,e){var f;for(d=
a.virtualElements.nextSibling(d);c&&(f=c)!==d;)c=a.virtualElements.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var h=d[0],g=d[d.length-1],l=h.parentNode,k=a.bindingProvider.instance,m=k.preprocessNode;if(m){b(h,g,function(a,b){var c=a.previousSibling,d=m.call(k,a);d&&(a===h&&(h=d[0]||b),a===g&&(g=d[d.length-1]||c))});d.length=0;if(!h)return;h===g?d.push(h):(d.push(h,g),a.utils.fixUpContinuousNodeArray(d,l))}b(h,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.applyBindings(e,b)});b(h,g,function(b){1!==
b.nodeType&&8!==b.nodeType||a.memoization.unmemoizeDomNodeAndDescendants(b,[e])});a.utils.fixUpContinuousNodeArray(d,l)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,f,g,m,p){p=p||{};var n=(b&&d(b)||g||{}).ownerDocument,q=p.templateEngine||k;a.templateRewriting.ensureTemplateIsRewritten(g,q,n);g=q.renderTemplate(g,m,p,n);if("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(f){case "replaceChildren":a.virtualElements.setDomNodeChildren(b,
g);n=!0;break;case "replaceNode":a.utils.replaceDomNodes(b,g);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}n&&(c(g,m),p.afterRender&&a.dependencyDetection.ignore(p.afterRender,null,[g,m.$data]));return g}function g(b,c,d){return a.isObservable(b)?b():"function"===typeof b?b(c,d):b}var k;a.setTemplateEngine=function(b){if(b!=z&&!(b instanceof a.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");k=b};a.renderTemplate=function(b,
c,f,l,m){f=f||{};if((f.templateEngine||k)==z)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(l){var p=d(l);return a.dependentObservable(function(){var k=c&&c instanceof a.bindingContext?c:new a.bindingContext(a.utils.unwrapObservable(c)),n=g(b,k.$data,k),k=e(l,m,n,k,f);"replaceNode"==m&&(l=k,p=d(l))},null,{disposeWhen:function(){return!p||!a.utils.domNodeIsAttachedToDocument(p)},disposeWhenNodeIsRemoved:p&&"replaceNode"==m?p.parentNode:p})}return a.memoization.memoize(function(d){a.renderTemplate(b,
c,f,d,"replaceNode")})};a.renderTemplateForEach=function(b,d,f,h,k){var m,p=function(a,c){m=k.createChildContext(a,f.as,function(a){a.$index=c});var d=g(b,a,m);return e(null,"ignoreTargetNode",d,m,f)},n=function(a,b,d){c(b,m);f.afterRender&&f.afterRender(b,a);m=null};return a.dependentObservable(function(){var b=a.utils.unwrapObservable(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.utils.arrayFilter(b,function(b){return f.includeDestroyed||b===z||null===b||!a.utils.unwrapObservable(b._destroy)});
a.dependencyDetection.ignore(a.utils.setDomNodeChildrenFromArrayMapping,null,[h,b,p,f,n])},null,{disposeWhenNodeIsRemoved:h})};var m=a.utils.domData.nextKey();a.bindingHandlers.template={init:function(b,c){var d=a.utils.unwrapObservable(c());if("string"==typeof d||d.name)a.virtualElements.emptyNode(b);else{if("nodes"in d){if(d=d.nodes||[],a.isObservable(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.virtualElements.childNodes(b);d=a.utils.moveCleanedNodesToContainerElement(d);
(new a.templateSources.anonymousTemplate(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var h=c(),g;c=a.utils.unwrapObservable(h);d=!0;e=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(d=a.utils.unwrapObservable(c["if"])),d&&"ifnot"in c&&(d=!a.utils.unwrapObservable(c.ifnot)),g=a.utils.unwrapObservable(c.data));"foreach"in c?e=a.renderTemplateForEach(h||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(g,c.as):f,e=a.renderTemplate(h||b,f,c,b)):a.virtualElements.emptyNode(b);
f=e;(g=a.utils.domData.get(b,m))&&"function"==typeof g.dispose&&g.dispose();a.utils.domData.set(b,m,f&&f.isActive()?f:z)}};a.expressionRewriting.bindingRewriteValidators.template=function(b){b=a.expressionRewriting.parseObjectLiteral(b);return 1==b.length&&b[0].unknown||a.expressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.virtualElements.allowedBindings.template=!0})();a.exportSymbol("setTemplateEngine",
a.setTemplateEngine);a.exportSymbol("renderTemplate",a.renderTemplate);a.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,g,k,m;for(d=e=0;(!c||d<c)&&(k=a[e]);++e){for(g=0;m=b[g];++g)if(k.value===m.value){k.moved=m.index;m.moved=k.index;b.splice(g,1);d=g=0;break}d+=g}}};a.utils.compareArrays=function(){function b(c,d,e,f,g){var k=Math.min,m=Math.max,n=[],u,r=c.length,x,v=d.length,w=v-r||1,z=r+v+1,y,B,E;for(u=0;u<=r;u++)for(B=y,n.push(y=[]),E=k(v,u+w),x=m(0,u-1);x<=E;x++)y[x]=
x?u?c[u-1]===d[x-1]?B[x-1]:k(B[x]||z,y[x-1]||z)+1:x+1:u+1;k=[];m=[];w=[];u=r;for(x=v;u||x;)v=n[u][x]-1,x&&v===n[u][x-1]?m.push(k[k.length]={status:e,value:d[--x],index:x}):u&&v===n[u-1][x]?w.push(k[k.length]={status:f,value:c[--u],index:u}):(--x,--u,g.sparse||k.push({status:"retained",value:d[x]}));a.utils.findMovesInArrayComparison(m,w,10*r);return k.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",
d):b(c,a,"deleted","added",d)}}();a.exportSymbol("utils.compareArrays",a.utils.compareArrays);(function(){function b(c,d,e,f,g){var k=[],l=a.dependentObservable(function(){var b=d(e,g,a.utils.fixUpContinuousNodeArray(k,c))||[];0<k.length&&(a.utils.replaceDomNodes(k,b),f&&a.dependencyDetection.ignore(f,null,[e,b,g]));k.length=0;a.utils.arrayPushAll(k,b)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!a.utils.anyDomNodeIsAttachedToDocument(k)}});return{mappedNodes:k,dependentObservable:l.isActive()?
l:z}}var c=a.utils.domData.nextKey();a.utils.setDomNodeChildrenFromArrayMapping=function(d,e,g,k,m){function n(b,c){G=x[c];E!==c&&(O[b]=G);G.indexObservable(E++);a.utils.fixUpContinuousNodeArray(G.mappedNodes,d);y.push(G);Q.push(G)}function t(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.utils.arrayForEach(c[d].mappedNodes,function(a){b(a,d,c[d].arrayEntry)})}e=e||[];k=k||{};var r=a.utils.domData.get(d,c)===z,x=a.utils.domData.get(d,c)||[],v=a.utils.arrayMap(x,function(a){return a.arrayEntry}),
w=a.utils.compareArrays(v,e,k.dontLimitMoves),y=[],B=0,E=0,H=[],Q=[];e=[];for(var O=[],v=[],G,M=0,R,S;R=w[M];M++)switch(S=R.moved,R.status){case "deleted":S===z&&(G=x[B],G.dependentObservable&&G.dependentObservable.dispose(),H.push.apply(H,a.utils.fixUpContinuousNodeArray(G.mappedNodes,d)),k.beforeRemove&&(e[M]=G,Q.push(G)));B++;break;case "retained":n(M,B++);break;case "added":S!==z?n(M,S):(G={arrayEntry:R.value,indexObservable:a.observable(E++)},y.push(G),Q.push(G),r||(v[M]=G))}t(k.beforeMove,O);
a.utils.arrayForEach(H,k.beforeRemove?a.cleanNode:a.removeNode);for(var M=0,r=a.virtualElements.firstChild(d),V;G=Q[M];M++){G.mappedNodes||a.utils.extend(G,b(d,g,G.arrayEntry,m,G.indexObservable));for(B=0;w=G.mappedNodes[B];r=w.nextSibling,V=w,B++)w!==r&&a.virtualElements.insertAfter(d,w,V);!G.initialized&&m&&(m(G.arrayEntry,G.mappedNodes,G.indexObservable),G.initialized=!0)}t(k.beforeRemove,e);t(k.afterMove,O);t(k.afterAdd,v);a.utils.domData.set(d,c,y)}})();a.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",
a.utils.setDomNodeChildrenFromArrayMapping);a.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};a.nativeTemplateEngine.prototype=new a.templateEngine;a.nativeTemplateEngine.prototype.constructor=a.nativeTemplateEngine;a.nativeTemplateEngine.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.utils.ieVersion?0:b.nodes)?b.nodes():null)return a.utils.makeArray(c.cloneNode(!0).childNodes);b=b.text();return a.utils.parseHtmlFragment(b,e)};a.nativeTemplateEngine.instance=new a.nativeTemplateEngine;
a.setTemplateEngine(a.nativeTemplateEngine.instance);a.exportSymbol("nativeTemplateEngine",a.nativeTemplateEngine);(function(){a.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e,f){f=f||g;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var k=c.data("precompiled");
k||(k=c.text()||"",k=b.template(null,"{{ko_with $item.koBindingContext}}"+k+"{{/ko_with}}"),c.data("precompiled",k));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(k,c,d);d.appendTo(f.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},
b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.jqueryTmplTemplateEngine.prototype=new a.templateEngine;a.jqueryTmplTemplateEngine.prototype.constructor=a.jqueryTmplTemplateEngine;var c=new a.jqueryTmplTemplateEngine;0<c.jQueryTmplVersion&&a.setTemplateEngine(c);a.exportSymbol("jqueryTmplTemplateEngine",a.jqueryTmplTemplateEngine)})()})})()})();
(function(z){z.Tools={};z.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var g=16*Math.random()|0;return("x"===d?g:g&3|8).toString(16)})};z.Tools.base64Id=function(d){for(var g="",c,b=0;b<d;b++)c=62*Math.random()|0,g+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[c];return g};z.Tools.createCookie=function(d,g,c){var b="";c&&(b=new Date,b.setTime(b.getTime()+864E5*c),b="; expires="+b.toGMTString());document.cookie=d+"="+g+b+"; path=/"};
z.Tools.readCookie=function(d){d+="=";for(var g=document.cookie.split(";"),c=0;c<g.length;c++){for(var b=g[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return null};z.Tools.eraseCookie=function(d){z.Tools.createCookie(d,"",-1)};z.Tools.safeMailtoHref=function(d,g){return"mailto:?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(g)};z.Tools.bootstrapDropdowns=function(){var d=document.querySelectorAll(".dropdown-toggle"),g=document.querySelectorAll(".dropdown-menu"),
c=function(b){b.addEventListener("click",function(){this.parentNode.classList.toggle("open")})};Array.prototype.forEach.call(g,c);Array.prototype.forEach.call(d,c)};z.Tools.init=function(){z.Tools.bootstrapDropdowns()}})(window.EP=window.EP||{});
(function(z,d){z.User=function(g,c){var b=this;b.uuid=c||z.Tools.uuid();b.name=d.observable("");b.displayName=d.pureComputed(function(){return b.name()||"new user"});b.estimation=d.observable(!1);b.broadcast=function(){g.emit("update",d.toJSON(b))};b.loadFromCookie=function(){z.Tools.readCookie("ep.user.name")&&z.Tools.readCookie("ep.user.uuid")&&(b.name(z.Tools.readCookie("ep.user.name")),b.uuid=z.Tools.readCookie("ep.user.uuid"))};b.saveToCookie=function(){z.Tools.createCookie("ep.user.name",b.name());
z.Tools.createCookie("ep.user.uuid",b.uuid)};b.isConnected=d.observable(!1);b.isWatcher=d.observable(!1);b.isWatcher.subscribe(function(c){!0===c&&b.estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(z,d){z.PokerView=function(g){var c=this,b=function(){return c.users().concat(c.localUser()).filter(function(b){return!0!==b.isWatcher()}).map(function(b){return b.estimation()}).filter(function(b){return!1!==b})},w=function(b){return c.users().filter(function(a){return a.uuid===b})[0]},e=io.connect("/");c.pokerValues=d.observableArray([0,1,2,3,5,8,13,20,40,100]);var m=c.pokerValues.subscribe(function(){r()});c.pokerValueSets=[{title:"Scrum",values:[0,1,2,3,5,8,13,20,40,100]},{title:"T-Shirt sizes",
values:["S","M","L","XL"]}];c.initNewRound=function(){c.localUser().estimation(!1);e.emit("new round")};c.setPokerValues=function(b){e.emit("set poker values",JSON.stringify(b));c.initNewRound();c.pokerValues(b.values)};c.localUser=d.observable(new z.User(e));c.localUser().loadFromCookie();c.localUser().name.subscribe(function(){c.localUser().broadcast();c.localUser().saveToCookie()});c.localUser().estimation.subscribe(function(){c.localUser().broadcast()});c.localUser().isWatcher.subscribe(function(){c.localUser().broadcast()});
e.emit("join",{groupName:g,userUuid:c.localUser().uuid});c.localUser().broadcast();c.users=d.observableArray([]);c.storyTitle=d.observable("");var k=c.storyTitle.subscribe(function(){r()});c.highestEstimation=d.computed(function(){var c=b(),c=Math.max.apply(null,c);return-Infinity===c?!1:c});c.lowestEstimation=d.computed(function(){var c=b(),c=Math.min.apply(null,c);return Infinity===c?!1:c});c.estimationsComplete=d.computed(function(){return 0===c.users().concat(c.localUser()).filter(function(b){return!0!==
b.isWatcher()&&!1===b.estimation()}).length&&0<b().length});c.roundIsInProgress=d.computed(function(){return 0<b().length&&!c.estimationsComplete()});c.statusTitle=d.computed(function(){var b="";c.estimationsComplete()&&(b="\u2713 ");return b+"Estimation Poker"});c.mailtoHref=d.pureComputed(function(){return z.Tools.safeMailtoHref("Estimation Poker URL",window.location)});c.displaySharingQrCode=d.observable(!1);c.toggleDisplaySharingQrCode=function(){c.displaySharingQrCode(!c.displaySharingQrCode())};
c.toggleWatcher=function(){c.localUser().isWatcher(!c.localUser().isWatcher())};var r=function(){var b={storyTitle:c.storyTitle(),pokerValues:c.pokerValues()};e.emit("update",JSON.stringify(b))},y=function(b){var a=c.users().filter(function(a){return a.uuid!==b});c.users(a)};e.on("connect",function(){c.localUser().isConnected(!0)});e.on("disconnect",function(){c.localUser().isConnected(!1)});e.on("reconnect",function(){c.localUser().isConnected(!0)});e.on("update",function(b){b=JSON.parse(b);if(void 0!==
b.uuid){if(b.uuid!==c.localUser().uuid){var a=w(b.uuid);a||(a=new z.User(e,b.uuid),c.users.push(a));a.name(b.name);a.estimation(b.estimation);a.isWatcher(b.isWatcher)}}else k.isDisposed=!0,m.isDisposed=!0,c.storyTitle(b.storyTitle),c.pokerValues(b.pokerValues),k.isDisposed=!1,m.isDisposed=!1});e.on("who is there",function(){c.localUser().broadcast();r()});e.on("reconnect",function(){e.emit("join",{groupName:g,userUuid:c.localUser().uuid});c.localUser().broadcast();r()});e.on("user disconnected",function(b){y(b)});
e.on("new round",function(){c.localUser().estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(z){z.bindingHandlers.estimationSelect={init:function(d,g){var c=g().value,b=g().valueSet;d.classList.add("estimation-select");d.addEventListener("click",function(b){b.target.classList.contains("active")?c(!1):c(+b.target.getAttribute("data-index"))});var w=function(d){var g;!1===c()?(1===d&&(g=0),-1===d&&(g=b().length-1)):g=c()+d;0<=g&&g<=b().length-1&&c(g)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"!==b.key&&43!==b.keyCode||
w(1),"-"!==b.key&&45!==b.keyCode||w(-1))})},update:function(d,g){for(var c=g().value,b=g().valueSet(),w="",e=0;e<b.length;e++)w+='<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+e+'" data-index="'+e+'">'+b[e]+"</button>";d.innerHTML="";d.insertAdjacentHTML("beforeend",w);b=d.querySelectorAll("button");for(e=0;e<b.length;e++)+b[e].getAttribute("data-index")===c()?b[e].classList.add("active"):b[e].classList.remove("active")}}})(window.ko);
(function(z){z.bindingHandlers.editableText={init:function(d,g){d.classList.add("editable-text");d.innerHTML='<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>';d.querySelector(".et-form").style.display="none";var c=function(){d.classList.remove("editing");d.querySelector(".et-display").style.display="";d.querySelector(".et-form").style.display=
"none";g()(d.querySelector("input").value)};d.querySelector(".et-display").addEventListener("click",function(){d.classList.add("editing");d.querySelector(".et-display").style.display="none";d.querySelector(".et-form").style.display="";d.querySelector(".et-form input").focus()});d.querySelector("button").addEventListener("click",c);d.querySelector("input").addEventListener("keypress",function(b){13===b.keyCode&&c()});d.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&
(d.classList.remove("editing"),d.querySelector(".et-display").style.display="",d.querySelector(".et-form").style.display="none")});d.querySelector("input").addEventListener("blur",c)},update:function(d,g){var c=g();d.querySelector(".et-label").textContent=c();d.querySelector("input").value=c();c()?d.querySelector(".et-hint").style.display="none":(d.querySelector(".et-hint").textContent=d.getAttribute("data-edit-hint")||"edit",d.querySelector(".et-hint").style.display="")}}})(window.ko);
(function(z){z.bindingHandlers.pageTitle={update:function(d,g){var c=g();document.title=c()}}})(window.ko);(function(z,d,g){""===location.hash&&(location.hash=z.Tools.base64Id(8));var c=new z.PokerView(location.hash);d.components.register("card",{template:{element:"card"}});d.applyBindings(c);new g(document.getElementById("sharing-qr-code"),location+"");z.Tools.init();document.querySelector("body").classList.remove("uninitialised")})(window.EP=window.EP||{},window.ko,window.QRCode);

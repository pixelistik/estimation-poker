!function(z){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=z();else if("function"==typeof define&&define.amd)define([],z);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=z()}}(function(){return function d(f,c,b){function q(g,n){if(!c[g]){if(!f[g]){var r="function"==typeof require&&require;if(!n&&r)return r(g,!0);if(e)return e(g,!0);throw Error("Cannot find module '"+g+"'");}r=c[g]={exports:{}};f[g][0].call(r.exports,
function(b){var a=f[g][1][b];return q(a?a:b)},r,r.exports,d,f,c,b)}return c[g].exports}for(var e="function"==typeof require&&require,n=0;n<b.length;n++)q(b[n]);return q}({1:[function(d,f,c){f.exports=d("./lib/")},{"./lib/":2}],2:[function(d,f,c){function b(b,e){"object"==typeof b&&(e=b,b=void 0);e=e||{};var a=q(b),l=a.source,x=a.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(g("ignoring socket cache for %s",l),l=n(l,e)):(w[x]||(g("new io instance for %s",l),w[x]=n(l,e)),l=w[x]);return l.socket(a.path)}
var q=d("./url"),e=d("socket.io-parser"),n=d("./manager"),g=d("debug")("socket.io-client");f.exports=c=b;var w=c.managers={};c.protocol=e.protocol;c.connect=b;c.Manager=d("./manager");c.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(d,f,c){function b(a,l){if(!(this instanceof b))return new b(a,l);a&&"object"==typeof a&&(l=a,a=void 0);l=l||{};l.path=l.path||"/socket.io";this.nsps={};this.subs=[];this.opts=l;this.reconnection(!1!==l.reconnection);
this.reconnectionAttempts(l.reconnectionAttempts||Infinity);this.reconnectionDelay(l.reconnectionDelay||1E3);this.reconnectionDelayMax(l.reconnectionDelayMax||5E3);this.timeout(null==l.timeout?2E4:l.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new n.Encoder;this.decoder=new n.Decoder;(this.autoConnect=!1!==l.autoConnect)&&this.open()}d("./url");var q=d("engine.io-client"),e=d("./socket");c=d("component-emitter");
var n=d("socket.io-parser"),g=d("./on"),w=d("component-bind");d("object-component");var r=d("debug")("socket.io-client:manager"),u=d("indexof");f.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};c(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){r("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;r("opening %s",this.uri);var l=this.engine=q(this.uri,this.opts),x=this;this.readyState="opening";this.skipReconnect=!1;var b=g(l,"open",function(){x.onopen();a&&a()}),e=g(l,"error",function(h){r("connect_error");x.cleanup();x.readyState="closed";x.emitAll("connect_error",h);if(a){var k=
Error("Connection error");k.data=h;a(k)}x.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;r("connect attempt will timeout after %d",c);var h=setTimeout(function(){r("connect attempt timed out after %d",c);b.destroy();l.close();l.emit("error","timeout");x.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(h)}})}this.subs.push(b);this.subs.push(e);return this};b.prototype.onopen=function(){r("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(g(a,"data",w(this,"ondata")));this.subs.push(g(this.decoder,"decoded",w(this,"ondecoded")));this.subs.push(g(a,"error",w(this,"onerror")));this.subs.push(g(a,"close",w(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){r("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var l=this.nsps[a];if(!l){l=new e(this,a);this.nsps[a]=l;var x=this;l.on("connect",
function(){~u(x.connected,l)||x.connected.push(l)})}return l};b.prototype.destroy=function(a){a=u(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};b.prototype.packet=function(a){r("writing packet %j",a);var l=this;l.encoding?l.packetBuffer.push(a):(l.encoding=!0,this.encoder.encode(a,function(a){for(var b=0;b<a.length;b++)l.engine.write(a[b]);l.encoding=!1;l.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){r("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)r("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var l=this.attempts*this.reconnectionDelay(),l=Math.min(l,this.reconnectionDelayMax());r("will wait %dms before reconnect attempt",l);this.reconnecting=!0;var x=setTimeout(function(){a.skipReconnect||(r("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(x){x?(r("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",x.data)):(r("reconnect success"),a.onreconnect())}))},l);this.subs.push({destroy:function(){clearTimeout(x)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(d,f,c){f.exports=function(b,q,e){b.on(q,e);return{destroy:function(){b.removeListener(q,e)}}}},{}],5:[function(d,f,c){function b(a,x){this.io=a;this.nsp=x;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var q=d("socket.io-parser");c=d("component-emitter");var e=d("to-array"),n=d("./on"),g=d("component-bind"),w=d("debug")("socket.io-client:socket"),r=d("has-binary");f.exports=b;var u=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=c.prototype.emit;c(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[n(a,"open",g(this,"onopen")),n(a,"packet",g(this,"onpacket")),n(a,"close",g(this,"onclose"))]}};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};b.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(l){if(u.hasOwnProperty(l))return a.apply(this,arguments),this;var x=e(arguments),b=q.EVENT;r(x)&&(b=q.BINARY_EVENT);b={type:b,data:x};"function"==typeof x[x.length-1]&&(w("emitting packet with ack id %d",this.ids),this.acks[this.ids]=x.pop(),b.id=this.ids++);this.connected?this.packet(b):this.sendBuffer.push(b);return this};b.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};b.prototype.onopen=function(){w("transport is open - connecting");"/"!=this.nsp&&this.packet({type:q.CONNECT})};b.prototype.onclose=function(a){w("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case q.CONNECT:this.onconnect();break;case q.EVENT:this.onevent(a);break;case q.BINARY_EVENT:this.onevent(a);break;case q.ACK:this.onack(a);break;case q.BINARY_ACK:this.onack(a);
break;case q.DISCONNECT:this.ondisconnect();break;case q.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(l){var x=l.data||[];w("emitting event %j",x);null!=l.id&&(w("attaching ack callback to event"),x.push(this.ack(l.id)));this.connected?a.apply(this,x):this.receiveBuffer.push(x)};b.prototype.ack=function(a){var x=this,b=!1;return function(){if(!b){b=!0;var E=e(arguments);w("sending ack %j",E);var c=r(E)?q.BINARY_ACK:q.ACK;x.packet({type:c,id:a,data:E})}}};b.prototype.onack=function(a){w("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var l;for(l=0;l<this.receiveBuffer.length;l++)a.apply(this,this.receiveBuffer[l]);this.receiveBuffer=[];for(l=0;l<this.sendBuffer.length;l++)this.packet(this.sendBuffer[l]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){w("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){this.connected&&(w("performing disconnect (%s)",this.nsp),this.packet({type:q.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(d,f,c){(function(b){var q=d("parseuri"),e=d("debug")("socket.io-client:url");f.exports=function(c,g){var d=c;g=g||b.location;null==c&&(c=g.protocol+"//"+g.hostname);"string"==typeof c&&("/"==c.charAt(0)&&(c="/"==c.charAt(1)?g.protocol+c:g.hostname+c),/^(https?|wss?):\/\//.test(c)||(e("protocol-less url %s",c),c="undefined"!=typeof g?g.protocol+"//"+c:"https://"+c),e("parse %s",c),d=q(c));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&
(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(g&&g.port==d.port?"":":"+d.port);return d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(d,f,c){var b=[].slice;f.exports=function(q,e){"string"==typeof e&&(e=q[e]);if("function"!=typeof e)throw Error("bind() requires a function");var c=b.call(arguments,2);return function(){return e.apply(q,c.concat(b.call(arguments)))}}},
{}],8:[function(d,f,c){function b(q){if(q){for(var e in b.prototype)q[e]=b.prototype[e];return q}}f.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(e);return this};b.prototype.once=function(b,e){function c(){d.off(b,c);e.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=e;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[b];if(!c)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var d,f=0;f<c.length;f++)if(d=c[f],d===e||d.fn===e){c.splice(f,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),c=this._callbacks[b];if(c)for(var c=c.slice(0),d=0,f=c.length;d<f;++d)c[d].apply(this,
e);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(d,f,c){function b(c){return b.enabled(c)?function(e){e instanceof Error&&(e=e.stack||e.message);var d=new Date,g=d-(b[c]||d);b[c]=d;e=c+" "+e+" +"+b.humanize(g);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}f.exports=b;b.names=[];b.skips=
[];b.enable=function(c){try{localStorage.debug=c}catch(d){}for(var e=(c||"").split(/[\s,]+/),n=e.length,g=0;g<n;g++)c=e[g].replace("*",".*?"),"-"===c[0]?b.skips.push(new RegExp("^"+c.substr(1)+"$")):b.names.push(new RegExp("^"+c+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(c){for(var e=0,d=b.skips.length;e<d;e++)if(b.skips[e].test(c))return!1;e=0;for(d=b.names.length;e<
d;e++)if(b.names[e].test(c))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(q){}},{}],10:[function(d,f,c){f.exports=d("./lib/")},{"./lib/":11}],11:[function(d,f,c){f.exports=d("./socket");f.exports.parser=d("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(d,f,c){(function(b){function c(a,e){if(!(this instanceof c))return new c(a,e);e=e||{};a&&"object"==typeof a&&(e=a,a=null);a&&(a=u(a),e.host=a.host,e.secure="https"==a.protocol||"wss"==a.protocol,
e.port=a.port,a.query&&(e.query=a.query));this.secure=null!=e.secure?e.secure:b.location&&"https:"==location.protocol;if(e.host){var d=e.host.split(":");e.hostname=d.shift();d.length&&(e.port=d.pop())}this.agent=e.agent||!1;this.hostname=e.hostname||(b.location?location.hostname:"localhost");this.port=e.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=l.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=(e.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}
var e=d("./transports"),n=d("component-emitter"),g=d("debug")("engine.io-client:socket"),w=d("indexof"),r=d("engine.io-parser"),u=d("parseuri"),a=d("parsejson"),l=d("parseqs");f.exports=c;c.priorWebsocketSuccess=!1;n(c.prototype);c.protocol=r.protocol;c.Socket=c;c.Transport=d("./transport");c.transports=d("./transports");c.parser=d("engine.io-parser");c.prototype.createTransport=function(a){g('creating transport "%s"',a);var b=this.query,l={},c;for(c in b)b.hasOwnProperty(c)&&(l[c]=b[c]);l.EIO=r.protocol;
l.transport=a;this.id&&(l.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:l,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(l){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){g("setting transport %s",a.name);var b=this;this.transport&&(g("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(d.onlyBinaryUpgrades){var h=!this.supportsBinary&&d.transport.supportsBinary;C=C||h}C||(g('probe transport "%s" opened',a),p.send([{type:"ping",data:"probe"}]),p.once("packet",function(h){C||("pong"==h.type&&"probe"==h.data?(g('probe transport "%s" pong',a),d.upgrading=!0,d.emit("upgrading",p),p&&
(c.priorWebsocketSuccess="websocket"==p.name,g('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){C||"closed"==d.readyState||(g("changing transport and sending upgrade packet"),D(),d.setTransport(p),p.send([{type:"upgrade"}]),d.emit("upgrade",p),p=null,d.upgrading=!1,d.flush())}))):(g('probe transport "%s" failed',a),h=Error("probe error"),h.transport=p.name,d.emit("upgradeError",h)))}))}function l(){C||(C=!0,D(),p.close(),p=null)}function e(h){var k=Error("probe error: "+
h);k.transport=p.name;l();g('probe transport "%s" failed because of error: %s',a,h);d.emit("upgradeError",k)}function h(){e("transport closed")}function m(){e("socket closed")}function k(a){p&&a.name!=p.name&&(g('"%s" works - aborting "%s"',a.name,p.name),l())}function D(){p.removeListener("open",b);p.removeListener("error",e);p.removeListener("close",h);d.removeListener("close",m);d.removeListener("upgrading",k)}g('probing transport "%s"',a);var p=this.createTransport(a,{probe:1}),C=!1,d=this;c.priorWebsocketSuccess=
!1;p.once("open",b);p.once("error",e);p.once("close",h);this.once("close",m);this.once("upgrading",k);p.open()};c.prototype.onOpen=function(){g("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){g("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(b){if("opening"==this.readyState||
"open"==this.readyState)switch(g('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var l=Error("server error");l.code=b.data;this.emit("error",l);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else g('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};
c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){g("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(g("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};c.prototype.sendPacket=function(a,b,l){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:b},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(l),this.flush())};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){c.once("upgrade",b);c.once("upgradeError",b)},b=function(){c.removeListener("upgrade",b);c.removeListener("upgradeError",b);l()},l=function(){c.onClose("forced close");g("socket closing - telling transport to close");c.transport.close()};this.readyState=
"closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():l()});else this.upgrading?a():l()}return this};c.prototype.onError=function(a){g("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){g('socket close with reason: "%s"',a);var l=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){l.writeBuffer=[];l.callbackBuffer=[];l.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};c.prototype.filterUpgrades=function(a){for(var b=[],l=0,c=a.length;l<c;l++)~w(this.transports,a[l])&&b.push(a[l]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(d,f,c){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket;this.enablesXDR=b.enablesXDR}var q=d("engine.io-parser");d=d("component-emitter");f.exports=b;d(b.prototype);b.timestamps=0;b.prototype.onError=function(b,
c){var d=Error(b);d.type="TransportError";d.description=c;this.emit("error",d);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=q.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(d,f,c){(function(b){var q=d("xmlhttprequest"),e=d("./polling-xhr"),n=d("./polling-jsonp"),g=d("./websocket");c.polling=function(c){var d=!1,g=!1,a=!1!==c.jsonp;b.location&&(g=
"https:"==location.protocol,(d=location.port)||(d=g?443:80),d=c.hostname!=location.hostname||d!=c.port,g=c.secure!=g);c.xdomain=d;c.xscheme=g;if("open"in new q(c)&&!c.forceJSONP)return new e(c);if(!a)throw Error("JSONP disabled");return new n(c)};c.websocket=g}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,f,c){(function(b){function c(){}function e(a){n.call(this,a);this.query=
this.query||{};u||(b.___eio||(b.___eio=[]),u=b.___eio);this.index=u.length;var l=this;u.push(function(a){l.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){l.script&&(l.script.onerror=c)},!1)}var n=d("./polling"),g=d("component-inherit");f.exports=e;var w=/\n/g,r=/\\n/g,u;g(e,n);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);n.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,b){function c(){e();b()}function e(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{k=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(a){k=document.createElement("iframe"),k.name=d.iframeId,k.src="javascript:0"}k.id=d.iframeId;d.form.appendChild(k);d.iframe=k}var d=this;if(!this.form){var g=document.createElement("form"),
h=document.createElement("textarea"),m=this.iframeId="eio_iframe_"+this.index,k;g.className="socketio";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=m;g.method="POST";g.setAttribute("accept-charset","utf-8");h.name="d";g.appendChild(h);document.body.appendChild(g);this.form=g;this.area=h}this.form.action=this.uri();e();a=a.replace(r,"\\\n");this.area.value=a.replace(w,"\\n");try{this.form.submit()}catch(D){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==d.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,f,c){(function(b){function c(){}function e(a){r.call(this,a);if(b.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80);this.xd=a.hostname!=b.location.hostname||l!=a.port;this.xs=a.secure!=c}}function n(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function g(){for(var a in n.requests)n.requests.hasOwnProperty(a)&&n.requests[a].abort()}var w=d("xmlhttprequest"),r=d("./polling"),u=d("component-emitter"),a=d("component-inherit"),l=d("debug")("engine.io-client:polling-xhr");f.exports=e;f.exports.Request=n;a(e,r);e.prototype.supportsBinary=!0;e.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new n(a)};e.prototype.doWrite=function(a,b){var c=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),l=this;c.on("success",b);c.on("error",function(a){l.onError("xhr post error",a)});this.sendXhr=c};e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};u(n.prototype);n.prototype.create=function(){var a=this.xhr=new w({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),c=this;try{l("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){c.onLoad()},a.onerror=function(){c.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)c.onLoad();else setTimeout(function(){c.onError(a.status)},0)};l("xhr data %s",this.data);a.send(this.data)}catch(e){setTimeout(function(){c.onError(e)},0);return}b.document&&(this.index=n.requestsCount++,n.requests[this.index]=this)};n.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
n.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};n.prototype.onError=function(a){this.emit("error",a);this.cleanup()};n.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;try{this.xhr.abort()}catch(a){}b.document&&delete n.requests[this.index];this.xhr=null}};n.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(c){}a=
"application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};n.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};n.prototype.abort=function(){this.cleanup()};b.document&&(n.requestsCount=0,n.requests={},b.attachEvent?b.attachEvent("onunload",g):b.addEventListener&&b.addEventListener("beforeunload",g,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(d,f,c){function b(b){var c=b&&b.forceBase64;if(!w||c)this.supportsBinary=!1;q.call(this,b)}var q=d("../transport"),e=d("parseqs"),n=d("engine.io-parser");c=d("component-inherit");var g=d("debug")("engine.io-client:polling");f.exports=b;var w=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;c(b,q);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=
function(b){function c(){g("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var l=0;this.polling&&(g("we are currently polling - waiting to pause"),l++,this.once("pollComplete",function(){g("pre-pause polling complete");--l||c()}));this.writable||(g("we are currently writing - waiting to pause"),l++,this.once("drain",function(){g("pre-pause writing complete");--l||c()}))}else c()};b.prototype.poll=function(){g("polling");this.polling=!0;this.doPoll();
this.emit("poll")};b.prototype.onData=function(b){var c=this;g("polling got data %s",b);n.decodePayload(b,this.socket.binaryType,function(a,b,e){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():g('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){g("writing close packet");c.write([{type:"close"}])}
var c=this;"open"==this.readyState?(g("transport open - closing"),b()):(g("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var c=this;this.writable=!1;var a=function(){c.writable=!0;c.emit("drain")},c=this;n.encodePayload(b,this.supportsBinary,function(b){c.doWrite(b,a)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+q.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=e.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(d,f,c){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);q.call(this,b)}var q=d("../transport"),e=d("engine.io-parser"),n=d("parseqs");c=d("component-inherit");var g=d("debug")("engine.io-client:websocket"),
w=d("ws");f.exports=b;c(b,q);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new w(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(c){b.onData(c.data)};this.ws.onerror=
function(c){b.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var c=this;setTimeout(function(){q.prototype.onData.call(c,b)},0)});b.prototype.write=function(b){var c=this;this.writable=!1;for(var a=0,l=b.length;a<l;a++)e.encodePacket(b[a],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){g("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};b.prototype.onClose=
function(){q.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"wss":"ws",a="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=n.encode(b);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b};b.prototype.check=function(){return!!w&&!("__initialize"in
w&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(d,f,c){var b=d("has-cors");f.exports=function(c){var e=c.xdomain,d=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||b))return new XMLHttpRequest}catch(g){}try{if("undefined"!=typeof XDomainRequest&&!d&&c)return new XDomainRequest}catch(g){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}},{"has-cors":37}],20:[function(d,
f,c){f.exports=function(b,c){var e=function(){};e.prototype=c.prototype;b.prototype=new e;b.prototype.constructor=b}},{}],21:[function(d,f,c){function b(){var b;try{b=localStorage.debug}catch(c){}return b}c=f.exports=d("./debug");c.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var b=arguments,e=this.useColors;b[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+b[0]+(e?"%c ":" ")+"+"+c.humanize(this.diff);
if(!e)return b;var e="color: "+this.color,b=[b[0],e,"color: inherit"].concat(Array.prototype.slice.call(b,1)),d=0,g=0;b[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(d++,"%c"===b&&(g=d))});b.splice(g,0,e);return b};c.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(c){}};c.load=b;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(b){return JSON.stringify(b)};c.enable(b())},{"./debug":22}],22:[function(d,f,c){c=f.exports=function(e){function d(){}function g(){var e=+new Date;g.diff=e-(q||e);g.prev=q;q=g.curr=e;null==g.useColors&&(g.useColors=c.useColors());null==g.color&&g.useColors&&(g.color=c.colors[b++%c.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=c.coerce(d[0]);
"string"!==typeof d[0]&&(d=["%o"].concat(d));var a=0;d[0]=d[0].replace(/%([a-z%])/g,function(b,e){if("%"===b)return b;a++;var B=c.formatters[e];"function"===typeof B&&(b=B.call(g,d[a]),d.splice(a,1),a--);return b});"function"===typeof c.formatArgs&&(d=c.formatArgs.apply(g,d));(g.log||c.log||console.log.bind(console)).apply(g,d)}d.enabled=!1;g.enabled=!0;var f=c.enabled(e)?g:d;f.namespace=e;return f};c.coerce=function(b){return b instanceof Error?b.stack||b.message:b};c.disable=function(){c.enable("")};
c.enable=function(b){c.save(b);for(var d=(b||"").split(/[\s,]+/),g=d.length,q=0;q<g;q++)d[q]&&(b=d[q].replace(/\*/g,".*?"),"-"===b[0]?c.skips.push(new RegExp("^"+b.substr(1)+"$")):c.names.push(new RegExp("^"+b+"$")))};c.enabled=function(b){var d,g;d=0;for(g=c.skips.length;d<g;d++)if(c.skips[d].test(b))return!1;d=0;for(g=c.names.length;d<g;d++)if(c.names[d].test(b))return!0;return!1};c.humanize=d("ms");c.names=[];c.skips=[];c.formatters={};var b=0,q},{ms:23}],23:[function(d,f,c){function b(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function q(b,c,d){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+d:Math.ceil(b/c)+" "+d+"s"}
f.exports=function(c,d){d=d||{};return"string"==typeof c?b(c):d.long?q(c,864E5,"day")||q(c,36E5,"hour")||q(c,6E4,"minute")||q(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],24:[function(d,f,c){(function(b){function q(a,h,b){if(!h)return c.encodeBase64Packet(a,b);var k=new FileReader;k.onload=function(){a.data=k.result;c.encodePacket(a,h,!0,b)};return k.readAsArrayBuffer(a.data)}function e(a,
h,b){var k=Array(a.length);b=r(a.length,b);for(var c=function(a,b,c){h(b,function(b,h){k[a]=h;c(b,k)})},l=0;l<a.length;l++)c(l,a[l],b)}var n=d("./keys"),g=d("arraybuffer.slice"),f=d("base64-arraybuffer"),r=d("after"),u=d("utf8"),a=navigator.userAgent.match(/Android/i);c.protocol=3;var l=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},x=n(l),B={type:"error",data:"parser error"},E=d("blob");c.encodePacket=function(d,h,m,k){"function"==typeof h&&(k=h,h=!1);"function"==typeof m&&(k=
m,m=null);var D=void 0===d.data?void 0:d.data.buffer||d.data;if(b.ArrayBuffer&&D instanceof ArrayBuffer){if(h){m=d.data;h=new Uint8Array(m);m=new Uint8Array(1+m.byteLength);m[0]=l[d.type];for(d=0;d<h.length;d++)m[d+1]=h[d];d=k(m.buffer)}else d=c.encodeBase64Packet(d,k);return d}if(E&&D instanceof b.Blob)return h?a?d=q(d,h,k):(h=new Uint8Array(1),h[0]=l[d.type],d=new E([h.buffer,d.data]),d=k(d)):d=c.encodeBase64Packet(d,k),d;h=l[d.type];void 0!==d.data&&(h+=m?u.encode(String(d.data)):String(d.data));
return k(""+h)};c.encodeBase64Packet=function(a,h){var m="b"+c.packets[a.type];if(E&&a.data instanceof E){var k=new FileReader;k.onload=function(){var a=k.result.split(",")[1];h(m+a)};return k.readAsDataURL(a.data)}var l;try{l=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(d){l=new Uint8Array(a.data);for(var p=Array(l.length),e=0;e<l.length;e++)p[e]=l[e];l=String.fromCharCode.apply(null,p)}m+=b.btoa(l);return h(m)};c.decodePacket=function(a,b,m){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(m)try{a=u.decode(a)}catch(k){return B}m=a.charAt(0);return Number(m)==m&&x[m]?1<a.length?{type:x[m],data:a.substring(1)}:{type:x[m]}:B}m=(new Uint8Array(a))[0];a=g(a,1);E&&"blob"===b&&(a=new E([a]));return{type:x[m],data:a}};c.decodeBase64Packet=function(a,h){var c=x[a.charAt(0)];if(!b.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var k=f.decode(a.substr(1));"blob"===h&&E&&(k=new E([k]));return{type:c,data:k}};c.encodePayload=
function(b,h,m){"function"==typeof h&&(m=h,h=null);if(h)return E&&!a?c.encodePayloadAsBlob(b,m):c.encodePayloadAsArrayBuffer(b,m);if(!b.length)return m("0:");e(b,function(a,b){c.encodePacket(a,h,!0,function(a){b(null,a.length+":"+a)})},function(a,b){return m(b.join(""))})};c.decodePayload=function(a,b,m){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,m);"function"===typeof b&&(m=b,b=null);var k;if(""==a)return m(B,0,1);k="";for(var l,d,e=0,x=a.length;e<x;e++)if(d=a.charAt(e),":"!=d)k+=d;
else{if(""==k||k!=(l=Number(k)))return m(B,0,1);d=a.substr(e+1,l);if(k!=d.length)return m(B,0,1);if(d.length){k=c.decodePacket(d,b,!0);if(B.type==k.type&&B.data==k.data)return m(B,0,1);if(!1===m(k,e+l,x))return}e+=l;k=""}if(""!=k)return m(B,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,c){var l=c.reduce(function(a,b){var h;h="string"===typeof b?b.length:b.byteLength;return a+
h.toString().length+h+2},0),d=new Uint8Array(l),e=0;c.forEach(function(a){var b="string"===typeof a,h=a;if(b){for(var h=new Uint8Array(a.length),c=0;c<a.length;c++)h[c]=a.charCodeAt(c);h=h.buffer}b?d[e++]=0:d[e++]=1;a=h.byteLength.toString();for(c=0;c<a.length;c++)d[e++]=parseInt(a[c]);d[e++]=255;h=new Uint8Array(h);for(c=0;c<h.length;c++)d[e++]=h[c]});return b(d.buffer)})};c.encodePayloadAsBlob=function(a,b){e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var h=new Uint8Array(1);h[0]=1;if("string"===
typeof a){for(var c=new Uint8Array(a.length),m=0;m<a.length;m++)c[m]=a.charCodeAt(m);a=c.buffer;h[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),l=new Uint8Array(c.length+1),m=0;m<c.length;m++)l[m]=parseInt(c[m]);l[c.length]=255;E&&(a=new E([h.buffer,l.buffer,a]),b(null,a))})},function(a,c){return b(new E(c))})};c.decodePayloadAsBinary=function(a,b,m){"function"===typeof b&&(m=b,b=null);for(var k=[],l=!1;0<a.byteLength;){for(var d=new Uint8Array(a),e=0===d[0],x="",A=1;255!=
d[A];A++){if(310<x.length){l=!0;break}x+=d[A]}if(l)return m(B,0,1);a=g(a,2+x.length);x=parseInt(x);d=g(a,0,x);if(e)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(v){for(e=new Uint8Array(d),d="",A=0;A<e.length;A++)d+=String.fromCharCode(e[A])}k.push(d);a=g(a,x)}var t=k.length;k.forEach(function(a,k){m(c.decodePacket(a,b,!0),k,t)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(d,f,c){f.exports=Object.keys||function(b){var c=[],d=Object.prototype.hasOwnProperty,n;for(n in b)d.call(b,n)&&c.push(n);return c}},{}],26:[function(d,f,c){function b(){}f.exports=function(c,d,n){function g(b,c){if(0>=g.count)throw Error("after called too many times");--g.count;b?(f=!0,d(b),d=n):0!==g.count||f||d(null,c)}var f=!1;n=n||b;g.count=c;return 0===c?d():g}},{}],27:[function(d,f,c){f.exports=function(b,c,d){var n=b.byteLength;c=c||0;d=d||n;if(b.slice)return b.slice(c,
d);0>c&&(c+=n);0>d&&(d+=n);d>n&&(d=n);if(c>=n||c>=d||0===n)return new ArrayBuffer(0);b=new Uint8Array(b);for(var n=new Uint8Array(d-c),g=0;c<d;c++,g++)n[g]=b[c];return n.buffer}},{}],28:[function(d,f,c){(function(b){c.encode=function(c){c=new Uint8Array(c);var d,n=c.length,g="";for(d=0;d<n;d+=3)g+=b[c[d]>>2],g+=b[(c[d]&3)<<4|c[d+1]>>4],g+=b[(c[d+1]&15)<<2|c[d+2]>>6],g+=b[c[d+2]&63];2===n%3?g=g.substring(0,g.length-1)+"=":1===n%3&&(g=g.substring(0,g.length-2)+"==");return g};c.decode=function(c){var d=
.75*c.length,n=c.length,g=0,f,r,u,a;"="===c[c.length-1]&&(d--,"="===c[c.length-2]&&d--);for(var l=new ArrayBuffer(d),x=new Uint8Array(l),d=0;d<n;d+=4)f=b.indexOf(c[d]),r=b.indexOf(c[d+1]),u=b.indexOf(c[d+2]),a=b.indexOf(c[d+3]),x[g++]=f<<2|r>>4,x[g++]=(r&15)<<4|u>>2,x[g++]=(u&3)<<6|a&63;return l}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(d,f,c){(function(b){function c(b,g){g=g||{};for(var f=new d,a=0;a<b.length;a++)f.append(b[a]);return g.type?f.getBlob(g.type):
f.getBlob()}var d=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,n;try{n=2==(new Blob(["hi"])).size}catch(w){n=!1}var g=d&&d.prototype.append&&d.prototype.getBlob;b=n?b.Blob:g?c:void 0;f.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(d,f,c){(function(b){(function(d){function e(a){for(var b=[],c=0,k=a.length,d,l;c<k;)d=a.charCodeAt(c++),55296<=d&&56319>=d&&c<k?(l=a.charCodeAt(c++),56320==(l&64512)?b.push(((d&1023)<<
10)+(l&1023)+65536):(b.push(d),c--)):b.push(d);return b}function n(){if(B>=x)throw Error("Invalid byte index");var a=l[B]&255;B++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function g(){var a,b,c,k;if(B>x)throw Error("Invalid byte index");if(B==x)return!1;a=l[B]&255;B++;if(0==(a&128))return a;if(192==(a&224)){b=n();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=n();c=n();a=(a&15)<<12|b<<6|c;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=n(),c=n(),k=n(),a=(a&15)<<18|b<<12|c<<6|k,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var w="object"==typeof c&&c,r="object"==typeof f&&f&&f.exports==w&&f,u="object"==typeof b&&b;if(u.global===u||u.window===u)d=u;var a=String.fromCharCode,l,x,B,u={version:"2.0.0",encode:function(b){b=e(b);for(var c=b.length,d=-1,k,l="";++d<c;){k=b[d];if(0==(k&4294967168))k=a(k);else{var p="";0==(k&4294965248)?p=a(k>>6&31|192):0==(k&4294901760)?(p=a(k>>12&15|224),p+=a(k>>
6&63|128)):0==(k&4292870144)&&(p=a(k>>18&7|240),p+=a(k>>12&63|128),p+=a(k>>6&63|128));k=p+=a(k&63|128)}l+=k}return l},decode:function(b){l=e(b);x=l.length;B=0;b=[];for(var c;!1!==(c=g());)b.push(c);c=b.length;for(var d=-1,k,D="";++d<c;)k=b[d],65535<k&&(k-=65536,D+=a(k>>>10&1023|55296),k=56320|k&1023),D+=a(k);return D}};if(w&&!w.nodeType)if(r)r.exports=u;else{d={}.hasOwnProperty;for(var E in u)d.call(u,E)&&(w[E]=u[E])}else d.utf8=u})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(d,f,c){(function(b){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g,w=/^\s+/,r=/\s+$/;f.exports=function(f){if("string"!=typeof f||!f)return null;f=f.replace(w,"").replace(r,"");if(b.JSON&&JSON.parse)return JSON.parse(f);if(c.test(f.replace(d,"@").replace(n,"]").replace(g,"")))return(new Function("return "+f))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(d,f,c){c.encode=function(b){var c="",d;for(d in b)b.hasOwnProperty(d)&&(c.length&&(c+="&"),c+=encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return c};c.decode=function(b){var c={};b=b.split("&");for(var d=0,f=b.length;d<f;d++){var g=b[d].split("=");c[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return c}},{}],33:[function(d,f,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
q="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(c){var d=c,g=c.indexOf("["),f=c.indexOf("]");-1!=g&&-1!=f&&(c=c.substring(0,g)+c.substring(g,f).replace(/:/g,";")+c.substring(f,c.length));c=b.exec(c||"");for(var r={},u=14;u--;)r[q[u]]=c[u]||"";-1!=g&&-1!=f&&(r.source=d,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=
!0);return r}},{}],34:[function(d,f,c){function b(b,c,d){return c?new q(b,c):new q(b)}d=function(){return this}();var q=d.WebSocket||d.MozWebSocket;f.exports=q?b:null;q&&(b.prototype=q.prototype)},{}],35:[function(d,f,c){(function(b){var c=d("isarray");f.exports=function(d){function f(d){if(!d)return!1;if(b.Buffer&&b.Buffer.isBuffer(d)||b.ArrayBuffer&&d instanceof ArrayBuffer||b.Blob&&d instanceof Blob||b.File&&d instanceof File)return!0;if(c(d))for(var e=0;e<d.length;e++){if(f(d[e]))return!0}else if(d&&
"object"==typeof d)for(e in d.toJSON&&(d=d.toJSON()),d)if(d.hasOwnProperty(e)&&f(d[e]))return!0;return!1}return f(d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(d,f,c){f.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(d,f,c){d=d("global");try{f.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(b){f.exports=!1}},{global:38}],38:[function(d,f,
c){f.exports=function(){return this}()},{}],39:[function(d,f,c){var b=[].indexOf;f.exports=function(c,d){if(b)return c.indexOf(d);for(var f=0;f<c.length;++f)if(c[f]===d)return f;return-1}},{}],40:[function(d,f,c){var b=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(c){var d=[],f;for(f in c)b.call(c,f)&&d.push(f);return d};c.values=function(c){var d=[],f;for(f in c)b.call(c,f)&&d.push(c[f]);return d};c.merge=function(c,d){for(var f in d)b.call(d,f)&&(c[f]=d[f]);return c};c.length=function(b){return c.keys(b).length};
c.isEmpty=function(b){return 0==c.length(b)}},{}],41:[function(d,f,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,q="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");f.exports=function(c){c=b.exec(c||"");for(var d={},g=14;g--;)d[q[g]]=c[g]||
"";return d}},{}],42:[function(d,f,c){(function(b){var f=d("isarray"),e=d("./is-buffer");c.deconstructPacket=function(b){function c(b){if(!b)return b;if(e(b)){var n={_placeholder:!0,num:d.length};d.push(b);return n}if(f(b)){for(var n=Array(b.length),a=0;a<b.length;a++)n[a]=c(b[a]);return n}if("object"==typeof b&&!(b instanceof Date)){n={};for(a in b)n[a]=c(b[a]);return n}return b}var d=[];b.data=c(b.data);b.attachments=d.length;return{packet:b,buffers:d}};c.reconstructPacket=function(b,c){function d(b){if(b&&
b._placeholder)return c[b.num];if(f(b))for(var e=0;e<b.length;e++)b[e]=d(b[e]);else if(b&&"object"==typeof b)for(e in b)b[e]=d(b[e]);return b}b.data=d(b.data);b.attachments=void 0;return b};c.removeBlobs=function(c,d){function w(a,c,x){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){r++;var B=new FileReader;B.onload=function(){x?x[c]=this.result:u=this.result;--r||d(u)};B.readAsArrayBuffer(a)}else if(f(a))for(B=0;B<a.length;B++)w(a[B],B,a);else if(a&&"object"==typeof a&&!e(a))for(B in a)w(a[B],
B,a)}var r=0,u=c;w(u);r||d(u)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(d,f,c){function b(){}function q(a){var b,d=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp);null!=a.id&&(d&&(b+=",",d=!1),b+=a.id);null!=a.data&&(d&&(b+=","),b+=r.stringify(a.data));w("encoded %j as %s",a,b);return b}function e(a,b){u.removeBlobs(a,function(a){var c=u.deconstructPacket(a);
a=q(c.packet);c=c.buffers;c.unshift(a);b(c)})}function n(){this.reconstructor=null}function g(a){this.reconPack=a;this.buffers=[]}var w=d("debug")("socket.io-parser"),r=d("json3");d("isarray");f=d("component-emitter");var u=d("./binary"),a=d("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=b;c.Decoder=n;b.prototype.encode=function(a,b){w("encoding packet %j",
a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)e(a,b);else{var d=q(a);b([d])}};f(n.prototype);n.prototype.add=function(b){if("string"==typeof b){a:{var d={},e=0;d.type=Number(b.charAt(0));if(null==c.types[d.type])b={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==d.type||c.BINARY_ACK==d.type){for(d.attachments="";"-"!=b.charAt(++e);)d.attachments+=b.charAt(e);d.attachments=Number(d.attachments)}if("/"==b.charAt(e+1))for(d.nsp="";++e;){var f=b.charAt(e);if(","==f)break;d.nsp+=f;if(e+
1==b.length)break}else d.nsp="/";f=b.charAt(e+1);if(""!=f&&Number(f)==f){for(d.id="";++e;){f=b.charAt(e);if(null==f||Number(f)!=f){--e;break}d.id+=b.charAt(e);if(e+1==b.length)break}d.id=Number(d.id)}if(b.charAt(++e))try{d.data=r.parse(b.substr(e))}catch(n){b={type:c.ERROR,data:"parser error"};break a}w("decoded %s as %j",b,d);b=d}}c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new g(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(a(b)||
b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};n.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};g.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=u.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};g.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(d,f,c){(function(b){f.exports=function(c){return b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(d,f,c){f.exports=d(36)},{}],46:[function(d,f,c){(function(b){function d(b){if(d[b]!==w)return d[b];
var c;if("bug-string-char-index"==b)c="a"!="a"[0];else if("json"==b)c=d("json-stringify")&&d("json-parse");else{var h;if("json-stringify"==b){c=u.stringify;var k="function"==typeof c&&a;if(k){(h=function(){return 1}).toJSON=h;try{k="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(e)===w&&c(w)===w&&c()===w&&"1"===c(h)&&"[1]"==c([h])&&"[null]"==c([w])&&"null"==c(null)&&"[null,null,null]"==c([w,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[h,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===c(null,h)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(m){k=!1}}c=k}if("json-parse"==b){c=u.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){h=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var F=5==h.a.length&&1===h.a[0];if(F){try{F=!c('"\t"')}catch(m){}if(F)try{F=1!==
c("01")}catch(m){}if(F)try{F=1!==c("1.")}catch(m){}}}}catch(m){F=!1}c=F}}return d[b]=!!c}var e={}.toString,f,g,w,r="object"==typeof JSON&&JSON,u="object"==typeof c&&c&&!c.nodeType&&c;u&&r?(u.stringify=r.stringify,u.parse=r.parse):u=b.JSON=r||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(J){}if(!d("json")){var l=d("bug-string-char-index");
if(!a)var x=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return B[b]+365*(a-1970)+x((a-1969+(b=+(1<b)))/4)-x((a-1901+b)/100)+x((a-1601+b)/400)};(f={}.hasOwnProperty)||(f=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=e?f=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,f=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return f.call(this,
a)});var N={"boolean":1,number:1,string:1,undefined:1};g=function(a,b){var c=0,d,h,k;(d=function(){this.valueOf=0}).prototype.valueOf=0;h=new d;for(k in h)f.call(h,k)&&c++;d=h=null;c?g=2==c?function(a,b){var c={},d="[object Function]"==e.call(a),h;for(h in a)d&&"prototype"==h||f.call(c,h)||!(c[h]=1)||!f.call(a,h)||b(h)}:function(a,b){var c="[object Function]"==e.call(a),d,h;for(d in a)c&&"prototype"==d||!f.call(a,d)||(h="constructor"===d)||b(d);(h||f.call(a,d="constructor"))&&b(d)}:(h="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
g=function(a,b){var c="[object Function]"==e.call(a),d,k;if(k=!c&&"function"!=typeof a.constructor)k=typeof a.hasOwnProperty,k="object"==k?!!a.hasOwnProperty:!N[k];k=k?a.hasOwnProperty:f;for(d in a)c&&"prototype"==d||!k.call(a,d)||b(d);for(c=h.length;d=h[--c];k.call(a,d)&&b(d));});return g(a,b)};if(!d("json-stringify")){var h={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},m=function(a,b){return("000000"+(b||0)).slice(-a)},k=function(a){var b='"',c=0,d=a.length,k=10<d&&l,F;for(k&&
(F=a.split(""));c<d;c++){var D=a.charCodeAt(c);switch(D){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=h[D];break;default:if(32>D){b+="\\u00"+m(2,D.toString(16));break}b+=k?F[c]:l?a.charAt(c):a[c]}}return b+'"'},D=function(a,b,c,d,h,F,l){var v,p,t,C,A,M,y,I,B;try{v=b[a]}catch(u){}if("object"==typeof v&&v)if(p=e.call(v),"[object Date]"!=p||f.call(v,"toJSON"))"function"==typeof v.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||f.call(v,"toJSON"))&&(v=v.toJSON(a));
else if(v>-1/0&&v<1/0){if(E){C=x(v/864E5);for(p=x(C/365.2425)+1970-1;E(p+1,0)<=C;p++);for(t=x((C-E(p,0))/30.42);E(p,t+1)<=C;t++);C=1+C-E(p,t);A=(v%864E5+864E5)%864E5;M=x(A/36E5)%24;y=x(A/6E4)%60;I=x(A/1E3)%60;A%=1E3}else p=v.getUTCFullYear(),t=v.getUTCMonth(),C=v.getUTCDate(),M=v.getUTCHours(),y=v.getUTCMinutes(),I=v.getUTCSeconds(),A=v.getUTCMilliseconds();v=(0>=p||1E4<=p?(0>p?"-":"+")+m(6,0>p?-p:p):m(4,p))+"-"+m(2,t+1)+"-"+m(2,C)+"T"+m(2,M)+":"+m(2,y)+":"+m(2,I)+"."+m(3,A)+"Z"}else v=null;c&&(v=
c.call(b,a,v));if(null===v)return"null";p=e.call(v);if("[object Boolean]"==p)return""+v;if("[object Number]"==p)return v>-1/0&&v<1/0?""+v:"null";if("[object String]"==p)return k(""+v);if("object"==typeof v){for(a=l.length;a--;)if(l[a]===v)throw TypeError();l.push(v);B=[];b=F;F+=h;if("[object Array]"==p){t=0;for(a=v.length;t<a;t++)p=D(t,v,c,d,h,F,l),B.push(p===w?"null":p);a=B.length?h?"[\n"+F+B.join(",\n"+F)+"\n"+b+"]":"["+B.join(",")+"]":"[]"}else g(d||v,function(a){var b=D(a,v,c,d,h,F,l);b!==w&&
B.push(k(a)+":"+(h?" ":"")+b)}),a=B.length?h?"{\n"+F+B.join(",\n"+F)+"\n"+b+"}":"{"+B.join(",")+"}":"{}";l.pop();return a}};u.stringify=function(a,b,c){var d,h,k,m;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(m=e.call(b)))h=b;else if("[object Array]"==m){k={};for(var F=0,l=b.length,v;F<l;v=b[F++],(m=e.call(v),"[object String]"==m||"[object Number]"==m)&&(k[v]=1));}if(c)if("[object Number]"==(m=e.call(c))){if(0<(c-=c%1))for(d="",10<c&&(c=10);d.length<c;d+=" ");}else"[object String]"==
m&&(d=10>=c.length?c:c.slice(0,10));return D("",(v={},v[""]=a,v),h,k,d,"",[])}}if(!d("json-parse")){var p=String.fromCharCode,C={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},y,A,t=function(){y=A=null;throw SyntaxError();},v=function(){for(var a=A,b=a.length,c,d,h,k,m;y<b;)switch(m=a.charCodeAt(y),m){case 9:case 10:case 13:case 32:y++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=l?a.charAt(y):a[y],y++,c;case 34:c="@";for(y++;y<b;)if(m=a.charCodeAt(y),32>m)t();
else if(92==m)switch(m=a.charCodeAt(++y),m){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=C[m];y++;break;case 117:d=++y;for(h=y+4;y<h;y++)m=a.charCodeAt(y),48<=m&&57>=m||97<=m&&102>=m||65<=m&&70>=m||t();c+=p("0x"+a.slice(d,y));break;default:t()}else{if(34==m)break;m=a.charCodeAt(y);for(d=y;32<=m&&92!=m&&34!=m;)m=a.charCodeAt(++y);c+=a.slice(d,y)}if(34==a.charCodeAt(y))return y++,c;t();default:d=y;45==m&&(k=!0,m=a.charCodeAt(++y));if(48<=m&&57>=m){for(48==m&&(m=a.charCodeAt(y+
1),48<=m&&57>=m)&&t();y<b&&(m=a.charCodeAt(y),48<=m&&57>=m);y++);if(46==a.charCodeAt(y)){for(h=++y;h<b&&(m=a.charCodeAt(h),48<=m&&57>=m);h++);h==y&&t();y=h}m=a.charCodeAt(y);if(101==m||69==m){m=a.charCodeAt(++y);43!=m&&45!=m||y++;for(h=y;h<b&&(m=a.charCodeAt(h),48<=m&&57>=m);h++);h==y&&t();y=h}return+a.slice(d,y)}k&&t();if("true"==a.slice(y,y+4))return y+=4,!0;if("false"==a.slice(y,y+5))return y+=5,!1;if("null"==a.slice(y,y+4))return y+=4,null;t()}return"$"},I=function(a){var b,c;"$"==a&&t();if("string"==
typeof a){if("@"==(l?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=v();if("]"==a)break;c&&(","==a?(a=v(),"]"==a&&t()):t());","==a&&t();b.push(I(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=v();if("}"==a)break;c&&(","==a?(a=v(),"}"==a&&t()):t());","!=a&&"string"==typeof a&&"@"==(l?a.charAt(0):a[0])&&":"==v()||t();b[a.slice(1)]=I(v())}return b}t()}return a},F=function(a,b,c){c=M(a,b,c);c===w?delete a[b]:a[b]=c},M=function(a,b,c){var d=a[b],h;if("object"==typeof d&&d)if("[object Array]"==
e.call(d))for(h=d.length;h--;)F(d,h,c);else g(d,function(a){F(d,a,c)});return c.call(a,b,d)};u.parse=function(a,b){var c,d;y=0;A=""+a;c=I(v());"$"!=v()&&t();y=A=null;return b&&"[object Function]"==e.call(b)?M((d={},d[""]=c,d),"",b):c}}}})(this)},{}],47:[function(d,f,c){f.exports=function(b,c){for(var d=[],f=(c=c||0)||0;f<b.length;f++)d[f-c]=b[f];return d}},{}]},{},[1])(1)});var QRCode;
!function(){function z(a){this.mode=e.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];a=[];for(var b=0,c=this.data.length;c>b;b++){var d=this.data.charCodeAt(b);65536<d?(a[0]=240|(1835008&d)>>>18,a[1]=128|(258048&d)>>>12,a[2]=128|(4032&d)>>>6,a[3]=128|63&d):2048<d?(a[0]=224|(61440&d)>>>12,a[1]=128|(4032&d)>>>6,a[2]=128|63&d):128<d?(a[0]=192|(1984&d)>>>6,a[1]=128|63&d):a[0]=d;this.parsedData=this.parsedData.concat(a)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function d(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function f(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function c(a,b){this.totalCount=a;this.dataCount=b}function b(){this.buffer=[];this.length=0}function q(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&
(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}z.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}};d.prototype={addData:function(a){a=new z(a);this.dataList.push(a);this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[c][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,
b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,
c);var d=g.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-
8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=g.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var h=-2;2>=h;h++)for(var m=-2;2>=m;m++)this.modules[d+h][e+m]=-2==h||2==h||-2==m||2==m||0==h&&0==m?!0:!1}},setupTypeNumber:function(a){for(var b=g.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-
8-3]=d}for(c=0;18>c;c++)d=!a&&1==(1&b>>c),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=g.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(1&c>>d);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(1&c>>d),8>d?this.modules[8][this.moduleCount-d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,
b){for(var c=-1,d=this.moduleCount-1,e=7,h=0,m=this.moduleCount-1;0<m;m-=2)for(6==m&&m--;;){for(var k=0;2>k;k++)if(null==this.modules[d][m-k]){var D=!1;h<a.length&&(D=1==(1&a[h]>>>e));g.getMask(b,d,m-k)&&(D=!D);this.modules[d][m-k]=D;e--; -1==e&&(h++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};d.PAD0=236;d.PAD1=17;d.createData=function(a,e,f){e=c.getRSBlocks(a,e);for(var E=new b,n=0;n<f.length;n++){var h=f[n];E.put(h.mode,4);E.put(h.getLength(),g.getLengthInBits(h.mode,a));h.write(E)}for(n=
a=0;n<e.length;n++)a+=e[n].dataCount;if(E.getLengthInBits()>8*a)throw Error("code length overflow. ("+E.getLengthInBits()+">"+8*a+")");for(E.getLengthInBits()+4<=8*a&&E.put(0,4);0!=E.getLengthInBits()%8;)E.putBit(!1);for(;!(E.getLengthInBits()>=8*a||(E.put(d.PAD0,8),E.getLengthInBits()>=8*a));)E.put(d.PAD1,8);return d.createBytes(E,e)};d.createBytes=function(a,b){for(var c=0,d=0,e=0,h=Array(b.length),m=Array(b.length),k=0;k<b.length;k++){var D=b[k].dataCount,p=b[k].totalCount-D,d=Math.max(d,D),e=
Math.max(e,p);h[k]=Array(D);for(var C=0;C<h[k].length;C++)h[k][C]=255&a.buffer[C+c];c+=D;C=g.getErrorCorrectPolynomial(p);D=(new f(h[k],C.getLength()-1)).mod(C);m[k]=Array(C.getLength()-1);for(C=0;C<m[k].length;C++)p=C+D.getLength()-m[k].length,m[k][C]=0<=p?D.get(p):0}for(C=k=0;C<b.length;C++)k+=b[C].totalCount;c=Array(k);for(C=D=0;d>C;C++)for(k=0;k<b.length;k++)C<h[k].length&&(c[D++]=h[k][C]);for(C=0;e>C;C++)for(k=0;k<b.length;k++)C<m[k].length&&(c[D++]=m[k][C]);return c};for(var e={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=g.getBCHDigit(b)-g.getBCHDigit(g.G15);)b^=g.G15<<g.getBCHDigit(b)-g.getBCHDigit(g.G15);return(a<<10|b)^g.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=g.getBCHDigit(b)-g.getBCHDigit(g.G18);)b^=g.G18<<g.getBCHDigit(b)-
g.getBCHDigit(g.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return g.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var b=
new f([1],0),c=0;a>c;c++)b=b.multiply(new f([1,w.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else{if(!(41>b))throw Error("type:"+b);switch(a){case e.MODE_NUMBER:return 14;
case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw Error("mode:"+a);}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var h=0,m=a.isDark(d,e),k=-1;1>=k;k++)if(!(0>d+k||d+k>=b))for(var D=-1;1>=D;D++)0>e+D||e+D>=b||(0!=k||0!=D)&&m==a.isDark(d+k,e+D)&&h++;5<h&&(c+=3+h-5)}for(d=0;b-1>d;d++)for(e=0;b-1>e;e++)h=0,a.isDark(d,e)&&h++,a.isDark(d+1,e)&&h++,a.isDark(d,e+1)&&h++,a.isDark(d+1,e+1)&&h++,0!=h&&
4!=h||(c+=3);for(d=0;b>d;d++)for(e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;b>e;e++)for(d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=h=0;b>e;e++)for(d=0;b>d;d++)a.isDark(d,e)&&h++;return c+Math.abs(100*h/b/b-50)/5*10}},w={glog:function(a){if(1>a)throw Error("glog("+a+")");return w.LOG_TABLE[a]},
gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return w.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},r=0;8>r;r++)w.EXP_TABLE[r]=1<<r;for(r=8;256>r;r++)w.EXP_TABLE[r]=w.EXP_TABLE[r-4]^w.EXP_TABLE[r-5]^w.EXP_TABLE[r-6]^w.EXP_TABLE[r-8];for(r=0;255>r;r++)w.LOG_TABLE[w.EXP_TABLE[r]]=r;f.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=
0;d<a.getLength();d++)b[c+d]^=w.gexp(w.glog(this.get(c))+w.glog(a.get(d)));return new f(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=w.glog(this.get(0))-w.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=w.gexp(w.glog(a.get(d))+b);return(new f(c,0)).mod(a)}};c.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];c.getRSBlocks=function(a,b){var d=c.getRsBlockTable(a,b);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var e=d.length/3,f=[],h=0;e>h;h++)for(var m=d[3*h+0],k=d[3*h+1],D=d[3*h+2],p=0;m>p;p++)f.push(new c(k,D));return f};c.getRsBlockTable=function(a,
b){switch(b){case n.L:return c.RS_BLOCK_TABLE[4*(a-1)+0];case n.M:return c.RS_BLOCK_TABLE[4*(a-1)+1];case n.Q:return c.RS_BLOCK_TABLE[4*(a-1)+2];case n.H:return c.RS_BLOCK_TABLE[4*(a-1)+3]}};b.prototype={get:function(a){return 1==(1&this.buffer[Math.floor(a/8)]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=
128>>>this.length%8);this.length++}};var u=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,
805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],r=function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){function b(a,c){var d=document.createElementNS("http://www.w3.org/2000/svg",a),h;for(h in c)c.hasOwnProperty(h)&&d.setAttribute(h,
c[h]);return d}var c=this._htOption,d=this._el,h=a.getModuleCount();Math.floor(c.width/h);Math.floor(c.height/h);this.clear();var m=b("svg",{viewBox:"0 0 "+String(h)+" "+String(h),width:"100%",height:"100%",fill:c.colorLight});m.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");d.appendChild(m);m.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(c=0;h>c;c++)for(d=0;h>d;d++)if(a.isDark(c,d)){var k=b("use",{x:String(c),y:String(d)});
k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");m.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),a="svg"===document.documentElement.tagName.toLowerCase()?r:"undefined"!=typeof CanvasRenderingContext2D?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function b(a,c){var d=this;if(d._fFail=c,d._fSuccess=
a,null===d._bSupportDataURI){var D=document.createElement("img"),e=function(){d._bSupportDataURI=!1;d._fFail&&_fFail.call(d)};return D.onabort=e,D.onerror=e,D.onload=function(){d._bSupportDataURI=!0;d._fSuccess&&d._fSuccess.call(d)},D.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}!0===d._bSupportDataURI&&d._fSuccess?d._fSuccess.call(d):!1===d._bSupportDataURI&&d._fFail&&d._fFail.call(d)}if(this._android&&
2.1>=this._android){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,k,D,e,C,f,A){if("nodeName"in a&&/img/i.test(a.nodeName))for(var t=arguments.length-1;1<=t;t--)arguments[t]*=c;else"undefined"==typeof A&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1;this._android=q();this._htOption=b;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=b.width;this._elCanvas.height=b.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),C=d.width/e,f=d.height/e,A=Math.round(C),t=Math.round(f);b.style.display="none";
this.clear();for(b=0;e>b;b++)for(var v=0;e>v;v++){var g=a.isDark(b,v),F=v*C,M=b*f;c.strokeStyle=g?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=g?d.colorDark:d.colorLight;c.fillRect(F,M,C,f);c.strokeRect(Math.floor(F)+.5,Math.floor(M)+.5,A,t);c.strokeRect(Math.ceil(F)-.5,Math.ceil(M)-.5,A,t)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a},e}():function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),h=Math.floor(b.width/d),m=Math.floor(b.height/d),k=['<table style="border:0;border-collapse:collapse;">'],e=0;d>e;e++){k.push("<tr>");for(var p=0;d>p;p++)k.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
h+"px;height:"+m+"px;background-color:"+(a.isDark(e,p)?b.colorDark:b.colorLight)+';"></td>');k.push("</tr>")}k.push("</table>");c.innerHTML=k.join("");a=c.childNodes[0];c=(b.width-a.offsetWidth)/2;b=(b.height-a.offsetHeight)/2;0<c&&0<b&&(a.style.margin=b+"px "+c+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(b,c){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"==typeof c&&(c={text:c}),c)for(var d in c)this._htOption[d]=
c[d];"string"==typeof b&&(b=document.getElementById(b));this._android=q();this._el=b;this._oQRCode=null;this._oDrawing=new a(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(a){var b=this._htOption.correctLevel,c=1,e;e=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");e=e.length+(e.length!=a?3:0);for(var f=0,h=u.length;h>=f;f++){var m=0;switch(b){case n.L:m=u[f][0];break;case n.M:m=u[f][1];break;case n.Q:m=u[f][2];break;case n.H:m=
u[f][3]}if(m>=e)break;c++}if(c>u.length)throw Error("Too long data");this._oQRCode=new d(c,this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._el.title=a;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=n}();
(function(){(function(z){var d=this||(0,eval)("this"),f=d.document,c=d.navigator,b=d.jQuery,q=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(e,n){function g(a,b){return null===a||typeof a in l?a===b:!1}function w(a,b){var c;return function(){c||(c=setTimeout(function(){c=z;a()},b))}}function r(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function u(b,c,d,e){a.bindingHandlers[b]={init:function(b,h,f,A,t){var v,g;a.computed(function(){var F=a.utils.unwrapObservable(h()),f=!d!==!F,J=!g;if(J||c||f!==v)J&&a.computedContext.getDependenciesCount()&&(g=a.utils.cloneNodes(a.virtualElements.childNodes(b),!0)),f?(J||a.virtualElements.setDomNodeChildren(b,a.utils.cloneNodes(g)),a.applyBindingsToDescendants(e?e(t,F):t,b)):a.virtualElements.emptyNode(b),v=f},null,{disposeWhenNodeIsRemoved:b});return{controlsDescendantBindings:!0}}};
a.expressionRewriting.bindingRewriteValidators[b]=!1;a.virtualElements.allowedBindings[b]=!0}var a="undefined"!==typeof e?e:{};a.exportSymbol=function(b,c){for(var d=b.split("."),e=a,p=0;p<d.length-1;p++)e=e[d[p]];e[d[d.length-1]]=c};a.exportProperty=function(a,b,c){a[b]=c};a.version="3.3.0";a.exportSymbol("version",a.version);a.utils=function(){function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function m(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,
b){a.__proto__=b;return a}function e(b,c,d,h){var k=b[c].match(I)||[];a.utils.arrayForEach(d.match(I),function(b){a.utils.addOrRemoveItem(k,b,h)});b[c]=k.join(" ")}var p={__proto__:[]}instanceof Array,C={},g={},A=c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents";C[A]=["keyup","keydown","keypress"];C.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");h(C,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)g[b[c]]=a});var t=
{propertychange:!0},v=f&&function(){for(var a=3,b=f.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:z}(),I=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<
d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,h=a.length;d<h;d++)if(b.call(c,a[d],d))return a[d];return null},arrayRemoveItem:function(b,c){var d=a.utils.arrayIndexOf(b,c);0<d?b.splice(d,1):0===d&&b.shift()},arrayGetDistinctValues:function(b){b=b||[];for(var c=[],d=0,h=b.length;d<h;d++)0>a.utils.arrayIndexOf(c,b[d])&&c.push(b[d]);return c},arrayMap:function(a,b){a=a||[];for(var c=[],d=0,h=a.length;d<h;d++)c.push(b(a[d],d));return c},arrayFilter:function(a,b){a=a||[];
for(var c=[],d=0,h=a.length;d<h;d++)b(a[d],d)&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(b,c,d){var h=a.utils.arrayIndexOf(a.utils.peekObservable(b),c);0>h?d&&b.push(c):d||b.splice(h,1)},canSetPrototype:p,extend:m,setPrototypeOf:k,setPrototypeOfOrExtend:p?k:m,objectForEach:h,objectMap:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],
d,a));return c},emptyDomNode:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},moveCleanedNodesToContainerElement:function(b){b=a.utils.makeArray(b);for(var c=(b[0]&&b[0].ownerDocument||f).createElement("div"),d=0,h=b.length;d<h;d++)c.appendChild(a.cleanNode(b[d]));return c},cloneNodes:function(b,c){for(var d=0,h=b.length,k=[];d<h;d++){var m=b[d].cloneNode(!0);k.push(c?a.cleanNode(m):m)}return k},setDomNodeChildren:function(b,c){a.utils.emptyDomNode(b);if(c)for(var d=0,h=c.length;d<h;d++)b.appendChild(c[d])},
replaceDomNodes:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var h=d[0],k=h.parentNode,m=0,e=c.length;m<e;m++)k.insertBefore(c[m],h);m=0;for(e=d.length;m<e;m++)a.removeNode(d[m])}},fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){7>v?a.setAttribute("selected",
b):a.selected=b},stringTrim:function(a){return null===a||a===z?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(b){return a.utils.domNodeIsContainedBy(b,
b.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(b){return!!a.utils.arrayFirst(b,a.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(c,d,h){var k=v&&t[d];if(!k&&b)b(c).bind(d,h);else if(k||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var m=function(a){h.call(c,a)},e="on"+d;c.attachEvent(e,m);a.utils.domNodeDisposal.addDisposeCallback(c,function(){c.detachEvent(e,
m)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else c.addEventListener(d,h,!1)},triggerEvent:function(c,h){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var k;"input"===a.utils.tagNameLower(c)&&c.type?"click"!=h.toLowerCase()?k=!1:(k=c.type,k="checkbox"==k||"radio"==k):k=!1;if(b&&!k)b(c).trigger(h);else if("function"==typeof f.createEvent)if("function"==typeof c.dispatchEvent)k=f.createEvent(g[h]||"HTMLEvents"),k.initEvent(h,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(k);else throw Error("The supplied element doesn't support dispatchEvent");else if(k&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+h);else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(b){return a.isObservable(b)?b():b},peekObservable:function(b){return a.isObservable(b)?b.peek():b},toggleDomNodeCssClass:function(b,c,d){var h;c&&("object"===typeof b.classList?(h=b.classList[d?"add":
"remove"],a.utils.arrayForEach(c.match(I),function(a){h.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},setTextContent:function(b,c){var d=a.utils.unwrapObservable(c);if(null===d||d===z)d="";var h=a.virtualElements.firstChild(b);!h||3!=h.nodeType||a.virtualElements.nextSibling(h)?a.virtualElements.setDomNodeChildren(b,[b.ownerDocument.createTextNode(d)]):h.data=d;a.utils.forceRefresh(b)},setElementName:function(a,b){a.name=b;if(7>=v)try{a.mergeAttributes(f.createElement("<input name='"+
a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){9<=v&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ensureSelectElementIsRenderedCorrectly:function(a){if(v){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,c){b=a.utils.unwrapObservable(b);c=a.utils.unwrapObservable(c);for(var d=[],h=b;h<=c;h++)d.push(h);return d},makeArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:6===v,isIe7:7===v,ieVersion:v,getFormFields:function(b,
c){for(var d=a.utils.makeArray(b.getElementsByTagName("input")).concat(a.utils.makeArray(b.getElementsByTagName("textarea"))),h="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},k=[],m=d.length-1;0<=m;m--)h(d[m])&&k.push(d[m]);return k},parseJson:function(b){return"string"==typeof b&&(b=a.utils.stringTrim(b))?q&&q.parse?q.parse(b):(new Function("return "+b))():null},stringifyJson:function(b,c,d){if(!q||!q.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return q.stringify(a.utils.unwrapObservable(b),c,d)},postJson:function(b,c,d){d=d||{};var k=d.params||{},m=d.includeFields||this.fieldsIncludedWithJsonPost,e=b;if("object"==typeof b&&"form"===a.utils.tagNameLower(b))for(var e=b.action,v=m.length-1;0<=v;v--)for(var D=a.utils.getFormFields(b,m[v]),p=D.length-1;0<=p;p--)k[D[p].name]=D[p].value;c=a.utils.unwrapObservable(c);var t=f.createElement("form");t.style.display="none";t.action=e;t.method="post";for(var C in c)b=f.createElement("input"),b.type=
"hidden",b.name=C,b.value=a.utils.stringifyJson(a.utils.unwrapObservable(c[C])),t.appendChild(b);h(k,function(a,b){var c=f.createElement("input");c.type="hidden";c.name=a;c.value=b;t.appendChild(c)});f.body.appendChild(t);d.submitter?d.submitter(t):t.submit();setTimeout(function(){t.parentNode.removeChild(t)},0)}}}();a.exportSymbol("utils",a.utils);a.exportSymbol("utils.arrayForEach",a.utils.arrayForEach);a.exportSymbol("utils.arrayFirst",a.utils.arrayFirst);a.exportSymbol("utils.arrayFilter",a.utils.arrayFilter);
a.exportSymbol("utils.arrayGetDistinctValues",a.utils.arrayGetDistinctValues);a.exportSymbol("utils.arrayIndexOf",a.utils.arrayIndexOf);a.exportSymbol("utils.arrayMap",a.utils.arrayMap);a.exportSymbol("utils.arrayPushAll",a.utils.arrayPushAll);a.exportSymbol("utils.arrayRemoveItem",a.utils.arrayRemoveItem);a.exportSymbol("utils.extend",a.utils.extend);a.exportSymbol("utils.fieldsIncludedWithJsonPost",a.utils.fieldsIncludedWithJsonPost);a.exportSymbol("utils.getFormFields",a.utils.getFormFields);a.exportSymbol("utils.peekObservable",
a.utils.peekObservable);a.exportSymbol("utils.postJson",a.utils.postJson);a.exportSymbol("utils.parseJson",a.utils.parseJson);a.exportSymbol("utils.registerEventHandler",a.utils.registerEventHandler);a.exportSymbol("utils.stringifyJson",a.utils.stringifyJson);a.exportSymbol("utils.range",a.utils.range);a.exportSymbol("utils.toggleDomNodeCssClass",a.utils.toggleDomNodeCssClass);a.exportSymbol("utils.triggerEvent",a.utils.triggerEvent);a.exportSymbol("utils.unwrapObservable",a.utils.unwrapObservable);
a.exportSymbol("utils.objectForEach",a.utils.objectForEach);a.exportSymbol("utils.addOrRemoveItem",a.utils.addOrRemoveItem);a.exportSymbol("utils.setTextContent",a.utils.setTextContent);a.exportSymbol("unwrap",a.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return b.apply(a,
d)}});a.utils.domData=new function(){function a(h,e){var f=h[c];if(!f||"null"===f||!d[f]){if(!e)return z;f=h[c]="ko"+b++;d[f]={}}return d[f]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===z?z:d[c]},set:function(b,c,d){if(d!==z||a(b,!1)!==z)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},nextKey:function(){return b++ +c}}};a.exportSymbol("utils.domData",a.utils.domData);a.exportSymbol("utils.domData.clear",a.utils.domData.clear);
a.utils.domNodeDisposal=new function(){function c(b,d){var h=a.utils.domData.get(b,k);h===z&&d&&(h=[],a.utils.domData.set(b,k,h));return h}function d(b){var k=c(b,!1);if(k)for(var k=k.slice(0),e=0;e<k.length;e++)k[e](b);a.utils.domData.clear(b);a.utils.domNodeDisposal.cleanExternalData(b);if(p[b.nodeType])for(k=b.firstChild;b=k;)k=b.nextSibling,8===b.nodeType&&d(b)}var k=a.utils.domData.nextKey(),e={1:!0,8:!0,9:!0},p={1:!0,9:!0};return{addDisposeCallback:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");
c(a,!0).push(b)},removeDisposeCallback:function(b,d){var m=c(b,!1);m&&(a.utils.arrayRemoveItem(m,d),0==m.length&&a.utils.domData.set(b,k,z))},cleanNode:function(b){if(e[b.nodeType]&&(d(b),p[b.nodeType])){var c=[];a.utils.arrayPushAll(c,b.getElementsByTagName("*"));for(var h=0,k=c.length;h<k;h++)d(c[h])}return b},removeNode:function(b){a.cleanNode(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.cleanNode=a.utils.domNodeDisposal.cleanNode;
a.removeNode=a.utils.domNodeDisposal.removeNode;a.exportSymbol("cleanNode",a.cleanNode);a.exportSymbol("removeNode",a.removeNode);a.exportSymbol("utils.domNodeDisposal",a.utils.domNodeDisposal);a.exportSymbol("utils.domNodeDisposal.addDisposeCallback",a.utils.domNodeDisposal.addDisposeCallback);a.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",a.utils.domNodeDisposal.removeDisposeCallback);(function(){a.utils.parseHtmlFragment=function(c,m){var k;if(b)if(b.parseHTML)k=b.parseHTML(c,m)||
[];else{if((k=b.clean([c],m))&&k[0]){for(var e=k[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{(e=m)||(e=f);k=e.parentWindow||e.defaultView||d;var p=a.utils.stringTrim(c).toLowerCase(),e=e.createElement("div"),p=p.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!p.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!p.indexOf("<td")||!p.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],g="ignored<div>"+
p[1]+c+p[2]+"</div>";for("function"==typeof k.innerShiv?e.appendChild(k.innerShiv(g)):e.innerHTML=g;p[0]--;)e=e.lastChild;k=a.utils.makeArray(e.lastChild.childNodes)}return k};a.utils.setHtml=function(c,d){a.utils.emptyDomNode(c);d=a.utils.unwrapObservable(d);if(null!==d&&d!==z)if("string"!=typeof d&&(d=d.toString()),b)b(c).html(d);else for(var k=a.utils.parseHtmlFragment(d,c.ownerDocument),e=0;e<k.length;e++)c.appendChild(k[e])}})();a.exportSymbol("utils.parseHtmlFragment",a.utils.parseHtmlFragment);
a.exportSymbol("utils.setHtml",a.utils.setHtml);a.memoization=function(){function b(c,d){if(c)if(8==c.nodeType){var m=a.memoization.parseMemoText(c.nodeValue);null!=m&&d.push({domNode:c,memoId:m})}else if(1==c.nodeType)for(var m=0,e=c.childNodes,f=e.length;m<f;m++)b(e[m],d)}var c={};return{memoize:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|
0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},unmemoize:function(a,b){var d=c[a];if(d===z)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},unmemoizeDomNodeAndDescendants:function(c,d){var m=[];b(c,m);for(var e=0,f=m.length;e<f;e++){var g=m[e].domNode,t=[g];d&&a.utils.arrayPushAll(t,d);a.memoization.unmemoize(m[e].memoId,t);g.nodeValue="";g.parentNode&&g.parentNode.removeChild(g)}},
parseMemoText:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.exportSymbol("memoization",a.memoization);a.exportSymbol("memoization.memoize",a.memoization.memoize);a.exportSymbol("memoization.unmemoize",a.memoization.unmemoize);a.exportSymbol("memoization.parseMemoText",a.memoization.parseMemoText);a.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",a.memoization.unmemoizeDomNodeAndDescendants);a.extenders={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.dependentObservable({read:b,
write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?r:w;a.limit(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:g}};var l={undefined:1,"boolean":1,number:1,string:1};a.exportSymbol("extenders",a.extenders);a.subscription=function(b,c,d){this._target=b;this.callback=c;this.disposeCallback=d;this.isDisposed=!1;a.exportProperty(this,"dispose",
this.dispose)};a.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};a.subscribable=function(){a.utils.setPrototypeOfOrExtend(this,a.subscribable.fn);this._subscriptions={};this._versionNumber=1};var x={subscribe:function(b,c,d){var e=this;d=d||"change";b=c?b.bind(c):b;var p=new a.subscription(e,b,function(){a.utils.arrayRemoveItem(e._subscriptions[d],p);e.afterSubscriptionRemove&&e.afterSubscriptionRemove(d)});e.beforeSubscriptionAdd&&e.beforeSubscriptionAdd(d);e._subscriptions[d]||
(e._subscriptions[d]=[]);e._subscriptions[d].push(p);return p},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.updateVersion();if(this.hasSubscriptionsForEvent(c))try{a.dependencyDetection.begin();for(var d=this._subscriptions[c].slice(0),e=0,p;p=d[e];++e)p.isDisposed||p.callback(b)}finally{a.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(b){var c=
this,d=a.isObservable(c),e,p,f;c._origNotifySubscribers||(c._origNotifySubscribers=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c._rateLimitedBeforeChange(a):c._origNotifySubscribers(a,b):c._rateLimitedChange(a)});var g=b(function(){d&&f===c&&(f=c());e=!1;c.isDifferent(p,f)&&c._origNotifySubscribers(p=f)});c._rateLimitedChange=function(a){e=!0;f=a;g()};c._rateLimitedBeforeChange=function(a){e||(p=a,c._origNotifySubscribers(a,"beforeChange"))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&
this._subscriptions[a].length},getSubscriptionsCount:function(b){if(b)return this._subscriptions[b]&&this._subscriptions[b].length||0;var c=0;a.utils.objectForEach(this._subscriptions,function(a,b){c+=b.length});return c},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.utils.objectForEach(b,function(b,d){var h=a.extenders[b];"function"==typeof h&&(c=h(c,d)||c)});return c}};a.exportProperty(x,"subscribe",x.subscribe);a.exportProperty(x,
"extend",x.extend);a.exportProperty(x,"getSubscriptionsCount",x.getSubscriptionsCount);a.utils.canSetPrototype&&a.utils.setPrototypeOf(x,Function.prototype);a.subscribable.fn=x;a.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.exportSymbol("subscribable",a.subscribable);a.exportSymbol("isSubscribable",a.isSubscribable);a.computedContext=a.dependencyDetection=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],
e,f=0;return{begin:b,end:c,registerDependency:function(b){if(e){if(!a.isSubscribable(b))throw Error("Only subscribable things can act as dependencies");e.callback(b,b._id||(b._id=++f))}},ignore:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},getDependenciesCount:function(){if(e)return e.computed.getDependenciesCount()},isInitial:function(){if(e)return e.isInitial}}}();a.exportSymbol("computedContext",a.computedContext);a.exportSymbol("computedContext.getDependenciesCount",a.computedContext.getDependenciesCount);
a.exportSymbol("computedContext.isInitial",a.computedContext.isInitial);a.exportSymbol("computedContext.isSleeping",a.computedContext.isSleeping);a.exportSymbol("ignoreDependencies",a.ignoreDependencies=a.dependencyDetection.ignore);a.observable=function(b){function c(){if(0<arguments.length)return c.isDifferent(d,arguments[0])&&(c.valueWillMutate(),d=arguments[0],c._latestValue=d,c.valueHasMutated()),this;a.dependencyDetection.registerDependency(c);return d}var d=b;a.subscribable.call(c);a.utils.setPrototypeOfOrExtend(c,
a.observable.fn);c._latestValue=d;c.peek=function(){return d};c.valueHasMutated=function(){c.notifySubscribers(d)};c.valueWillMutate=function(){c.notifySubscribers(d,"beforeChange")};a.exportProperty(c,"peek",c.peek);a.exportProperty(c,"valueHasMutated",c.valueHasMutated);a.exportProperty(c,"valueWillMutate",c.valueWillMutate);return c};a.observable.fn={equalityComparer:g};var B=a.observable.protoProperty="__ko_proto__";a.observable.fn[B]=a.observable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observable.fn,
a.subscribable.fn);a.hasPrototype=function(b,c){return null===b||b===z||b[B]===z?!1:b[B]===c?!0:a.hasPrototype(b[B],c)};a.isObservable=function(b){return a.hasPrototype(b,a.observable)};a.isWriteableObservable=function(b){return"function"==typeof b&&b[B]===a.observable||"function"==typeof b&&b[B]===a.dependentObservable&&b.hasWriteFunction?!0:!1};a.exportSymbol("observable",a.observable);a.exportSymbol("isObservable",a.isObservable);a.exportSymbol("isWriteableObservable",a.isWriteableObservable);
a.exportSymbol("isWritableObservable",a.isWriteableObservable);a.observableArray=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.observable(b);a.utils.setPrototypeOfOrExtend(b,a.observableArray.fn);return b.extend({trackArrayChanges:!0})};a.observableArray.fn={remove:function(b){for(var c=this.peek(),d=[],e="function"!=typeof b||a.isObservable(b)?function(a){return a===
b}:b,f=0;f<c.length;f++){var g=c[f];e(g)&&(0===d.length&&this.valueWillMutate(),d.push(g),c.splice(f,1),f--)}d.length&&this.valueHasMutated();return d},removeAll:function(b){if(b===z){var c=this.peek(),d=c.slice(0);this.valueWillMutate();c.splice(0,c.length);this.valueHasMutated();return d}return b?this.remove(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},destroy:function(b){var c=this.peek(),d="function"!=typeof b||a.isObservable(b)?function(a){return a===b}:b;this.valueWillMutate();for(var e=
c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.valueHasMutated()},destroyAll:function(b){return b===z?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},indexOf:function(b){var c=this();return a.utils.arrayIndexOf(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}};a.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(b){a.observableArray.fn[b]=
function(){var a=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(a,b,arguments);a=a[b].apply(a,arguments);this.valueHasMutated();return a}});a.utils.arrayForEach(["slice"],function(b){a.observableArray.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observableArray.fn,a.observable.fn);a.exportSymbol("observableArray",a.observableArray);a.extenders.trackArrayChanges=function(b){function c(){if(!d){d=!0;var m=b.notifySubscribers;
b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return m.apply(this,arguments)};var v=[].concat(b.peek()||[]);e=null;f=b.subscribe(function(c){c=[].concat(c||[]);if(b.hasSubscriptionsForEvent("arrayChange")){var d;if(!e||1<g)e=a.utils.compareArrays(v,c,{sparse:!0});d=e}v=c;e=null;g=0;d&&d.length&&b.notifySubscribers(d,"arrayChange")})}}if(!b.cacheDiffForKnownOperation){var d=!1,e=null,f,g=0,y=b.beforeSubscriptionAdd,A=b.afterSubscriptionRemove;b.beforeSubscriptionAdd=function(a){y&&y.call(b,
a);"arrayChange"===a&&c()};b.afterSubscriptionRemove=function(a){A&&A.call(b,a);"arrayChange"!==a||b.hasSubscriptionsForEvent("arrayChange")||(f.dispose(),d=!1)};b.cacheDiffForKnownOperation=function(b,c,h){function m(a,b,c){return f[f.length]={status:a,value:b,index:c}}if(d&&!g){var f=[],p=b.length,A=h.length,y=0;switch(c){case "push":y=p;case "unshift":for(c=0;c<A;c++)m("added",h[c],y+c);break;case "pop":y=p-1;case "shift":p&&m("deleted",b[y],y);break;case "splice":c=Math.min(Math.max(0,0>h[0]?
p+h[0]:h[0]),p);for(var p=1===A?p:Math.min(c+(h[1]||0),p),A=c+A-2,y=Math.max(p,A),l=[],n=[],u=2;c<y;++c,++u)c<p&&n.push(m("deleted",b[c],c)),c<A&&l.push(m("added",h[u],c));a.utils.findMovesInArrayComparison(n,l);break;default:return}e=f}}}};a.computed=a.dependentObservable=function(b,c,d){function e(a,b,c){if(w&&b===t)throw Error("A 'pure' computed must not be called recursively");H[a]=c;c._order=L++;c._version=b.getVersion()}function f(){var a,b;for(a in H)if(H.hasOwnProperty(a)&&(b=H[a],b._target.hasChanged(b._version)))return!0}
function g(){!r&&H&&a.utils.objectForEach(H,function(a,b){b.dispose&&b.dispose()});H=null;L=0;u=!0;r=J=!1}function y(){var a=t.throttleEvaluation;a&&0<=a?(clearTimeout(W),W=setTimeout(function(){A(!0)},a)):t._evalRateLimited?t._evalRateLimited():A(!0)}function A(b){if(!K&&!u){if(Q&&Q()){if(!n){R();return}}else n=!1;K=!0;try{var d=H,h=L,k=w?z:!L;a.dependencyDetection.begin({callback:function(a,b){u||(h&&d[b]?(e(b,a,d[b]),delete d[b],--h):H[b]||e(b,a,r?{_target:a}:a.subscribe(y)))},computed:t,isInitial:k});
H={};L=0;try{var v=c?q.call(c):q()}finally{a.dependencyDetection.end(),h&&!r&&a.utils.objectForEach(d,function(a,b){b.dispose&&b.dispose()}),J=!1}t.isDifferent(l,v)&&(r||F(l,"beforeChange"),l=v,t._latestValue=l,r?t.updateVersion():b&&F(l));k&&F(l,"awake")}finally{K=!1}L||R()}}function t(){if(0<arguments.length){if("function"===typeof x)x.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.dependencyDetection.registerDependency(t);(J||r&&f())&&A();return l}function v(){(J&&!L||r&&f())&&A();return l}function I(){return J||0<L}function F(a,b){t.notifySubscribers(a,b)}var l,J=!0,K=!1,n=!1,u=!1,q=b,w=!1,r=!1;q&&"object"==typeof q?(d=q,q=d.read):(d=d||{},q||(q=d.read));if("function"!=typeof q)throw Error("Pass a function that returns the value of the ko.computed");var x=d.write,B=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,E=d.disposeWhen||d.disposeWhen,Q=
E,R=g,H={},L=0,W=null;c||(c=d.owner);a.subscribable.call(t);a.utils.setPrototypeOfOrExtend(t,a.dependentObservable.fn);t.peek=v;t.getDependenciesCount=function(){return L};t.hasWriteFunction="function"===typeof x;t.dispose=function(){R()};t.isActive=I;var X=t.limit;t.limit=function(a){X.call(t,a);t._evalRateLimited=function(){t._rateLimitedBeforeChange(l);J=!0;t._rateLimitedChange(t)}};d.pure?(r=w=!0,t.beforeSubscriptionAdd=function(b){if(!u&&r&&"change"==b){r=!1;if(J||f())H=null,L=0,J=!0,A();else{var c=
[];a.utils.objectForEach(H,function(a,b){c[b._order]=a});a.utils.arrayForEach(c,function(a,b){var c=H[a],d=c._target.subscribe(y);d._order=b;d._version=c._version;H[a]=d})}u||F(l,"awake")}},t.afterSubscriptionRemove=function(b){u||"change"!=b||t.hasSubscriptionsForEvent("change")||(a.utils.objectForEach(H,function(a,b){b.dispose&&(H[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),r=!0,F(z,"asleep"))},t._originalGetVersion=t.getVersion,t.getVersion=function(){r&&(J||f())&&
A();return t._originalGetVersion()}):d.deferEvaluation&&(t.beforeSubscriptionAdd=function(a){"change"!=a&&"beforeChange"!=a||v()});a.exportProperty(t,"peek",t.peek);a.exportProperty(t,"dispose",t.dispose);a.exportProperty(t,"isActive",t.isActive);a.exportProperty(t,"getDependenciesCount",t.getDependenciesCount);B&&(n=!0,B.nodeType&&(Q=function(){return!a.utils.domNodeIsAttachedToDocument(B)||E&&E()}));r||d.deferEvaluation||A();B&&I()&&B.nodeType&&(R=function(){a.utils.domNodeDisposal.removeDisposeCallback(B,
R);g()},a.utils.domNodeDisposal.addDisposeCallback(B,R));return t};a.isComputed=function(b){return a.hasPrototype(b,a.dependentObservable)};x=a.observable.protoProperty;a.dependentObservable[x]=a.observable;a.dependentObservable.fn={equalityComparer:g};a.dependentObservable.fn[x]=a.dependentObservable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.dependentObservable.fn,a.subscribable.fn);a.exportSymbol("dependentObservable",a.dependentObservable);a.exportSymbol("computed",a.dependentObservable);
a.exportSymbol("isComputed",a.isComputed);a.pureComputed=function(b,c){if("function"===typeof b)return a.computed(b,c,{pure:!0});b=a.utils.extend({},b);b.pure=!0;return a.computed(b,c)};a.exportSymbol("pureComputed",a.pureComputed);(function(){function b(a,e,f){f=f||new d;a=e(a);if("object"!=typeof a||null===a||a===z||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var g=a instanceof Array?[]:{};f.save(a,g);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":g[c]=
d;break;case "object":case "undefined":var k=f.get(d);g[c]=k!==z?k:b(d,e,f)}});return g}function c(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.values=[]}a.toJS=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.isObservable(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.toJS(b);return a.utils.stringifyJson(b,
c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.utils.arrayIndexOf(this.keys,b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.utils.arrayIndexOf(this.keys,b);return 0<=b?this.values[b]:z}}})();a.exportSymbol("toJS",a.toJS);a.exportSymbol("toJSON",a.toJSON);(function(){a.selectExtensions={readValue:function(b){switch(a.utils.tagNameLower(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.utils.domData.get(b,a.bindingHandlers.options.optionValueDomDataKey):
7>=a.utils.ieVersion?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex]):z;default:return b.value}},writeValue:function(b,c,d){switch(a.utils.tagNameLower(b)){case "option":switch(typeof c){case "string":a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,z);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;
default:a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=z;for(var e=-1,f=0,g=b.options.length,l;f<g;++f)if(l=a.selectExtensions.readValue(b.options[f]),l==c||""==l&&c===z){e=f;break}if(d||0<=e||c===z&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===z)c="";b.value=c}}}})();a.exportSymbol("selectExtensions",a.selectExtensions);a.exportSymbol("selectExtensions.readValue",
a.selectExtensions.readValue);a.exportSymbol("selectExtensions.writeValue",a.selectExtensions.writeValue);a.expressionRewriting=function(){function b(c){c=a.utils.stringTrim(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],h=c.match(e),k,m=[],l=0;if(h){h.push(",");for(var y=0,K;K=h[y];++y){var n=K.charCodeAt(0);if(44===n){if(0>=l){d.push(k&&m.length?{key:k,value:m.join("")}:{unknown:k||m.join("")});k=l=0;m=[];continue}}else if(58===n){if(!l&&!k&&1===m.length){k=m.pop();continue}}else 47===n&&
y&&1<K.length?(n=h[y-1].match(f))&&!g[n[0]]&&(c=c.substr(c.indexOf(K)+1),h=c.match(e),h.push(","),y=-1,K="/"):40===n||123===n||91===n?++l:41===n||125===n||93===n?--l:k||m.length||34!==n&&39!==n||(K=K.slice(1,-1));m.push(K)}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
l={};return{bindingRewriteValidators:[],twoWayBindings:l,parseObjectLiteral:b,preProcessBindings:function(e,f){function v(b,h){var e;if(!C){var f=a.getBindingHandler(b);if(f&&f.preprocess&&!(h=f.preprocess(h,b,v)))return;if(f=l[b])e=h,0<=a.utils.arrayIndexOf(c,e)?e=!1:(f=e.match(d),e=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:e),f=e;f&&p.push("'"+b+"':function(_z){"+e+"=_z}")}D&&(h="function(){return "+h+" }");g.push("'"+b+"':"+h)}f=f||{};var g=[],p=[],D=f.valueAccessors,C=f.bindingParams,n="string"===
typeof e?b(e):e;a.utils.arrayForEach(n,function(a){v(a.key||a.unknown,a.value)});p.length&&v("_ko_property_writers","{"+p.join(",")+" }");return g.join(",")},keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(b,c,d,h,e){if(b&&a.isObservable(b))!a.isWriteableObservable(b)||e&&b.peek()===h||b(h);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](h)}}}();a.exportSymbol("expressionRewriting",a.expressionRewriting);a.exportSymbol("expressionRewriting.bindingRewriteValidators",
a.expressionRewriting.bindingRewriteValidators);a.exportSymbol("expressionRewriting.parseObjectLiteral",a.expressionRewriting.parseObjectLiteral);a.exportSymbol("expressionRewriting.preProcessBindings",a.expressionRewriting.preProcessBindings);a.exportSymbol("expressionRewriting._twoWayBindings",a.expressionRewriting.twoWayBindings);a.exportSymbol("jsonExpressionRewriting",a.expressionRewriting);a.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.expressionRewriting.preProcessBindings);
(function(){function b(a){return 8==a.nodeType&&l.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&y.test(g?a.text:a.nodeValue)}function d(a,e){for(var k=a,f=1,g=[];k=k.nextSibling;){if(c(k)&&(f--,0===f))return g;g.push(k);b(k)&&f++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=f&&"\x3c!--test--\x3e"===f.createComment("test").text,l=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:
/^\s*ko(?:\s+([\s\S]+))?\s*$/,y=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,A={ul:!0,ol:!0};a.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?d(a):a.childNodes},emptyNode:function(c){if(b(c)){c=a.virtualElements.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.utils.emptyDomNode(c)},setDomNodeChildren:function(c,d){if(b(c)){a.virtualElements.emptyNode(c);for(var e=c.nextSibling,k=0,m=d.length;k<m;k++)e.parentNode.insertBefore(d[k],e)}else a.utils.setDomNodeChildren(c,
d)},prepend:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},insertAfter:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.virtualElements.prepend(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},
hasBindingValue:b,virtualNodeBindingValue:function(a){return(a=(g?a.text:a.nodeValue).match(l))?a[1]:null},normaliseVirtualElementDomStructure:function(d){if(A[a.utils.tagNameLower(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var f;f=k.firstChild;var g=null;if(f){do if(g)g.push(f);else if(b(f)){var p=e(f,!0);p?f=p:g=[f]}else c(f)&&(g=[f]);while(f=f.nextSibling)}if(f=g)for(g=k.nextSibling,p=0;p<f.length;p++)g?d.insertBefore(f[p],g):d.appendChild(f[p])}while(k=k.nextSibling)}}}}})();a.exportSymbol("virtualElements",
a.virtualElements);a.exportSymbol("virtualElements.allowedBindings",a.virtualElements.allowedBindings);a.exportSymbol("virtualElements.emptyNode",a.virtualElements.emptyNode);a.exportSymbol("virtualElements.insertAfter",a.virtualElements.insertAfter);a.exportSymbol("virtualElements.prepend",a.virtualElements.prepend);a.exportSymbol("virtualElements.setDomNodeChildren",a.virtualElements.setDomNodeChildren);(function(){a.bindingProvider=function(){this.bindingCache={}};a.utils.extend(a.bindingProvider.prototype,
{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.components.getComponentNameForNode(b);case 8:return a.virtualElements.hasBindingValue(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.components.addBindingsForCustomElement(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.components.addBindingsForCustomElement(d,
b,c,!0)},getBindingsString:function(b,c){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.virtualElements.virtualNodeBindingValue(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.bindingCache,g=b+(e&&e.valueAccessors||""),l;if(!(l=f[g])){var A,t="with($context){with($data||{}){return{"+a.expressionRewriting.preProcessBindings(b,e)+"}}}";A=new Function("$context","$element",t);l=f[g]=A}return l(c,d)}catch(v){throw v.message="Unable to parse bindings.\nBindings value: "+
b+"\nMessage: "+v.message,v;}}});a.bindingProvider.instance=new a.bindingProvider})();a.exportSymbol("bindingProvider",a.bindingProvider);(function(){function c(a){return function(){return a}}function e(a){return a()}function k(b){return a.utils.objectMap(a.dependencyDetection.ignore(b),function(a,c){return function(){return b()[c]}})}function f(b,d,e){return"function"===typeof b?k(b.bind(null,d,e)):a.utils.objectMap(b,c)}function g(a,b){return k(this.getBindings.bind(this,a,b))}function l(b,c,d){var e,
h=a.virtualElements.firstChild(c),k=a.bindingProvider.instance,f=k.preprocessNode;if(f){for(;e=h;)h=a.virtualElements.nextSibling(e),f.call(k,e);h=a.virtualElements.firstChild(c)}for(;e=h;)h=a.virtualElements.nextSibling(e),y(b,e,d)}function y(b,c,d){var e=!0,h=1===c.nodeType;h&&a.virtualElements.normaliseVirtualElementDomStructure(c);if(h&&d||a.bindingProvider.instance.nodeHasBindings(c))e=t(c,null,b,d).shouldBindDescendants;e&&!n[a.utils.tagNameLower(c)]&&l(b,c,!h)}function A(b){var c=[],d={},e=
[];a.utils.objectForEach(b,function S(h){if(!d[h]){var k=a.getBindingHandler(h);k&&(k.after&&(e.push(h),a.utils.arrayForEach(k.after,function(c){if(b[c]){if(-1!==a.utils.arrayIndexOf(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));S(c)}}),e.length--),c.push({key:h,handler:k}));d[h]=!0}});return c}function t(b,c,d,h){var k=a.utils.domData.get(b,F);if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");
a.utils.domData.set(b,F,!0)}!k&&h&&a.storedBindingContextForNode(b,d);var f;if(c&&"function"!==typeof c)f=c;else{var v=a.bindingProvider.instance,t=v.getBindingAccessors||g,l=a.dependentObservable(function(){(f=c?c(d,b):t.call(v,b,d))&&d._subscribable&&d._subscribable();return f},null,{disposeWhenNodeIsRemoved:b});f&&l.isActive()||(l=null)}var D;if(f){var y=function(){return a.utils.objectMap(l?l():f,e)},C=l?function(a){return function(){return e(l()[a])}}:function(a){return f[a]};y.get=function(a){return f[a]&&
e(C(a))};y.has=function(a){return a in f};h=A(f);a.utils.arrayForEach(h,function(c){var e=c.handler.init,h=c.handler.update,k=c.key;if(8===b.nodeType&&!a.virtualElements.allowedBindings[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");try{"function"==typeof e&&a.dependencyDetection.ignore(function(){var a=e(b,C(k),y,d.$data,d);if(a&&a.controlsDescendantBindings){if(D!==z)throw Error("Multiple bindings ("+D+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
D=k}}),"function"==typeof h&&a.dependentObservable(function(){h(b,C(k),y,d.$data,d)},null,{disposeWhenNodeIsRemoved:b})}catch(m){throw m.message='Unable to process binding "'+k+": "+f[k]+'"\nMessage: '+m.message,m;}})}return{shouldBindDescendants:D===z}}function v(b){return b&&b instanceof a.bindingContext?b:new a.bindingContext(b)}a.bindingHandlers={};var n={script:!0,textarea:!0};a.getBindingHandler=function(b){return a.bindingHandlers[b]};a.bindingContext=function(b,c,d,e){var h=this,k="function"==
typeof b&&!a.isObservable(b),f,m=a.dependentObservable(function(){var f=k?b():b,v=a.utils.unwrapObservable(f);c?(c._subscribable&&c._subscribable(),a.utils.extend(h,c),m&&(h._subscribable=m)):(h.$parents=[],h.$root=v,h.ko=a);h.$rawData=f;h.$data=v;d&&(h[d]=v);e&&e(h,c,v);return h.$data},null,{disposeWhen:function(){return f&&!a.utils.anyDomNodeIsAttachedToDocument(f)},disposeWhenNodeIsRemoved:!0});m.isActive()&&(h._subscribable=m,m.equalityComparer=null,f=[],m._addNode=function(b){f.push(b);a.utils.domNodeDisposal.addDisposeCallback(b,
function(b){a.utils.arrayRemoveItem(f,b);f.length||(m.dispose(),h._subscribable=m=z)})})};a.bindingContext.prototype.createChildContext=function(b,c,d){return new a.bindingContext(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.bindingContext.prototype.extend=function(b){return new a.bindingContext(this._subscribable||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.utils.extend(c,"function"==typeof b?
b():b)})};var F=a.utils.domData.nextKey(),u=a.utils.domData.nextKey();a.storedBindingContextForNode=function(b,c){if(2==arguments.length)a.utils.domData.set(b,u,c),c._subscribable&&c._subscribable._addNode(b);else return a.utils.domData.get(b,u)};a.applyBindingAccessorsToNode=function(b,c,d){1===b.nodeType&&a.virtualElements.normaliseVirtualElementDomStructure(b);return t(b,c,v(d),!0)};a.applyBindingsToNode=function(b,c,d){d=v(d);return a.applyBindingAccessorsToNode(b,f(c,d,b),d)};a.applyBindingsToDescendants=
function(a,b){1!==b.nodeType&&8!==b.nodeType||l(v(a),b,!0)};a.applyBindings=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;y(v(a),c,!0)};a.contextFor=function(b){switch(b.nodeType){case 1:case 8:var c=a.storedBindingContextForNode(b);if(c)return c;if(b.parentNode)return a.contextFor(b.parentNode)}return z};a.dataFor=function(b){return(b=
a.contextFor(b))?b.$data:z};a.exportSymbol("bindingHandlers",a.bindingHandlers);a.exportSymbol("applyBindings",a.applyBindings);a.exportSymbol("applyBindingsToDescendants",a.applyBindingsToDescendants);a.exportSymbol("applyBindingAccessorsToNode",a.applyBindingAccessorsToNode);a.exportSymbol("applyBindingsToNode",a.applyBindingsToNode);a.exportSymbol("contextFor",a.contextFor);a.exportSymbol("dataFor",a.dataFor)})();(function(b){function c(a,d){return a.hasOwnProperty(d)?a[d]:b}function d(b,h){var k=
c(g,b),f;k?k.subscribe(h):(k=g[b]=new a.subscribable,k.subscribe(h),e(b,function(a,c){var d=!(!c||!c.synchronous);l[b]={definition:a,isSynchronousComponent:d};delete g[b];f||d?k.notifySubscribers(a):setTimeout(function(){k.notifySubscribers(a)},0)}),f=!0)}function e(a,b){f("getConfig",[a],function(c){c?f("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function f(c,d,e,k){k||(k=a.components.loaders.slice(0));var m=k.shift();if(m){var g=m[c];if(g){var l=!1;if(g.apply(m,d.concat(function(a){l?
e(null):null!==a?e(a):f(c,d,e,k)}))!==b&&(l=!0,!m.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else f(c,d,e,k)}else e(null)}var g={},l={};a.components={get:function(b,e){var h=c(l,b);h?h.isSynchronousComponent?a.dependencyDetection.ignore(function(){e(h.definition)}):setTimeout(function(){e(h.definition)},0):d(b,e)},clearCachedDefinition:function(a){delete l[a]},_getFirstResultFromLoaders:f};a.components.loaders=
[];a.exportSymbol("components",a.components);a.exportSymbol("components.get",a.components.get);a.exportSymbol("components.clearCachedDefinition",a.components.clearCachedDefinition)})();(function(b){function c(b,d,e,h){var k={},f=2,m=function(){0===--f&&h(k)},g=e.template;e=e.viewModel;g?l(d,g,function(c){a.components._getFirstResultFromLoaders("loadTemplate",[b,c],function(a){k.template=a;m()})}):m();e?l(d,e,function(c){a.components._getFirstResultFromLoaders("loadViewModel",[b,c],function(a){k[t]=
a;m()})}):m()}function e(a,b,c){if("function"===typeof b)c(function(a){return new b(a)});else if("function"===typeof b[t])c(b[t]);else if("instance"in b){var d=b.instance;c(function(a,b){return d})}else"viewModel"in b?e(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function g(b){switch(a.utils.tagNameLower(b)){case "script":return a.utils.parseHtmlFragment(b.text);case "textarea":return a.utils.parseHtmlFragment(b.value);case "template":if(p(b.content))return a.utils.cloneNodes(b.content.childNodes)}return a.utils.cloneNodes(b.childNodes)}
function p(a){return d.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function l(a,b,c){"string"===typeof b.require?n||d.require?(n||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function y(a){return function(b){throw Error("Component '"+a+"': "+b);}}var A={};a.components.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.components.isRegistered(b))throw Error("Component "+b+" is already registered");A[b]=c};a.components.isRegistered=
function(a){return a in A};a.components.unregister=function(b){delete A[b];a.components.clearCachedDefinition(b)};a.components.defaultLoader={getConfig:function(a,b){var c=A.hasOwnProperty(a)?A[a]:null;b(c)},loadComponent:function(a,b,d){var e=y(a);l(e,b,function(b){c(a,e,b,d)})},loadTemplate:function(b,c,e){b=y(b);if("string"===typeof c)e(a.utils.parseHtmlFragment(c));else if(c instanceof Array)e(c);else if(p(c))e(a.utils.makeArray(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof
HTMLElement:c&&c.tagName&&1===c.nodeType)e(g(c));else if("string"===typeof c){var h=f.getElementById(c);h?e(g(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,c){e(y(a),b,c)}};var t="createViewModel";a.exportSymbol("components.register",a.components.register);a.exportSymbol("components.isRegistered",a.components.isRegistered);a.exportSymbol("components.unregister",a.components.unregister);a.exportSymbol("components.defaultLoader",
a.components.defaultLoader);a.components.loaders.push(a.components.defaultLoader);a.components._allRegisteredComponents=A})();(function(b){function c(b,e){var h=b.getAttribute("params");if(h){var h=d.parseBindingsString(h,e,b,{valueAccessors:!0,bindingParams:!0}),h=a.utils.objectMap(h,function(c,d){return a.computed(c,null,{disposeWhenNodeIsRemoved:b})}),f=a.utils.objectMap(h,function(c,d){var e=c.peek();return c.isActive()?a.computed({read:function(){return a.utils.unwrapObservable(c())},write:a.isWriteableObservable(e)&&
function(a){c()(a)},disposeWhenNodeIsRemoved:b}):e});f.hasOwnProperty("$raw")||(f.$raw=h);return f}return{$raw:{}}}a.components.getComponentNameForNode=function(b){b=a.utils.tagNameLower(b);return a.components.isRegistered(b)&&b};a.components.addBindingsForCustomElement=function(b,d,e,h){if(1===d.nodeType){var k=a.components.getComponentNameForNode(d);if(k){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var f={name:k,params:c(d,e)};
b.component=h?function(){return f}:f}}return b};var d=new a.bindingProvider;9>a.utils.ieVersion&&(a.components.register=function(a){return function(b){f.createElement(b);return a.apply(this,arguments)}}(a.components.register),f.createDocumentFragment=function(b){return function(){var c=b(),d=a.components._allRegisteredComponents,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(f.createDocumentFragment))})();(function(b){function c(b,d,e){d=d.template;if(!d)throw Error("Component '"+
b+"' has no template");b=a.utils.cloneNodes(d);a.virtualElements.setDomNodeChildren(e,b)}function d(a,b,c,e){var h=a.createViewModel;return h?h.call(a,e,{element:b,templateNodes:c}):e}var e=0;a.bindingHandlers.component={init:function(f,g,l,A,t){var v,n,u=function(){var a=v&&v.dispose;"function"===typeof a&&a.call(v);n=null},q=a.utils.makeArray(a.virtualElements.childNodes(f));a.utils.domNodeDisposal.addDisposeCallback(f,u);a.computed(function(){var l=a.utils.unwrapObservable(g()),A,y;"string"===
typeof l?A=l:(A=a.utils.unwrapObservable(l.name),y=a.utils.unwrapObservable(l.params));if(!A)throw Error("No component name specified");var r=n=++e;a.components.get(A,function(e){if(n===r){u();if(!e)throw Error("Unknown component '"+A+"'");c(A,e,f);var g=d(e,f,q,y);e=t.createChildContext(g,b,function(a){a.$component=g;a.$componentTemplateNodes=q});v=g;a.applyBindingsToDescendants(e,f)}})},null,{disposeWhenNodeIsRemoved:f});return{controlsDescendantBindings:!0}}};a.virtualElements.allowedBindings.component=
!0})();var E={"class":"className","for":"htmlFor"};a.bindingHandlers.attr={update:function(b,c,d){c=a.utils.unwrapObservable(c())||{};a.utils.objectForEach(c,function(c,d){d=a.utils.unwrapObservable(d);var e=!1===d||null===d||d===z;e&&b.removeAttribute(c);8>=a.utils.ieVersion&&c in E?(c=E[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.utils.setElementName(b,e?"":d.toString())})}};(function(){a.bindingHandlers.checked={after:["value","attr"],init:function(b,c,d){function e(){var f=
b.checked,l=n?g():f;if(!a.computedContext.isInitial()&&(!A||f)){var p=a.dependencyDetection.ignore(c);t?v!==l?(f&&(a.utils.addOrRemoveItem(p,l,!0),a.utils.addOrRemoveItem(p,v,!1)),v=l):a.utils.addOrRemoveItem(p,l,f):a.expressionRewriting.writeValueToProperty(p,d,"checked",l,!0)}}function f(){var d=a.utils.unwrapObservable(c());b.checked=t?0<=a.utils.arrayIndexOf(d,g()):l?d:g()===d}var g=a.pureComputed(function(){return d.has("checkedValue")?a.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?
a.utils.unwrapObservable(d.get("value")):b.value}),l="checkbox"==b.type,A="radio"==b.type;if(l||A){var t=l&&a.utils.unwrapObservable(c())instanceof Array,v=t?g():z,n=A||t;A&&!b.name&&a.bindingHandlers.uniqueName.init(b,function(){return!0});a.computed(e,null,{disposeWhenNodeIsRemoved:b});a.utils.registerEventHandler(b,"click",e);a.computed(f,null,{disposeWhenNodeIsRemoved:b})}}};a.expressionRewriting.twoWayBindings.checked=!0;a.bindingHandlers.checkedValue={update:function(b,c){b.value=a.utils.unwrapObservable(c())}}})();
a.bindingHandlers.css={update:function(b,c){var d=a.utils.unwrapObservable(c());null!==d&&"object"==typeof d?a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);a.utils.toggleDomNodeCssClass(b,c,d)}):(d=String(d||""),a.utils.toggleDomNodeCssClass(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.utils.toggleDomNodeCssClass(b,d,!0))}};a.bindingHandlers.enable={update:function(b,c){var d=a.utils.unwrapObservable(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};
a.bindingHandlers.disable={update:function(b,c){a.bindingHandlers.enable.update(b,function(){return!a.utils.unwrapObservable(c())})}};a.bindingHandlers.event={init:function(b,c,d,e,f){var g=c()||{};a.utils.objectForEach(g,function(g){"string"==typeof g&&a.utils.registerEventHandler(b,g,function(b){var h,v=c()[g];if(v){try{var l=a.utils.makeArray(arguments);e=f.$data;l.unshift(e);h=v.apply(e,l)}finally{!0!==h&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=
!0,b.stopPropagation&&b.stopPropagation())}})})}};a.bindingHandlers.foreach={makeTemplateValueAccessor:function(b){return function(){var c=b(),d=a.utils.peekObservable(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.nativeTemplateEngine.instance};a.utils.unwrapObservable(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.nativeTemplateEngine.instance}}},
init:function(b,c,d,e,f){return a.bindingHandlers.template.init(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(b,c,d,e,f){return a.bindingHandlers.template.update(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,f)}};a.expressionRewriting.bindingRewriteValidators.foreach=!1;a.virtualElements.allowedBindings.foreach=!0;a.bindingHandlers.hasfocus={init:function(b,c,d){var e=function(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;
try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.expressionRewriting.writeValueToProperty(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1},f=e.bind(null,!0),e=e.bind(null,!1);a.utils.registerEventHandler(b,"focus",f);a.utils.registerEventHandler(b,"focusin",f);a.utils.registerEventHandler(b,"blur",e);a.utils.registerEventHandler(b,"focusout",e)},update:function(b,c){var d=!!a.utils.unwrapObservable(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():
b.blur(),a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,d?"focusin":"focusout"]))}};a.expressionRewriting.twoWayBindings.hasfocus=!0;a.bindingHandlers.hasFocus=a.bindingHandlers.hasfocus;a.expressionRewriting.twoWayBindings.hasFocus=!0;a.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.utils.setHtml(b,c())}};u("if");u("ifnot",!1,!0);u("with",!0,!1,function(a,b){return a.createChildContext(b)});var N={};a.bindingHandlers.options={init:function(b){if("select"!==
a.utils.tagNameLower(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.utils.arrayFilter(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e){if(r&&v)a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0);else if(q.length){var f=0<=a.utils.arrayIndexOf(q,a.selectExtensions.readValue(e[0]));
a.utils.setOptionNodeSelectionState(e[0],f);r&&!f&&a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,"change"])}}var l=b.multiple,A=0!=b.length&&l?b.scrollTop:null,t=a.utils.unwrapObservable(c()),v=d.get("valueAllowUnset")&&d.has("value"),n=d.get("optionsIncludeDestroyed");c={};var u,q=[];v||(l?q=a.utils.arrayMap(e(),a.selectExtensions.readValue):0<=b.selectedIndex&&q.push(a.selectExtensions.readValue(b.options[b.selectedIndex])));t&&("undefined"==typeof t.length&&(t=[t]),u=a.utils.arrayFilter(t,
function(b){return n||b===z||null===b||!a.utils.unwrapObservable(b._destroy)}),d.has("optionsCaption")&&(t=a.utils.unwrapObservable(d.get("optionsCaption")),null!==t&&t!==z&&u.unshift(N)));var r=!1;c.beforeRemove=function(a){b.removeChild(a)};t=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(t=function(b,c){g(b,c);a.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[c[0],b!==N?b:z])});a.utils.setDomNodeChildrenFromArrayMapping(b,u,function(c,e,g){g.length&&
(q=!v&&g[0].selected?[a.selectExtensions.readValue(g[0])]:[],r=!0);e=b.ownerDocument.createElement("option");c===N?(a.utils.setTextContent(e,d.get("optionsCaption")),a.selectExtensions.writeValue(e,z)):(g=f(c,d.get("optionsValue"),c),a.selectExtensions.writeValue(e,a.utils.unwrapObservable(g)),c=f(c,d.get("optionsText"),g),a.utils.setTextContent(e,c));return[e]},c,t);a.dependencyDetection.ignore(function(){v?a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0):(l?q.length&&
e().length<q.length:q.length&&0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex])!==q[0]:q.length||0<=b.selectedIndex)&&a.utils.triggerEvent(b,"change")});a.utils.ensureSelectElementIsRenderedCorrectly(b);A&&20<Math.abs(A-b.scrollTop)&&(b.scrollTop=A)}};a.bindingHandlers.options.optionValueDomDataKey=a.utils.domData.nextKey();a.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.utils.registerEventHandler(b,"change",function(){var e=c(),f=[];
a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.selectExtensions.readValue(b))});a.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.utils.tagNameLower(b))throw Error("values binding applies only to SELECT elements");var d=a.utils.unwrapObservable(c());d&&"number"==typeof d.length&&a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){var c=0<=a.utils.arrayIndexOf(d,a.selectExtensions.readValue(b));
a.utils.setOptionNodeSelectionState(b,c)})}};a.expressionRewriting.twoWayBindings.selectedOptions=!0;a.bindingHandlers.style={update:function(b,c){var d=a.utils.unwrapObservable(c()||{});a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);if(null===d||d===z||!1===d)d="";b.style[c]=d})}};a.bindingHandlers.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.utils.registerEventHandler(b,"submit",function(a){var d,
e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.utils.setTextContent(b,c())}};a.virtualElements.allowedBindings.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,f=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=b(e.match(/Firefox\/([^ ]*)/));
if(10>a.utils.ieVersion)var l=a.utils.domData.nextKey(),n=a.utils.domData.nextKey(),A=function(b){var c=this.activeElement;(c=c&&a.utils.domData.get(c,n))&&c(b)},t=function(b,c){var d=b.ownerDocument;a.utils.domData.get(d,l)||(a.utils.domData.set(d,l,!0),a.utils.registerEventHandler(d,"selectionchange",A));a.utils.domData.set(b,n,c)};a.bindingHandlers.textInput={init:function(b,d,e){var h=b.value,k,l,A=function(c){clearTimeout(k);l=k=z;var f=b.value;h!==f&&(c&&(b._ko_textInputProcessedEvent=c.type),
h=f,a.expressionRewriting.writeValueToProperty(d(),e,"textInput",f))},n=function(a){k||(l=b.value,a=A.bind(b,{type:a.type}),k=setTimeout(a,4))},y=function(){var c=a.utils.unwrapObservable(d());if(null===c||c===z)c="";l!==z&&c===l?setTimeout(y,4):b.value!==c&&(h=c,b.value=c)},u=function(c,d){a.utils.registerEventHandler(b,c,d)};a.bindingHandlers.textInput._forceUpdateOn?a.utils.arrayForEach(a.bindingHandlers.textInput._forceUpdateOn,function(a){"after"==a.slice(0,5)?u(a.slice(5),n):u(a,A)}):10>a.utils.ieVersion?
(u("propertychange",function(a){"value"===a.propertyName&&A(a)}),8==a.utils.ieVersion&&(u("keyup",A),u("keydown",A)),8<=a.utils.ieVersion&&(t(b,A),u("dragend",n))):(u("input",A),5>f&&"textarea"===a.utils.tagNameLower(b)?(u("keydown",n),u("paste",n),u("cut",n)):11>c?u("keydown",n):4>g&&(u("DOMAutoComplete",A),u("dragdrop",A),u("drop",A)));u("change",A);a.computed(y,null,{disposeWhenNodeIsRemoved:b})}};a.expressionRewriting.twoWayBindings.textInput=!0;a.bindingHandlers.textinput={preprocess:function(a,
b,c){c("textInput",a)}}})();a.bindingHandlers.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.bindingHandlers.uniqueName.currentIndex;a.utils.setElementName(b,d)}}};a.bindingHandlers.uniqueName.currentIndex=0;a.bindingHandlers.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,l=null;f&&("string"==typeof f&&(f=[f]),a.utils.arrayPushAll(e,f),e=a.utils.arrayGetDistinctValues(e));
var A=function(){l=null;g=!1;var e=c(),f=a.selectExtensions.readValue(b);a.expressionRewriting.writeValueToProperty(e,d,"value",f)};!a.utils.ieVersion||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.utils.arrayIndexOf(e,"propertychange")||(a.utils.registerEventHandler(b,"propertychange",function(){g=!0}),a.utils.registerEventHandler(b,"focus",function(){g=!1}),a.utils.registerEventHandler(b,"blur",function(){g&&A()}));a.utils.arrayForEach(e,
function(c){var d=A;a.utils.stringStartsWith(c,"after")&&(d=function(){l=a.selectExtensions.readValue(b);setTimeout(A,0)},c=c.substring(5));a.utils.registerEventHandler(b,c,d)});var t=function(){var e=a.utils.unwrapObservable(c()),f=a.selectExtensions.readValue(b);if(null!==l&&e===l)setTimeout(t,0);else if(e!==f)if("select"===a.utils.tagNameLower(b)){var g=d.get("valueAllowUnset"),f=function(){a.selectExtensions.writeValue(b,e,g)};f();g||e===a.selectExtensions.readValue(b)?setTimeout(f,0):a.dependencyDetection.ignore(a.utils.triggerEvent,
null,[b,"change"])}else a.selectExtensions.writeValue(b,e)};a.computed(t,null,{disposeWhenNodeIsRemoved:b})}else a.applyBindingAccessorsToNode(b,{checkedValue:c})},update:function(){}};a.expressionRewriting.twoWayBindings.value=!0;a.bindingHandlers.visible={update:function(b,c){var d=a.utils.unwrapObservable(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.bindingHandlers[b]={init:function(c,d,e,f,g){return a.bindingHandlers.event.init.call(this,
c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.templateEngine=function(){};a.templateEngine.prototype.renderTemplateSource=function(a,b,c,d){throw Error("Override renderTemplateSource");};a.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw Error("Override createJavaScriptEvaluatorBlock");};a.templateEngine.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||f;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.templateSources.domElement(d)}if(1==
b.nodeType||8==b.nodeType)return new a.templateSources.anonymousTemplate(b);throw Error("Unknown template type: "+b);};a.templateEngine.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c,d)};a.templateEngine.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.templateEngine.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());
a.text(b);a.data("isRewritten",!0)};a.exportSymbol("templateEngine",a.templateEngine);a.templateRewriting=function(){function b(c,d,e,f){c=a.expressionRewriting.parseObjectLiteral(c);for(var h=a.expressionRewriting.bindingRewriteValidators,k=0;k<c.length;k++){var g=c[k].key;if(h.hasOwnProperty(g)){var m=h[g];if("function"===typeof m){if(g=m(c[k].value))throw Error(g);}else if(!m)throw Error("This template engine does not support the '"+g+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+
a.expressionRewriting.preProcessBindings(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.templateRewriting.memoizeBindingAttributeSyntax(b,c)},d)},memoizeBindingAttributeSyntax:function(a,
e){return a.replace(c,function(a,c,d,f,k){return b(k,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},applyMemoizedBindingsToNextSibling:function(b,c){return a.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.applyBindingAccessorsToNode(f,b,e)})}}}();a.exportSymbol("__tr_ambtns",a.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){a.templateSources={};a.templateSources.domElement=function(a){this.domElement=a};
a.templateSources.domElement.prototype.text=function(){var b=a.utils.tagNameLower(this.domElement),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.domElement[b];var c=arguments[0];"innerHTML"===b?a.utils.setHtml(this.domElement,c):this.domElement[b]=c};var b=a.utils.domData.nextKey()+"_";a.templateSources.domElement.prototype.data=function(c){if(1===arguments.length)return a.utils.domData.get(this.domElement,b+c);a.utils.domData.set(this.domElement,b+c,
arguments[1])};var c=a.utils.domData.nextKey();a.templateSources.anonymousTemplate=function(a){this.domElement=a};a.templateSources.anonymousTemplate.prototype=new a.templateSources.domElement;a.templateSources.anonymousTemplate.prototype.constructor=a.templateSources.anonymousTemplate;a.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var b=a.utils.domData.get(this.domElement,c)||{};b.textData===z&&b.containerData&&(b.textData=b.containerData.innerHTML);return b.textData}a.utils.domData.set(this.domElement,
c,{textData:arguments[0]})};a.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length)return(a.utils.domData.get(this.domElement,c)||{}).containerData;a.utils.domData.set(this.domElement,c,{containerData:arguments[0]})};a.exportSymbol("templateSources",a.templateSources);a.exportSymbol("templateSources.domElement",a.templateSources.domElement);a.exportSymbol("templateSources.anonymousTemplate",a.templateSources.anonymousTemplate)})();(function(){function b(c,d,e){var f;for(d=
a.virtualElements.nextSibling(d);c&&(f=c)!==d;)c=a.virtualElements.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var f=d[0],g=d[d.length-1],k=f.parentNode,m=a.bindingProvider.instance,l=m.preprocessNode;if(l){b(f,g,function(a,b){var c=a.previousSibling,d=l.call(m,a);d&&(a===f&&(f=d[0]||b),a===g&&(g=d[d.length-1]||c))});d.length=0;if(!f)return;f===g?d.push(f):(d.push(f,g),a.utils.fixUpContinuousNodeArray(d,k))}b(f,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.applyBindings(e,b)});b(f,g,function(b){1!==
b.nodeType&&8!==b.nodeType||a.memoization.unmemoizeDomNodeAndDescendants(b,[e])});a.utils.fixUpContinuousNodeArray(d,k)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,f,h,l,n){n=n||{};var p=(b&&d(b)||h||{}).ownerDocument,u=n.templateEngine||g;a.templateRewriting.ensureTemplateIsRewritten(h,u,p);h=u.renderTemplate(h,l,n,p);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");p=!1;switch(f){case "replaceChildren":a.virtualElements.setDomNodeChildren(b,
h);p=!0;break;case "replaceNode":a.utils.replaceDomNodes(b,h);p=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}p&&(c(h,l),n.afterRender&&a.dependencyDetection.ignore(n.afterRender,null,[h,l.$data]));return h}function f(b,c,d){return a.isObservable(b)?b():"function"===typeof b?b(c,d):b}var g;a.setTemplateEngine=function(b){if(b!=z&&!(b instanceof a.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.renderTemplate=function(b,
c,h,m,l){h=h||{};if((h.templateEngine||g)==z)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(m){var n=d(m);return a.dependentObservable(function(){var g=c&&c instanceof a.bindingContext?c:new a.bindingContext(a.utils.unwrapObservable(c)),u=f(b,g.$data,g),g=e(m,l,u,g,h);"replaceNode"==l&&(m=g,n=d(m))},null,{disposeWhen:function(){return!n||!a.utils.domNodeIsAttachedToDocument(n)},disposeWhenNodeIsRemoved:n&&"replaceNode"==l?n.parentNode:n})}return a.memoization.memoize(function(d){a.renderTemplate(b,
c,h,d,"replaceNode")})};a.renderTemplateForEach=function(b,d,h,g,k){var l,n=function(a,c){l=k.createChildContext(a,h.as,function(a){a.$index=c});var d=f(b,a,l);return e(null,"ignoreTargetNode",d,l,h)},u=function(a,b,d){c(b,l);h.afterRender&&h.afterRender(b,a);l=null};return a.dependentObservable(function(){var b=a.utils.unwrapObservable(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.utils.arrayFilter(b,function(b){return h.includeDestroyed||b===z||null===b||!a.utils.unwrapObservable(b._destroy)});
a.dependencyDetection.ignore(a.utils.setDomNodeChildrenFromArrayMapping,null,[g,b,n,h,u])},null,{disposeWhenNodeIsRemoved:g})};var l=a.utils.domData.nextKey();a.bindingHandlers.template={init:function(b,c){var d=a.utils.unwrapObservable(c());if("string"==typeof d||d.name)a.virtualElements.emptyNode(b);else{if("nodes"in d){if(d=d.nodes||[],a.isObservable(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.virtualElements.childNodes(b);d=a.utils.moveCleanedNodesToContainerElement(d);
(new a.templateSources.anonymousTemplate(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var h=c(),g;c=a.utils.unwrapObservable(h);d=!0;e=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(d=a.utils.unwrapObservable(c["if"])),d&&"ifnot"in c&&(d=!a.utils.unwrapObservable(c.ifnot)),g=a.utils.unwrapObservable(c.data));"foreach"in c?e=a.renderTemplateForEach(h||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(g,c.as):f,e=a.renderTemplate(h||b,f,c,b)):a.virtualElements.emptyNode(b);
f=e;(g=a.utils.domData.get(b,l))&&"function"==typeof g.dispose&&g.dispose();a.utils.domData.set(b,l,f&&f.isActive()?f:z)}};a.expressionRewriting.bindingRewriteValidators.template=function(b){b=a.expressionRewriting.parseObjectLiteral(b);return 1==b.length&&b[0].unknown||a.expressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.virtualElements.allowedBindings.template=!0})();a.exportSymbol("setTemplateEngine",
a.setTemplateEngine);a.exportSymbol("renderTemplate",a.renderTemplate);a.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,f,g,l;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;l=b[f];++f)if(g.value===l.value){g.moved=l.index;l.moved=g.index;b.splice(f,1);d=f=0;break}d+=f}}};a.utils.compareArrays=function(){function b(c,d,e,f,h){var g=Math.min,l=Math.max,n=[],u,q=c.length,r,w=d.length,z=w-q||1,x=q+w+1,B,E,P;for(u=0;u<=q;u++)for(E=B,n.push(B=[]),P=g(w,u+z),r=l(0,u-1);r<=P;r++)B[r]=
r?u?c[u-1]===d[r-1]?E[r-1]:g(E[r]||x,B[r-1]||x)+1:r+1:u+1;g=[];l=[];z=[];u=q;for(r=w;u||r;)w=n[u][r]-1,r&&w===n[u][r-1]?l.push(g[g.length]={status:e,value:d[--r],index:r}):u&&w===n[u-1][r]?z.push(g[g.length]={status:f,value:c[--u],index:u}):(--r,--u,h.sparse||g.push({status:"retained",value:d[r]}));a.utils.findMovesInArrayComparison(l,z,10*q);return g.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",
d):b(c,a,"deleted","added",d)}}();a.exportSymbol("utils.compareArrays",a.utils.compareArrays);(function(){function b(c,d,e,f,g){var h=[],l=a.dependentObservable(function(){var b=d(e,g,a.utils.fixUpContinuousNodeArray(h,c))||[];0<h.length&&(a.utils.replaceDomNodes(h,b),f&&a.dependencyDetection.ignore(f,null,[e,b,g]));h.length=0;a.utils.arrayPushAll(h,b)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!a.utils.anyDomNodeIsAttachedToDocument(h)}});return{mappedNodes:h,dependentObservable:l.isActive()?
l:z}}var c=a.utils.domData.nextKey();a.utils.setDomNodeChildrenFromArrayMapping=function(d,e,f,g,l){function n(b,c){G=r[c];N!==c&&(S[b]=G);G.indexObservable(N++);a.utils.fixUpContinuousNodeArray(G.mappedNodes,d);B.push(G);P.push(G)}function u(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.utils.arrayForEach(c[d].mappedNodes,function(a){b(a,d,c[d].arrayEntry)})}e=e||[];g=g||{};var q=a.utils.domData.get(d,c)===z,r=a.utils.domData.get(d,c)||[],w=a.utils.arrayMap(r,function(a){return a.arrayEntry}),
x=a.utils.compareArrays(w,e,g.dontLimitMoves),B=[],E=0,N=0,V=[],P=[];e=[];for(var S=[],w=[],G,O=0,T,U;T=x[O];O++)switch(U=T.moved,T.status){case "deleted":U===z&&(G=r[E],G.dependentObservable&&G.dependentObservable.dispose(),V.push.apply(V,a.utils.fixUpContinuousNodeArray(G.mappedNodes,d)),g.beforeRemove&&(e[O]=G,P.push(G)));E++;break;case "retained":n(O,E++);break;case "added":U!==z?n(O,U):(G={arrayEntry:T.value,indexObservable:a.observable(N++)},B.push(G),P.push(G),q||(w[O]=G))}u(g.beforeMove,S);
a.utils.arrayForEach(V,g.beforeRemove?a.cleanNode:a.removeNode);for(var O=0,q=a.virtualElements.firstChild(d),Q;G=P[O];O++){G.mappedNodes||a.utils.extend(G,b(d,f,G.arrayEntry,l,G.indexObservable));for(E=0;x=G.mappedNodes[E];q=x.nextSibling,Q=x,E++)x!==q&&a.virtualElements.insertAfter(d,x,Q);!G.initialized&&l&&(l(G.arrayEntry,G.mappedNodes,G.indexObservable),G.initialized=!0)}u(g.beforeRemove,e);u(g.afterMove,S);u(g.afterAdd,w);a.utils.domData.set(d,c,B)}})();a.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",
a.utils.setDomNodeChildrenFromArrayMapping);a.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};a.nativeTemplateEngine.prototype=new a.templateEngine;a.nativeTemplateEngine.prototype.constructor=a.nativeTemplateEngine;a.nativeTemplateEngine.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.utils.ieVersion?0:b.nodes)?b.nodes():null)return a.utils.makeArray(c.cloneNode(!0).childNodes);b=b.text();return a.utils.parseHtmlFragment(b,e)};a.nativeTemplateEngine.instance=new a.nativeTemplateEngine;
a.setTemplateEngine(a.nativeTemplateEngine.instance);a.exportSymbol("nativeTemplateEngine",a.nativeTemplateEngine);(function(){a.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e,g){g=g||f;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=c.data("precompiled");
h||(h=c.text()||"",h=b.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),c.data("precompiled",h));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(h,c,d);d.appendTo(g.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){f.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},
b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.jqueryTmplTemplateEngine.prototype=new a.templateEngine;a.jqueryTmplTemplateEngine.prototype.constructor=a.jqueryTmplTemplateEngine;var c=new a.jqueryTmplTemplateEngine;0<c.jQueryTmplVersion&&a.setTemplateEngine(c);a.exportSymbol("jqueryTmplTemplateEngine",a.jqueryTmplTemplateEngine)})()})})()})();
(function(z){z.Tools={};z.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=16*Math.random()|0;return("x"===d?f:f&3|8).toString(16)})};z.Tools.base64Id=function(d){for(var f="",c,b=0;b<d;b++)c=62*Math.random()|0,f+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[c];return f};z.Tools.createCookie=function(d,f,c){var b="";c&&(b=new Date,b.setTime(b.getTime()+864E5*c),b="; expires="+b.toGMTString());document.cookie=d+"="+f+b+"; path=/"};
z.Tools.readCookie=function(d){d+="=";for(var f=document.cookie.split(";"),c=0;c<f.length;c++){for(var b=f[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return null};z.Tools.eraseCookie=function(d){z.Tools.createCookie(d,"",-1)};z.Tools.safeMailtoHref=function(d,f){return"mailto:?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(f)};z.Tools.bootstrapDropdowns=function(){var d=document.querySelectorAll(".dropdown-toggle"),f=document.querySelectorAll(".dropdown-menu"),
c=function(b){b.addEventListener("click",function(){this.parentNode.classList.toggle("open")})};Array.prototype.forEach.call(f,c);Array.prototype.forEach.call(d,c)};z.Tools.init=function(){z.Tools.bootstrapDropdowns()}})(window.EP=window.EP||{});
(function(z,d){z.User=function(f,c){var b=this;b.uuid=c||z.Tools.uuid();b.name=d.observable("");b.displayName=d.pureComputed(function(){return b.name()||"new user"});b.estimation=d.observable(!1);b.broadcast=function(){f.emit("update",d.toJSON(b))};b.loadFromCookie=function(){z.Tools.readCookie("ep.user.name")&&z.Tools.readCookie("ep.user.uuid")&&(b.name(z.Tools.readCookie("ep.user.name")),b.uuid=z.Tools.readCookie("ep.user.uuid"))};b.saveToCookie=function(){z.Tools.createCookie("ep.user.name",b.name());
z.Tools.createCookie("ep.user.uuid",b.uuid)};b.isConnected=d.observable(!1);b.isWatcher=d.observable(!1);b.isWatcher.subscribe(function(c){!0===c&&b.estimation(!1)})};z.PokerView=function(f){var c=this,b=function(){return c.users().concat(c.localUser()).filter(function(b){return!0!==b.isWatcher()}).map(function(b){return b.estimation()}).filter(function(b){return!1!==b})},q=function(b){return c.users().filter(function(a){return a.uuid===b})[0]},e=io.connect("/");c.pokerValues=d.observableArray([0,
1,2,3,5,8,13,20,40,100]);var n=c.pokerValues.subscribe(function(){w()});c.pokerValueSets=[{title:"Scrum",values:[0,1,2,3,5,8,13,20,40,100]},{title:"T-Shirt sizes",values:["S","M","L","XL"]}];c.initNewRound=function(){c.localUser().estimation(!1);e.emit("new round")};c.setPokerValues=function(b){e.emit("set poker values",JSON.stringify(b));c.initNewRound();c.pokerValues(b.values)};c.localUser=d.observable(new z.User(e));c.localUser().loadFromCookie();c.localUser().name.subscribe(function(){c.localUser().broadcast();
c.localUser().saveToCookie()});c.localUser().estimation.subscribe(function(){c.localUser().broadcast()});c.localUser().isWatcher.subscribe(function(){c.localUser().broadcast()});e.emit("join",{groupName:f,userUuid:c.localUser().uuid});c.localUser().broadcast();c.users=d.observableArray([]);c.storyTitle=d.observable("");var g=c.storyTitle.subscribe(function(){w()});c.highestEstimation=d.computed(function(){var c=b(),c=Math.max.apply(null,c);return-Infinity===c?!1:c});c.lowestEstimation=d.computed(function(){var c=
b(),c=Math.min.apply(null,c);return Infinity===c?!1:c});c.estimationsComplete=d.computed(function(){return 0===c.users().concat(c.localUser()).filter(function(b){return!0!==b.isWatcher()&&!1===b.estimation()}).length&&0<b().length});c.roundIsInProgress=d.computed(function(){return 0<b().length&&!c.estimationsComplete()});c.statusTitle=d.computed(function(){var b="";c.estimationsComplete()&&(b="\u2713 ");return b+"Estimation Poker"});c.mailtoHref=d.pureComputed(function(){return z.Tools.safeMailtoHref("Estimation Poker URL",
window.location)});c.displaySharingQrCode=d.observable(!1);c.toggleDisplaySharingQrCode=function(){c.displaySharingQrCode(!c.displaySharingQrCode())};c.toggleWatcher=function(){c.localUser().isWatcher(!c.localUser().isWatcher())};var w=function(){var b={storyTitle:c.storyTitle(),pokerValues:c.pokerValues()};e.emit("update",JSON.stringify(b))},r=function(b){var a=c.users().filter(function(a){return a.uuid!==b});c.users(a)};e.on("connect",function(){c.localUser().isConnected(!0)});e.on("disconnect",
function(){c.localUser().isConnected(!1)});e.on("reconnect",function(){c.localUser().isConnected(!0)});e.on("update",function(b){b=JSON.parse(b);if(void 0!==b.uuid){if(b.uuid!==c.localUser().uuid){var a=q(b.uuid);a||(a=new z.User(e,b.uuid),c.users.push(a));a.name(b.name);a.estimation(b.estimation);a.isWatcher(b.isWatcher)}}else g.isDisposed=!0,n.isDisposed=!0,c.storyTitle(b.storyTitle),c.pokerValues(b.pokerValues),g.isDisposed=!1,n.isDisposed=!1});e.on("who is there",function(){c.localUser().broadcast();
w()});e.on("reconnect",function(){e.emit("join",{groupName:f,userUuid:c.localUser().uuid});c.localUser().broadcast();w()});e.on("user disconnected",function(b){r(b)});e.on("new round",function(){c.localUser().estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(z){z.bindingHandlers.estimationSelect={init:function(d,f){var c=f().value,b=f().valueSet;d.classList.add("estimation-select");for(var q,e=0;e<b().length;e++)q='<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+e+'" data-index="'+e+'">'+b[e]+"</button>",d.insertAdjacentHTML("beforeend",q);d.addEventListener("click",function(b){b.target.classList.contains("active")?c(!1):c(+b.target.getAttribute("data-index"))});var n=function(d){var e;!1===c()?(1===d&&(e=
0),-1===d&&(e=b().length-1)):e=c()+d;0<=e&&e<=b().length-1&&c(e)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"!==b.key&&43!==b.keyCode||n(1),"-"!==b.key&&45!==b.keyCode||n(-1))})},update:function(d,f){var c=f().value,b=f().valueSet();d.innerHTML="";for(var q=0;q<b.length;q++)d.insertAdjacentHTML("beforeend",'<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+q+'" data-index="'+q+'">'+b[q]+"</button>");
b=d.querySelectorAll("button");for(q=0;q<b.length;q++)+b[q].getAttribute("data-index")===c()?b[q].classList.add("active"):b[q].classList.remove("active")}};z.bindingHandlers.editableText={init:function(d,f){d.classList.add("editable-text");d.innerHTML='<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>';d.querySelector(".et-form").style.display=
"none";var c=function(){d.classList.remove("editing");d.querySelector(".et-display").style.display="";d.querySelector(".et-form").style.display="none";f()(d.querySelector("input").value)};d.querySelector(".et-display").addEventListener("click",function(){d.classList.add("editing");d.querySelector(".et-display").style.display="none";d.querySelector(".et-form").style.display="";d.querySelector(".et-form input").focus()});d.querySelector("button").addEventListener("click",c);d.querySelector("input").addEventListener("keypress",
function(b){13===b.keyCode&&c()});d.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(d.classList.remove("editing"),d.querySelector(".et-display").style.display="",d.querySelector(".et-form").style.display="none")});d.querySelector("input").addEventListener("blur",c)},update:function(d,f){var c=f();d.querySelector(".et-label").textContent=c();d.querySelector("input").value=c();c()?d.querySelector(".et-hint").style.display="none":(d.querySelector(".et-hint").textContent=
d.getAttribute("data-edit-hint")||"edit",d.querySelector(".et-hint").style.display="")}};z.bindingHandlers.pageTitle={update:function(d,f){var c=f();document.title=c()}}})(window.ko);
(function(z,d,f){""===location.hash&&(location.hash=z.Tools.base64Id(8));var c=new z.PokerView(location.hash);d.components.register("card",{template:{element:"card"}});d.applyBindings(c);new f(document.getElementById("sharing-qr-code"),location+"");z.Tools.init();document.querySelector("body").classList.remove("uninitialised")})(window.EP=window.EP||{},window.ko,window.QRCode);

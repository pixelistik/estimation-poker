var io="undefined"===typeof module?{}:module.exports;
(function(){(function(e,d){e.version="0.9.16";e.protocol=1;e.transports=[];e.j=[];e.sockets={};e.connect=function(a,c){var r=e.util.parseUri(a),l,C;d&&d.location&&(r.protocol=r.protocol||d.location.protocol.slice(0,-1),r.host=r.host||(d.document?d.document.domain:d.location.hostname),r.port=r.port||d.location.port);l=e.util.uniqueUri(r);var z={host:r.host,secure:"https"==r.protocol,port:r.port||("https"==r.protocol?443:80),query:r.query||""};e.util.merge(z,c);if(z["force new connection"]||!e.sockets[l])C=
new e.Socket(z);!z["force new connection"]&&C&&(e.sockets[l]=C);C=C||e.sockets[l];return C.of(1<r.path.length?r.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(e,d){var a=e.util={},c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
a.parseUri=function(a){a=c.exec(a||"");for(var d={},l=14;l--;)d[r[l]]=a[l]||"";return d};a.uniqueUri=function(a){var c=a.protocol,l=a.host;a=a.port;"document"in d?(l=l||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(l=l||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+l+":"+(a||80)};a.query=function(c,d){var l=a.chunkQuery(c||""),e=[];a.merge(l,a.chunkQuery(d||""));for(var r in l)l.hasOwnProperty(r)&&e.push(r+"="+l[r]);return e.length?
"?"+e.join("&"):""};a.chunkQuery=function(a){var c={};a=a.split("&");for(var d=0,l=a.length,e;d<l;++d)e=a[d].split("="),e[0]&&(c[e[0]]=e[1]);return c};var l=!1;a.load=function(c){if("document"in d&&"complete"===document.readyState||l)return c();a.on(d,"load",c,!1)};a.on=function(a,c,d,l){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,l)};a.request=function(c){if(c&&"undefined"!=typeof XDomainRequest&&!a.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!c||a.ua.hasCORS))return new XMLHttpRequest;if(!c)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(d){}return null};"undefined"!=typeof window&&a.load(function(){l=!0});a.defer=function(c){if(!a.ua.webkit||"undefined"!=typeof importScripts)return c();a.load(function(){setTimeout(c,100)})};a.merge=function(c,d,l,e){e=e||[];l="undefined"==typeof l?2:l;for(var r in d)d.hasOwnProperty(r)&&0>a.indexOf(e,r)&&("object"===typeof c[r]&&l?a.merge(c[r],d[r],l-1,e):(c[r]=
d[r],e.push(d[r])));return c};a.mixin=function(c,d){a.merge(c.prototype,d.prototype)};a.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};a.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.intersect=function(c,d){for(var l=[],e=c.length>d.length?c:d,r=c.length>d.length?d:c,b=0,A=r.length;b<A;b++)~a.indexOf(e,r[b])&&l.push(r[b]);return l};a.indexOf=function(c,a,d){var l=c.length;for(d=0>d?0>d+l?0:d+l:d||0;d<l&&c[d]!==a;d++);
return l<=d?-1:d};a.toArray=function(c){for(var a=[],d=0,l=c.length;d<l;d++)a.push(c[d]);return a};a.ua={};a.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var c=new XMLHttpRequest}catch(a){return!1}return void 0!=c.withCredentials}();a.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);a.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function(e,d){function a(){}e.EventEmitter=
a;a.prototype.on=function(c,a){this.$events||(this.$events={});this.$events[c]?d.util.isArray(this.$events[c])?this.$events[c].push(a):this.$events[c]=[this.$events[c],a]:this.$events[c]=a;return this};a.prototype.addListener=a.prototype.on;a.prototype.once=function(c,a){function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.listener=a;this.on(c,d);return this};a.prototype.removeListener=function(a,e){if(this.$events&&this.$events[a]){var l=this.$events[a];if(d.util.isArray(l)){for(var C=
-1,z=0,v=l.length;z<v;z++)if(l[z]===e||l[z].listener&&l[z].listener===e){C=z;break}if(0>C)return this;l.splice(C,1);l.length||delete this.$events[a]}else(l===e||l.listener&&l.listener===e)&&delete this.$events[a]}return this};a.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};a.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||(this.$events[a]=[]);d.util.isArray(this.$events[a])||
(this.$events[a]=[this.$events[a]]);return this.$events[a]};a.prototype.emit=function(a){if(!this.$events)return!1;var e=this.$events[a];if(!e)return!1;var l=Array.prototype.slice.call(arguments,1);if("function"==typeof e)e.apply(this,l);else if(d.util.isArray(e))for(var e=e.slice(),C=0,z=e.length;C<z;C++)e[C].apply(this,l);else return!1;return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(e,d){function a(b){return 10>b?"0"+b:b}function c(b){z.lastIndex=
0;return z.test(b)?'"'+b.replace(z,function(b){var a=w[b];return"string"===typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function r(d,l){var D,K,e,f,n=v,g,k=l[d];k instanceof Date&&(k=isFinite(d.valueOf())?d.getUTCFullYear()+"-"+a(d.getUTCMonth()+1)+"-"+a(d.getUTCDate())+"T"+a(d.getUTCHours())+":"+a(d.getUTCMinutes())+":"+a(d.getUTCSeconds())+"Z":null);"function"===typeof b&&(k=b.call(l,d,k));switch(typeof k){case "string":return c(k);case "number":return isFinite(k)?
String(k):"null";case "boolean":case "null":return String(k);case "object":if(!k)return"null";v+=h;g=[];if("[object Array]"===Object.prototype.toString.apply(k)){f=k.length;for(D=0;D<f;D+=1)g[D]=r(D,k)||"null";e=0===g.length?"[]":v?"[\n"+v+g.join(",\n"+v)+"\n"+n+"]":"["+g.join(",")+"]";v=n;return e}if(b&&"object"===typeof b)for(f=b.length,D=0;D<f;D+=1)"string"===typeof b[D]&&(K=b[D],(e=r(K,k))&&g.push(c(K)+(v?": ":":")+e));else for(K in k)Object.prototype.hasOwnProperty.call(k,K)&&(e=r(K,k))&&g.push(c(K)+
(v?": ":":")+e);e=0===g.length?"{}":v?"{\n"+v+g.join(",\n"+v)+"\n"+n+"}":"{"+g.join(",")+"}";v=n;return e}}if(d&&d.parse)return e.JSON={parse:d.parse,stringify:d.stringify};var l=e.JSON={},C=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,z=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v,h,w={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
b;l.stringify=function(a,d,c){var l;h=v="";if("number"===typeof c)for(l=0;l<c;l+=1)h+=" ";else"string"===typeof c&&(h=c);if((b=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return r("",{"":a})};l.parse=function(b,a){function d(b,f){var n,g,k=b[f];if(k&&"object"===typeof k)for(n in k)Object.prototype.hasOwnProperty.call(k,n)&&(g=d(k,n),void 0!==g?k[n]=g:delete k[n]);return a.call(b,f,k)}var c;b=String(b);C.lastIndex=0;C.test(b)&&(b=b.replace(C,
function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+b+")"),"function"===typeof a?d({"":c},""):c;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);(function(e,d){var a=e.parser={},c=a.packets="disconnect connect heartbeat message json event ack error noop".split(" "),
r=a.reasons=["transport not supported","client not handshaken","unauthorized"],l=a.advice=["reconnect"],C=d.JSON,z=d.util.indexOf;a.encodePacket=function(a){var d=z(c,a.type),b=a.id||"",A=a.endpoint||"",e=a.ack,D=null;switch(a.type){case "error":var K=a.reason?z(r,a.reason):"";a=a.advice?z(l,a.advice):"";if(""!==K||""!==a)D=K+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(D=a.data);break;case "event":D={name:a.name};a.args&&a.args.length&&(D.args=a.args);D=C.stringify(D);break;case "json":D=
C.stringify(a.data);break;case "connect":a.qs&&(D=a.qs);break;case "ack":D=a.ackId+(a.args&&a.args.length?"+"+C.stringify(a.args):"")}d=[d,b+("data"==e?"+":""),A];null!==D&&void 0!==D&&d.push(D);return d.join(":")};a.encodePayload=function(a){var d="";if(1==a.length)return a[0];for(var b=0,c=a.length;b<c;b++)d+="\ufffd"+a[b].length+"\ufffd"+a[b];return d};var v=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;a.decodePacket=function(a){var d=a.match(v);if(!d)return{};var b=d[2]||"";a=d[5]||"";var A=
{type:c[d[1]],endpoint:d[4]||""};b&&(A.id=b,A.ack=d[3]?"data":!0);switch(A.type){case "error":d=a.split("+");A.reason=r[d[0]]||"";A.advice=l[d[1]]||"";break;case "message":A.data=a||"";break;case "event":try{var e=C.parse(a);A.name=e.name;A.args=e.args}catch(D){}A.args=A.args||[];break;case "json":try{A.data=C.parse(a)}catch(K){}break;case "connect":A.qs=a||"";break;case "ack":if(d=a.match(/^([0-9]+)(\+)?(.*)/))if(A.ackId=d[1],A.args=[],d[3])try{A.args=d[3]?C.parse(d[3]):[]}catch(z){}}return A};a.decodePayload=
function(d){if("\ufffd"==d.charAt(0)){for(var c=[],b=1,A="";b<d.length;b++)"\ufffd"==d.charAt(b)?(c.push(a.decodePacket(d.substr(b+1).substr(0,A))),b+=Number(A)+1,A=""):A+=d.charAt(b);return c}return[a.decodePacket(d)]}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(e,d){function a(a,d){this.socket=a;this.sessid=d}e.Transport=a;d.util.mixin(a,d.EventEmitter);a.prototype.heartbeats=function(){return!0};a.prototype.onData=function(a){this.clearCloseTimeout();
(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var e=0,l=a.length;e<l;e++)this.onPacket(a[e]);return this};a.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=!1);this.socket.onPacket(a);return this};a.prototype.setCloseTimeout=
function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};a.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};a.prototype.onConnect=function(){this.socket.onConnect();return this};a.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};a.prototype.clearTimeouts=function(){this.clearCloseTimeout();
this.reopenTimeout&&clearTimeout(this.reopenTimeout)};a.prototype.packet=function(a){this.send(d.parser.encodePacket(a))};a.prototype.onHeartbeat=function(a){this.packet({type:"heartbeat"})};a.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};a.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};a.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+d.protocol+
"/"+this.name+"/"+this.sessid};a.prototype.ready=function(a,d){d.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(e,d,a){function c(c){this.options={port:80,secure:!1,document:"document"in a?document:!1,resource:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,c);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||d.util.ua.hasCORS)){var e=this;d.util.on(a,"beforeunload",function(){e.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function r(){}e.Socket=c;d.util.mixin(c,d.EventEmitter);c.prototype.of=function(a){this.namespaces[a]||
(this.namespaces[a]=new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};c.prototype.publish=function(){this.emit.apply(this,arguments);var a,d;for(d in this.namespaces)this.namespaces.hasOwnProperty(d)&&(a=this.of(d),a.$emit.apply(a,arguments))};c.prototype.handshake=function(a){function c(b){b instanceof Error?(e.connecting=!1,e.onError(b.message)):a.apply(null,b.split(":"))}var e=this,v=this.options,v=["http"+(v.secure?"s":"")+":/",v.host+
":"+v.port,v.resource,d.protocol,d.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!d.util.ua.hasCORS){var h=document.getElementsByTagName("script")[0],w=document.createElement("script");w.src=v+"&jsonp="+d.j.length;h.parentNode.insertBefore(w,h);d.j.push(function(b){c(b);w.parentNode.removeChild(w)})}else{var b=d.util.request();b.open("GET",v,!0);this.isXDomain()&&(b.withCredentials=!0);b.onreadystatechange=function(){if(4==b.readyState)if(b.onreadystatechange=r,200==
b.status)c(b.responseText);else if(403==b.status)e.onError(b.responseText);else e.connecting=!1,!e.reconnecting&&e.onError(b.responseText)};b.send(null)}};c.prototype.getTransport=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].check(this)&&(!this.isXDomain()||d.Transport[e].xdomainCheck(this)))return new d.Transport[e](this,this.sessionid);return null};c.prototype.connect=function(a){if(this.connecting)return this;var c=this;c.connecting=!0;this.handshake(function(e,
r,h,w){function b(a){c.transport&&c.transport.clearTimeouts();c.transport=c.getTransport(a);if(!c.transport)return c.publish("connect_failed");c.transport.ready(c,function(){c.connecting=!0;c.publish("connecting",c.transport.name);c.transport.open();c.options["connect timeout"]&&(c.connectTimeoutTimer=setTimeout(function(){if(!c.connected&&(c.connecting=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.transport.name;);a.length?b(a):c.publish("connect_failed")}},
c.options["connect timeout"]))})}c.sessionid=e;c.closeTimeout=1E3*h;c.heartbeatTimeout=1E3*r;c.transports||(c.transports=c.origTransports=w?d.util.intersect(w.split(","),c.options.transports):c.options.transports);c.setHeartbeatTimeout();b(c.transports);c.once("connect",function(){clearTimeout(c.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};c.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};c.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};c.prototype.setBuffer=function(a){this.doBuffer=a;!a&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())};c.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};c.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&
this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};c.prototype.disconnectSync=function(){var a=d.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,d.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1);a.send(null);this.onDisconnect("booted")};c.prototype.isXDomain=function(){var d=a.location.port||("https:"==a.location.protocol?443:80);return this.options.host!==a.location.hostname||
this.options.port!=d};c.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};c.prototype.onOpen=function(){this.open=!0};c.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};c.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};c.prototype.onError=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&
this.reconnect());this.publish("error",a&&a.reason?a.reason:a)};c.prototype.onDisconnect=function(a){var d=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(d||c)this.transport.close(),this.transport.clearTimeouts(),d&&(this.publish("disconnect",a),"booted"!=a&&this.options.reconnect&&!this.reconnecting&&this.reconnect())};c.prototype.reconnect=function(){function a(){if(c.connected){for(var b in c.namespaces)c.namespaces.hasOwnProperty(b)&&""!==b&&c.namespaces[b].packet({type:"connect"});
c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",d);c.removeListener("connect",d);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=r}function d(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(d,1E3);c.reconnectionAttempts++>=e?c.redoTransports?
(c.publish("reconnect_failed"),a()):(c.on("connect_failed",d),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<h&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(d,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var c=this,e=this.options["max reconnection attempts"],
r=this.options["try multiple transports"],h=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(d,this.reconnectionDelay);this.on("connect",d)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(e,d){function a(a,d){this.socket=a;this.name=d||"";this.flags={};this.json=new c(this,"json");this.ackPackets=0;this.acks={}}function c(a,d){this.namespace=a;this.name=d}e.SocketNamespace=a;
d.util.mixin(a,d.EventEmitter);a.prototype.$emit=d.EventEmitter.prototype.emit;a.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};a.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};a.prototype.send=function(a,d){var c={type:this.flags.json?"json":"message",data:a};"function"==typeof d&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=d);return this.packet(c)};a.prototype.emit=function(a){var d=Array.prototype.slice.call(arguments,
1),c=d[d.length-1],e={type:"event",name:a};"function"==typeof c&&(e.id=++this.ackPackets,e.ack="data",this.acks[e.id]=c,d=d.slice(0,d.length-1));e.args=d;return this.packet(e)};a.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};a.prototype.onPacket=function(a){function c(){e.packet({type:"ack",args:d.util.toArray(arguments),ackId:a.id})}var e=this;switch(a.type){case "connect":this.$emit("connect");break;
case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var z=["message",a.data];"data"==a.ack?z.push(c):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,z);break;case "event":z=[a.name].concat(a.args);"data"==a.ack&&z.push(c);this.$emit.apply(this,z);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);
else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};c.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};c.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(e,d,a){function c(a){d.Transport.apply(this,arguments)}e.websocket=c;
d.util.inherit(c,d.Transport);c.prototype.name="websocket";c.prototype.open=function(){var c=d.util.query(this.socket.options.query),e=this,h;h||(h=a.MozWebSocket||a.WebSocket);this.websocket=new h(this.prepareUrl()+c);this.websocket.onopen=function(){e.onOpen();e.socket.setBuffer(!1)};this.websocket.onmessage=function(a){e.onData(a.data)};this.websocket.onclose=function(){e.onClose();e.socket.setBuffer(!0)};this.websocket.onerror=function(a){e.onError(a)};return this};c.prototype.send=d.util.ua.iDevice?
function(a){var d=this;setTimeout(function(){d.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};c.prototype.payload=function(a){for(var d=0,c=a.length;d<c;d++)this.packet(a[d]);return this};c.prototype.close=function(){this.websocket.close();return this};c.prototype.onError=function(a){this.socket.onError(a)};c.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};c.check=function(){return"WebSocket"in a&&!("__addTask"in WebSocket)||"MozWebSocket"in
a};c.xdomainCheck=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(e,d){function a(){d.Transport.websocket.apply(this,arguments)}e.flashsocket=a;d.util.inherit(a,d.Transport.websocket);a.prototype.name="flashsocket";a.prototype.open=function(){var a=this,e=arguments;WebSocket.__addTask(function(){d.Transport.websocket.prototype.open.apply(a,e)});return this};a.prototype.send=function(){var a=
this,e=arguments;WebSocket.__addTask(function(){d.Transport.websocket.prototype.send.apply(a,e)});return this};a.prototype.close=function(){WebSocket.__tasks.length=0;d.Transport.websocket.prototype.close.call(this);return this};a.prototype.ready=function(c,e){function l(){var d=c.options,l=d["flash policy port"],F=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,"static/flashsocket","WebSocketMain"+(c.isXDomain()?"Insecure":"")+".swf"];a.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&
(WEB_SOCKET_SWF_LOCATION=F.join("/")),843!==l&&WebSocket.loadFlashPolicyFile("xmlsocket://"+d.host+":"+l),WebSocket.__initialize(),a.loaded=!0);e.call(h)}var h=this;if(document.body)return l();d.util.load(l)};a.check=function(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&h?10<=h.getFlashPlayerVersion().major:!1};a.xdomainCheck=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?
io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var h=function(){function e(){if(!G){try{var b=g.getElementsByTagName("body")[0].appendChild(g.createElement("span"));b.parentNode.removeChild(b)}catch(a){return}G=!0;for(var b=m.length,f=0;f<b;f++)m[f]()}}function d(b){G?b():m[m.length]=b}function a(b){if("undefined"!=typeof n.addEventListener)n.addEventListener("load",b,!1);else if("undefined"!=typeof g.addEventListener)g.addEventListener("load",
b,!1);else if("undefined"!=typeof n.attachEvent)J(n,"onload",b);else if("function"==typeof n.onload){var a=n.onload;n.onload=function(){a();b()}}else n.onload=b}function c(){var b=g.getElementsByTagName("body")[0],a=g.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var f=b.appendChild(a);if(f){var y=0;(function(){if("undefined"!=typeof f.GetVariable){var g=f.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),B.pv=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],
10)])}else if(10>y){y++;setTimeout(arguments.callee,10);return}b.removeChild(a);f=null;r()})()}else r()}function r(){var b=x.length;if(0<b)for(var a=0;a<b;a++){var f=x[a].id,g=x[a].callbackFn,y={success:!1,id:f};if(0<B.pv[0]){var d=A(f);if(d)if(!D(x[a].swfVersion)||B.wk&&312>B.wk)if(x[a].expressInstall&&C()){y={};y.data=x[a].expressInstall;y.width=d.getAttribute("width")||"0";y.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(y.styleclass=d.getAttribute("class"));d.getAttribute("align")&&
(y.align=d.getAttribute("align"));for(var n={},d=d.getElementsByTagName("param"),c=d.length,k=0;k<c;k++)"movie"!=d[k].getAttribute("name").toLowerCase()&&(n[d[k].getAttribute("name")]=d[k].getAttribute("value"));z(y,n,f,g)}else v(d),g&&g(y);else I(f,!0),g&&(y.success=!0,y.ref=l(f),g(y))}else I(f,!0),g&&((f=l(f))&&"undefined"!=typeof f.SetVariable&&(y.success=!0,y.ref=f),g(y))}}function l(b){var a=null;(b=A(b))&&"OBJECT"==b.nodeName&&("undefined"!=typeof b.SetVariable?a=b:(b=b.getElementsByTagName("object")[0])&&
(a=b));return a}function C(){return!N&&D("6.0.65")&&(B.win||B.mac)&&!(B.wk&&312>B.wk)}function z(b,a,f,d){N=!0;y=d||null;P={success:!1,id:f};var k=A(f);if(k){"OBJECT"==k.nodeName?(p=F(k),H=null):(p=k,H=f);b.id="SWFObjectExprInst";if("undefined"==typeof b.width||!/%$/.test(b.width)&&310>parseInt(b.width,10))b.width="310";if("undefined"==typeof b.height||!/%$/.test(b.height)&&137>parseInt(b.height,10))b.height="137";g.title=g.title.slice(0,47)+" - Flash Player Installation";d=B.ie&&B.win?["Active"].concat("").join("X"):
"PlugIn";d="MMredirectURL="+n.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+g.title;a.flashvars="undefined"!=typeof a.flashvars?a.flashvars+("&"+d):d;B.ie&&B.win&&4!=k.readyState&&(d=g.createElement("div"),f+="SWFObjectNew",d.setAttribute("id",f),k.parentNode.insertBefore(d,k),k.style.display="none",function(){4==k.readyState?k.parentNode.removeChild(k):setTimeout(arguments.callee,10)}());w(b,a,f)}}function v(b){if(B.ie&&B.win&&4!=b.readyState){var a=g.createElement("div");
b.parentNode.insertBefore(a,b);a.parentNode.replaceChild(F(b),a);b.style.display="none";(function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else b.parentNode.replaceChild(F(b),b)}function F(b){var a=g.createElement("div");if(B.win&&B.ie)a.innerHTML=b.innerHTML;else if(b=b.getElementsByTagName("object")[0])if(b=b.childNodes)for(var f=b.length,d=0;d<f;d++)1==b[d].nodeType&&"PARAM"==b[d].nodeName||8==b[d].nodeType||a.appendChild(b[d].cloneNode(!0));return a}function w(b,
a,f){var d,y=A(f);if(B.wk&&312>B.wk)return d;if(y)if("undefined"==typeof b.id&&(b.id=f),B.ie&&B.win){var k="",n;for(n in b)b[n]!=Object.prototype[n]&&("data"==n.toLowerCase()?a.movie=b[n]:"styleclass"==n.toLowerCase()?k+=' class="'+b[n]+'"':"classid"!=n.toLowerCase()&&(k+=" "+n+'="'+b[n]+'"'));n="";for(var c in a)a[c]!=Object.prototype[c]&&(n+='<param name="'+c+'" value="'+a[c]+'" />');y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+k+">"+n+"</object>";u[u.length]=b.id;
d=A(b.id)}else{c=g.createElement("object");c.setAttribute("type","application/x-shockwave-flash");for(var p in b)b[p]!=Object.prototype[p]&&("styleclass"==p.toLowerCase()?c.setAttribute("class",b[p]):"classid"!=p.toLowerCase()&&c.setAttribute(p,b[p]));for(k in a)a[k]!=Object.prototype[k]&&"movie"!=k.toLowerCase()&&(b=c,n=k,p=a[k],f=g.createElement("param"),f.setAttribute("name",n),f.setAttribute("value",p),b.appendChild(f));y.parentNode.replaceChild(c,y);d=c}return d}function b(b){var a=A(b);a&&"OBJECT"==
a.nodeName&&(B.ie&&B.win?(a.style.display="none",function(){if(4==a.readyState){var f=A(b);if(f){for(var g in f)"function"==typeof f[g]&&(f[g]=null);f.parentNode.removeChild(f)}}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a))}function A(b){var a=null;try{a=g.getElementById(b)}catch(f){}return a}function J(b,a,f){b.attachEvent(a,f);t[t.length]=[b,a,f]}function D(b){var a=B.pv;b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return a[0]>
b[0]||a[0]==b[0]&&a[1]>b[1]||a[0]==b[0]&&a[1]==b[1]&&a[2]>=b[2]?!0:!1}function K(b,a,f,d){if(!B.ie||!B.mac){var y=g.getElementsByTagName("head")[0];y&&(f=f&&"string"==typeof f?f:"screen",d&&(O=M=null),M&&O==f||(d=g.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",f),M=y.appendChild(d),B.ie&&B.win&&"undefined"!=typeof g.styleSheets&&0<g.styleSheets.length&&(M=g.styleSheets[g.styleSheets.length-1]),O=f),B.ie&&B.win?M&&"object"==typeof M.addRule&&M.addRule(b,a):M&&"undefined"!=
typeof g.createTextNode&&M.appendChild(g.createTextNode(b+" {"+a+"}")))}}function I(b,a){if(L){var f=a?"visible":"hidden";G&&A(b)?A(b).style.visibility=f:K("#"+b,"visibility:"+f)}}function f(b){return null!=/[\\\"<>\.;]/.exec(b)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(b):b}var n=window,g=document,k=navigator,q=!1,m=[function(){q?c():r()}],x=[],u=[],t=[],p,H,y,P,G=!1,N=!1,M,O,L=!0,B=function(){var b="undefined"!=typeof g.getElementById&&"undefined"!=typeof g.getElementsByTagName&&
"undefined"!=typeof g.createElement,a=k.userAgent.toLowerCase(),f=k.platform.toLowerCase(),d=f?/win/.test(f):/win/.test(a),f=f?/mac/.test(f):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,y=!+"\v1",c=[0,0,0],p=null;if("undefined"!=typeof k.plugins&&"object"==typeof k.plugins["Shockwave Flash"])!(p=k.plugins["Shockwave Flash"].description)||"undefined"!=typeof k.mimeTypes&&k.mimeTypes["application/x-shockwave-flash"]&&!k.mimeTypes["application/x-shockwave-flash"].enabledPlugin||
(q=!0,y=!1,p=p.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=parseInt(p.replace(/^(.*)\..*$/,"$1"),10),c[1]=parseInt(p.replace(/^.*\.(.*)\s.*$/,"$1"),10),c[2]=/[a-zA-Z]/.test(p)?parseInt(p.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof n[["Active"].concat("Object").join("X")])try{var G=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");G&&(p=G.GetVariable("$version"))&&(y=!0,p=p.split(" ")[1].split(","),c=[parseInt(p[0],10),parseInt(p[1],10),parseInt(p[2],
10)])}catch(t){}return{w3:b,pv:c,wk:a,ie:y,win:d,mac:f}}();(function(){B.w3&&(("undefined"!=typeof g.readyState&&"complete"==g.readyState||"undefined"==typeof g.readyState&&(g.getElementsByTagName("body")[0]||g.body))&&e(),G||("undefined"!=typeof g.addEventListener&&g.addEventListener("DOMContentLoaded",e,!1),B.ie&&B.win&&(g.attachEvent("onreadystatechange",function(){"complete"==g.readyState&&(g.detachEvent("onreadystatechange",arguments.callee),e())}),n==top&&function(){if(!G){try{g.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,
0);return}e()}}()),B.wk&&function(){G||(/loaded|complete/.test(g.readyState)?e():setTimeout(arguments.callee,0))}(),a(e)))})();(function(){B.ie&&B.win&&window.attachEvent("onunload",function(){for(var a=t.length,f=0;f<a;f++)t[f][0].detachEvent(t[f][1],t[f][2]);a=u.length;for(f=0;f<a;f++)b(u[f]);for(var g in B)B[g]=null;B=null;for(var d in h)h[d]=null;h=null})})();return{registerObject:function(b,a,f,g){if(B.w3&&b&&a){var d={};d.id=b;d.swfVersion=a;d.expressInstall=f;d.callbackFn=g;x[x.length]=d;I(b,
!1)}else g&&g({success:!1,id:b})},getObjectById:function(b){if(B.w3)return l(b)},embedSWF:function(b,a,f,g,y,n,k,c,p,G){var t={success:!1,id:a};B.w3&&!(B.wk&&312>B.wk)&&b&&a&&f&&g&&y?(I(a,!1),d(function(){f+="";g+="";var d={};if(p&&"object"===typeof p)for(var m in p)d[m]=p[m];d.data=b;d.width=f;d.height=g;m={};if(c&&"object"===typeof c)for(var q in c)m[q]=c[q];if(k&&"object"===typeof k)for(var e in k)m.flashvars="undefined"!=typeof m.flashvars?m.flashvars+("&"+e+"="+k[e]):e+"="+k[e];if(D(y))q=w(d,
m,a),d.id==a&&I(a,!0),t.success=!0,t.ref=q;else{if(n&&C()){d.data=n;z(d,m,a,G);return}I(a,!0)}G&&G(t)})):G&&G(t)},switchOffAutoHideShow:function(){L=!1},ua:B,getFlashPlayerVersion:function(){return{major:B.pv[0],minor:B.pv[1],release:B.pv[2]}},hasFlashPlayerVersion:D,createSWF:function(b,a,f){if(B.w3)return w(b,a,f)},showExpressInstall:function(b,a,f,g){B.w3&&C()&&z(b,a,f,g)},removeSWF:function(a){B.w3&&b(a)},createCSS:function(b,a,f,g){B.w3&&K(b,a,f,g)},addDomLoadEvent:d,addLoadEvent:a,getQueryParamValue:function(b){var a=
g.location.search||g.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);if(null==b)return f(a);for(var a=a.split("&"),d=0;d<a.length;d++)if(a[d].substring(0,a[d].indexOf("="))==b)return f(a[d].substring(a[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(N){var b=A("SWFObjectExprInst");b&&p&&(b.parentNode.replaceChild(p,b),H&&(I(H,!0),B.ie&&B.win&&(p.style.display="block")),y&&y(P));N=!1}}}}();(function(){if("undefined"!=typeof window&&!window.WebSocket){var e=window.console;e&&
e.log&&e.error||(e={log:function(){},error:function(){}});h.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&e.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(d,a,c,e,l){var h=this;h.__id=WebSocket.__nextId++;WebSocket.__instances[h.__id]=h;h.readyState=WebSocket.CONNECTING;h.bufferedAmount=0;h.__events={};a?"string"==typeof a&&(a=[a]):a=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(h.__id,
d,a,c||null,e||0,l||null)})},0)},WebSocket.prototype.send=function(d){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";d=WebSocket.__flash.send(this.__id,encodeURIComponent(d));if(0>d)return!0;this.bufferedAmount+=d;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=
function(d,a,c){d in this.__events||(this.__events[d]=[]);this.__events[d].push(a)},WebSocket.prototype.removeEventListener=function(d,a,c){if(d in this.__events)for(d=this.__events[d],c=d.length-1;0<=c;--c)if(d[c]===a){d.splice(c,1);break}},WebSocket.prototype.dispatchEvent=function(d){for(var a=this.__events[d.type]||[],c=0;c<a.length;++c)a[c](d);(a=this["on"+d.type])&&a(d)},WebSocket.prototype.__handleEvent=function(d){"readyState"in d&&(this.readyState=d.readyState);"protocol"in d&&(this.protocol=
d.protocol);if("open"==d.type||"error"==d.type)d=this.__createSimpleEvent(d.type);else if("close"==d.type)d=this.__createSimpleEvent("close");else if("message"==d.type)d=decodeURIComponent(d.message),d=this.__createMessageEvent("message",d);else throw"unknown event type: "+d.type;this.dispatchEvent(d)},WebSocket.prototype.__createSimpleEvent=function(d){if(document.createEvent&&window.Event){var a=document.createEvent("Event");a.initEvent(d,!1,!1);return a}return{type:d,bubbles:!1,cancelable:!1}},
WebSocket.prototype.__createMessageEvent=function(d,a){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:d,data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(d){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(d)})},
WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var d=document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.__isFlashLite()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var a=document.createElement("div");a.id="webSocketFlash";d.appendChild(a);document.body.appendChild(d);h.embedSWF(WEB_SOCKET_SWF_LOCATION,
"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||e.error("[WebSocket] swfobject.embedSWF failed")})}else e.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var d=
0;d<WebSocket.__tasks.length;++d)WebSocket.__tasks[d]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var d=WebSocket.__flash.receiveEvents(),a=0;a<d.length;++a)WebSocket.__instances[d[a].webSocketId].__handleEvent(d[a])}catch(c){e.error(c)}},0);return!0},WebSocket.__log=function(d){e.log(decodeURIComponent(d))},WebSocket.__error=function(d){e.error(decodeURIComponent(d))},WebSocket.__addTask=function(d){WebSocket.__flash?d():WebSocket.__tasks.push(d)},
WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var d=window.navigator.mimeTypes["application/x-shockwave-flash"];return d&&d.enabledPlugin&&d.enabledPlugin.filename?d.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):e.error("Flash Player >= 10.0.0 is required.")}})();
(function(e,d,a){function c(a){a&&(d.Transport.apply(this,arguments),this.sendBuffer=[])}function h(){}e.XHR=c;d.util.inherit(c,d.Transport);c.prototype.open=function(){this.socket.setBuffer(!1);this.onOpen();this.get();this.setCloseTimeout();return this};c.prototype.payload=function(a){for(var c=[],e=0,h=a.length;e<h;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};c.prototype.send=function(a){this.post(a);return this};c.prototype.post=function(d){function c(){if(4==
this.readyState)if(this.onreadystatechange=h,v.posting=!1,200==this.status)v.socket.setBuffer(!1);else v.onClose()}function e(){this.onload=h;v.socket.setBuffer(!1)}var v=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");a.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=e:this.sendXHR.onreadystatechange=c;this.sendXHR.send(d)};c.prototype.close=function(){this.onClose();return this};c.prototype.request=function(a){var c=d.util.request(this.socket.isXDomain()),
e=d.util.query(this.socket.options.query,"t="+ +new Date);c.open(a||"GET",this.prepareUrl()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(h){}return c};c.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};c.check=function(c,e){try{var h=d.util.request(e),v=a.XDomainRequest&&h instanceof XDomainRequest,r=c&&c.options&&c.options.secure?"https:":"http:",w=a.location&&r!=a.location.protocol;
if(h&&(!v||!w))return!0}catch(b){}return!1};c.xdomainCheck=function(a){return c.check(a,!0)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(e,d){function a(a){d.Transport.XHR.apply(this,arguments)}e.htmlfile=a;d.util.inherit(a,d.Transport.XHR);a.prototype.name="htmlfile";a.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();
this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var e=this,a=d.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;d.util.on(window,"unload",function(){e.destroy()})};a.prototype._=function(a,d){a=a.replace(/\\\//g,"/");this.onData(a);try{var e=d.getElementsByTagName("script")[0];e.parentNode.removeChild(e)}catch(h){}};a.prototype.destroy=
function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};a.prototype.close=function(){this.destroy();return d.Transport.XHR.prototype.close.call(this)};a.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.XHR.check(a)}catch(e){}return!1};a.xdomainCheck=function(){return!1};
d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(e,d,a){function c(){d.Transport.XHR.apply(this,arguments)}function h(){}e["xhr-polling"]=c;d.util.inherit(c,d.Transport.XHR);d.util.merge(c,d.Transport.XHR);c.prototype.name="xhr-polling";c.prototype.heartbeats=function(){return!1};c.prototype.open=function(){d.Transport.XHR.prototype.open.call(this);return!1};c.prototype.get=function(){function d(){if(4==this.readyState)if(this.onreadystatechange=
h,200==this.status)v.onData(this.responseText),v.get();else v.onClose()}function c(){this.onerror=this.onload=h;v.retryCounter=1;v.onData(this.responseText);v.get()}function e(){v.retryCounter++;if(!v.retryCounter||3<v.retryCounter)v.onClose();else v.get()}if(this.isOpen){var v=this;this.xhr=this.request();a.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=c,this.xhr.onerror=e):this.xhr.onreadystatechange=d;this.xhr.send(null)}};c.prototype.onClose=function(){d.Transport.XHR.prototype.onClose.call(this);
if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=h;try{this.xhr.abort()}catch(a){}this.xhr=null}};c.prototype.ready=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(e,d,a){function c(a){d.Transport["xhr-polling"].apply(this,arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c._(a)})}var h=a.document&&
"MozAppearance"in a.document.documentElement.style;e["jsonp-polling"]=c;d.util.inherit(c,d.Transport["xhr-polling"]);c.prototype.name="jsonp-polling";c.prototype.post=function(a){function c(){e();h.socket.setBuffer(!1)}function e(){h.iframe&&h.form.removeChild(h.iframe);try{J=document.createElement('<iframe name="'+h.iframeId+'">')}catch(b){J=document.createElement("iframe"),J.name=h.iframeId}J.id=h.iframeId;h.form.appendChild(J);h.iframe=J}var h=this,r=d.util.query(this.socket.options.query,"t="+
+new Date+"&i="+this.index);if(!this.form){var w=document.createElement("form"),b=document.createElement("textarea"),A=this.iframeId="socketio_iframe_"+this.index,J;w.className="socketio";w.style.position="absolute";w.style.top="0px";w.style.left="0px";w.style.display="none";w.target=A;w.method="POST";w.setAttribute("accept-charset","utf-8");b.name="d";w.appendChild(b);document.body.appendChild(w);this.form=w;this.area=b}this.form.action=this.prepareUrl()+r;e();this.area.value=d.JSON.stringify(a);
try{this.form.submit()}catch(D){}this.iframe.attachEvent?J.onreadystatechange=function(){"complete"==h.iframe.readyState&&c()}:this.iframe.onload=c;this.socket.setBuffer(!0)};c.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.prepareUrl()+e;c.onerror=function(){a.onClose()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.script=c;h&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};c.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};c.prototype.ready=function(a,c){var e=this;if(!h)return c.call(this);d.util.load(function(){c.call(e)})};c.check=function(){return"document"in a};c.xdomainCheck=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:
module.exports,"undefined"!=typeof io?io:module.parent.exports,this);"function"===typeof define&&define.amd&&define([],function(){return io})})();var QRCode;
!function(){function h(b){this.mode=l.MODE_8BIT_BYTE;this.data=b;this.parsedData=[];b=[];for(var a=0,d=this.data.length;d>a;a++){var c=this.data.charCodeAt(a);65536<c?(b[0]=240|(1835008&c)>>>18,b[1]=128|(258048&c)>>>12,b[2]=128|(4032&c)>>>6,b[3]=128|63&c):2048<c?(b[0]=224|(61440&c)>>>12,b[1]=128|(4032&c)>>>6,b[2]=128|63&c):128<c?(b[0]=192|(1984&c)>>>6,b[1]=128|63&c):b[0]=c;this.parsedData=this.parsedData.concat(b)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function e(b,a){this.typeNumber=b;this.errorCorrectLevel=a;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function d(b,a){if(void 0==b.length)throw Error(b.length+"/"+a);for(var d=0;d<b.length&&0==b[d];)d++;this.num=Array(b.length-d+a);for(var c=0;c<b.length-d;c++)this.num[c]=b[c+d]}function a(b,a){this.totalCount=b;this.dataCount=a}function c(){this.buffer=[];this.length=0}function r(){var b=!1,a=navigator.userAgent;return/android/i.test(a)&&
(b=!0,aMat=a.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(b=parseFloat(aMat[1]))),b}h.prototype={getLength:function(){return this.parsedData.length},write:function(b){for(var a=0,d=this.parsedData.length;d>a;a++)b.put(this.parsedData[a],8)}};e.prototype={addData:function(b){b=new h(b);this.dataList.push(b);this.dataCache=null},isDark:function(b,a){if(0>b||this.moduleCount<=b||0>a||this.moduleCount<=a)throw Error(b+","+a);return this.modules[b][a]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(b,a){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[d][c]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(b,
a);7<=this.typeNumber&&this.setupTypeNumber(b);null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,a)},setupPositionProbePattern:function(b,a){for(var d=-1;7>=d;d++)if(!(-1>=b+d||this.moduleCount<=b+d))for(var c=-1;7>=c;c++)-1>=a+c||this.moduleCount<=a+c||(this.modules[b+d][a+c]=0<=d&&6>=d&&(0==c||6==c)||0<=c&&6>=c&&(0==d||6==d)||2<=d&&4>=d&&2<=c&&4>=c?!0:!1)},getBestMaskPattern:function(){for(var b=0,a=0,d=0;8>d;d++){this.makeImpl(!0,
d);var c=z.getLostPoint(this);(0==d||b>c)&&(b=c,a=d)}return a},createMovieClip:function(b,a,d){b=b.createEmptyMovieClip(a,d);this.make();for(a=0;a<this.modules.length;a++){d=1*a;for(var c=0;c<this.modules[a].length;c++){var e=1*c;this.modules[a][c]&&(b.beginFill(0,100),b.moveTo(e,d),b.lineTo(e+1,d),b.lineTo(e+1,d+1),b.lineTo(e,d+1),b.endFill())}}return b},setupTimingPattern:function(){for(var b=8;b<this.moduleCount-8;b++)null==this.modules[b][6]&&(this.modules[b][6]=0==b%2);for(b=8;b<this.moduleCount-
8;b++)null==this.modules[6][b]&&(this.modules[6][b]=0==b%2)},setupPositionAdjustPattern:function(){for(var b=z.getPatternPosition(this.typeNumber),a=0;a<b.length;a++)for(var d=0;d<b.length;d++){var c=b[a],e=b[d];if(null==this.modules[c][e])for(var f=-2;2>=f;f++)for(var n=-2;2>=n;n++)this.modules[c+f][e+n]=-2==f||2==f||-2==n||2==n||0==f&&0==n?!0:!1}},setupTypeNumber:function(b){for(var a=z.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var c=!b&&1==(1&a>>d);this.modules[Math.floor(d/3)][d%3+this.moduleCount-
8-3]=c}for(d=0;18>d;d++)c=!b&&1==(1&a>>d),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=c},setupTypeInfo:function(b,a){for(var d=z.getBCHTypeInfo(this.errorCorrectLevel<<3|a),c=0;15>c;c++){var e=!b&&1==(1&d>>c);6>c?this.modules[c][8]=e:8>c?this.modules[c+1][8]=e:this.modules[this.moduleCount-15+c][8]=e}for(c=0;15>c;c++)e=!b&&1==(1&d>>c),8>c?this.modules[8][this.moduleCount-c-1]=e:9>c?this.modules[8][15-c-1+1]=e:this.modules[8][15-c-1]=e;this.modules[this.moduleCount-8][8]=!b},mapData:function(b,
a){for(var d=-1,c=this.moduleCount-1,e=7,f=0,n=this.moduleCount-1;0<n;n-=2)for(6==n&&n--;;){for(var g=0;2>g;g++)if(null==this.modules[c][n-g]){var k=!1;f<b.length&&(k=1==(1&b[f]>>>e));z.getMask(a,c,n-g)&&(k=!k);this.modules[c][n-g]=k;e--; -1==e&&(f++,e=7)}if(c+=d,0>c||this.moduleCount<=c){c-=d;d=-d;break}}}};e.PAD0=236;e.PAD1=17;e.createData=function(b,d,h){d=a.getRSBlocks(b,d);for(var l=new c,I=0;I<h.length;I++){var f=h[I];l.put(f.mode,4);l.put(f.getLength(),z.getLengthInBits(f.mode,b));f.write(l)}for(I=
b=0;I<d.length;I++)b+=d[I].dataCount;if(l.getLengthInBits()>8*b)throw Error("code length overflow. ("+l.getLengthInBits()+">"+8*b+")");for(l.getLengthInBits()+4<=8*b&&l.put(0,4);0!=l.getLengthInBits()%8;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*b||(l.put(e.PAD0,8),l.getLengthInBits()>=8*b));)l.put(e.PAD1,8);return e.createBytes(l,d)};e.createBytes=function(b,a){for(var c=0,e=0,h=0,f=Array(a.length),n=Array(a.length),g=0;g<a.length;g++){var k=a[g].dataCount,q=a[g].totalCount-k,e=Math.max(e,k),h=
Math.max(h,q);f[g]=Array(k);for(var m=0;m<f[g].length;m++)f[g][m]=255&b.buffer[m+c];c+=k;m=z.getErrorCorrectPolynomial(q);k=(new d(f[g],m.getLength()-1)).mod(m);n[g]=Array(m.getLength()-1);for(m=0;m<n[g].length;m++)q=m+k.getLength()-n[g].length,n[g][m]=0<=q?k.get(q):0}for(m=g=0;m<a.length;m++)g+=a[m].totalCount;c=Array(g);for(m=k=0;e>m;m++)for(g=0;g<a.length;g++)m<f[g].length&&(c[k++]=f[g][m]);for(m=0;h>m;m++)for(g=0;g<a.length;g++)m<n[g].length&&(c[k++]=n[g][m]);return c};for(var l={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},C={L:1,M:0,Q:3,H:2},z={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(b){for(var a=b<<10;0<=z.getBCHDigit(a)-z.getBCHDigit(z.G15);)a^=z.G15<<z.getBCHDigit(a)-z.getBCHDigit(z.G15);return(b<<10|a)^z.G15_MASK},getBCHTypeNumber:function(b){for(var a=b<<12;0<=z.getBCHDigit(a)-z.getBCHDigit(z.G18);)a^=z.G18<<z.getBCHDigit(a)-
z.getBCHDigit(z.G18);return b<<12|a},getBCHDigit:function(b){for(var a=0;0!=b;)a++,b>>>=1;return a},getPatternPosition:function(b){return z.PATTERN_POSITION_TABLE[b-1]},getMask:function(b,a,d){switch(b){case 0:return 0==(a+d)%2;case 1:return 0==a%2;case 2:return 0==d%3;case 3:return 0==(a+d)%3;case 4:return 0==(Math.floor(a/2)+Math.floor(d/3))%2;case 5:return 0==a*d%2+a*d%3;case 6:return 0==(a*d%2+a*d%3)%2;case 7:return 0==(a*d%3+(a+d)%2)%2;default:throw Error("bad maskPattern:"+b);}},getErrorCorrectPolynomial:function(b){for(var a=
new d([1],0),c=0;b>c;c++)a=a.multiply(new d([1,v.gexp(c)],0));return a},getLengthInBits:function(b,a){if(1<=a&&10>a)switch(b){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw Error("mode:"+b);}else if(27>a)switch(b){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw Error("mode:"+b);}else{if(!(41>a))throw Error("type:"+a);switch(b){case l.MODE_NUMBER:return 14;
case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw Error("mode:"+b);}}},getLostPoint:function(b){for(var a=b.getModuleCount(),d=0,c=0;a>c;c++)for(var e=0;a>e;e++){for(var f=0,n=b.isDark(c,e),g=-1;1>=g;g++)if(!(0>c+g||c+g>=a))for(var k=-1;1>=k;k++)0>e+k||e+k>=a||(0!=g||0!=k)&&n==b.isDark(c+g,e+k)&&f++;5<f&&(d+=3+f-5)}for(c=0;a-1>c;c++)for(e=0;a-1>e;e++)f=0,b.isDark(c,e)&&f++,b.isDark(c+1,e)&&f++,b.isDark(c,e+1)&&f++,b.isDark(c+1,e+1)&&f++,0!=f&&
4!=f||(d+=3);for(c=0;a>c;c++)for(e=0;a-6>e;e++)b.isDark(c,e)&&!b.isDark(c,e+1)&&b.isDark(c,e+2)&&b.isDark(c,e+3)&&b.isDark(c,e+4)&&!b.isDark(c,e+5)&&b.isDark(c,e+6)&&(d+=40);for(e=0;a>e;e++)for(c=0;a-6>c;c++)b.isDark(c,e)&&!b.isDark(c+1,e)&&b.isDark(c+2,e)&&b.isDark(c+3,e)&&b.isDark(c+4,e)&&!b.isDark(c+5,e)&&b.isDark(c+6,e)&&(d+=40);for(e=f=0;a>e;e++)for(c=0;a>c;c++)b.isDark(c,e)&&f++;b=Math.abs(100*f/a/a-50)/5;return d+10*b}},v={glog:function(b){if(1>b)throw Error("glog("+b+")");return v.LOG_TABLE[b]},
gexp:function(b){for(;0>b;)b+=255;for(;256<=b;)b-=255;return v.EXP_TABLE[b]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},F=0;8>F;F++)v.EXP_TABLE[F]=1<<F;for(F=8;256>F;F++)v.EXP_TABLE[F]=v.EXP_TABLE[F-4]^v.EXP_TABLE[F-5]^v.EXP_TABLE[F-6]^v.EXP_TABLE[F-8];for(F=0;255>F;F++)v.LOG_TABLE[v.EXP_TABLE[F]]=F;d.prototype={get:function(b){return this.num[b]},getLength:function(){return this.num.length},multiply:function(b){for(var a=Array(this.getLength()+b.getLength()-1),c=0;c<this.getLength();c++)for(var e=
0;e<b.getLength();e++)a[c+e]^=v.gexp(v.glog(this.get(c))+v.glog(b.get(e)));return new d(a,0)},mod:function(b){if(0>this.getLength()-b.getLength())return this;for(var a=v.glog(this.get(0))-v.glog(b.get(0)),c=Array(this.getLength()),e=0;e<this.getLength();e++)c[e]=this.get(e);for(e=0;e<b.getLength();e++)c[e]^=v.gexp(v.glog(b.get(e))+a);return(new d(c,0)).mod(b)}};a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];a.getRSBlocks=function(b,d){var c=a.getRsBlockTable(b,d);if(void 0==c)throw Error("bad rs block @ typeNumber:"+b+"/errorCorrectLevel:"+d);for(var e=c.length/3,h=[],f=0;e>f;f++)for(var n=c[3*f+0],g=c[3*f+1],k=c[3*f+2],q=0;n>q;q++)h.push(new a(g,k));return h};a.getRsBlockTable=function(b,
d){switch(d){case C.L:return a.RS_BLOCK_TABLE[4*(b-1)+0];case C.M:return a.RS_BLOCK_TABLE[4*(b-1)+1];case C.Q:return a.RS_BLOCK_TABLE[4*(b-1)+2];case C.H:return a.RS_BLOCK_TABLE[4*(b-1)+3]}};c.prototype={get:function(b){return 1==(1&this.buffer[Math.floor(b/8)]>>>7-b%8)},put:function(b,a){for(var d=0;a>d;d++)this.putBit(1==(1&b>>>a-d-1))},getLengthInBits:function(){return this.length},putBit:function(b){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0);b&&(this.buffer[a]|=
128>>>this.length%8);this.length++}};var w=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,
805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],F=function(){var b=function(b,a){this._el=b;this._htOption=a};return b.prototype.draw=function(b){function a(b,f){var d=document.createElementNS("http://www.w3.org/2000/svg",b),c;for(c in f)f.hasOwnProperty(c)&&d.setAttribute(c,
f[c]);return d}var d=this._htOption,c=this._el,f=b.getModuleCount();Math.floor(d.width/f);Math.floor(d.height/f);this.clear();var n=a("svg",{viewBox:"0 0 "+String(f)+" "+String(f),width:"100%",height:"100%",fill:d.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");c.appendChild(n);n.appendChild(a("rect",{fill:d.colorDark,width:"1",height:"1",id:"template"}));for(d=0;f>d;d++)for(c=0;f>c;c++)if(b.isDark(d,c)){var g=a("use",{x:String(d),y:String(c)});
g.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");n.appendChild(g)}},b.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},b}(),b="svg"===document.documentElement.tagName.toLowerCase()?F:"undefined"!=typeof CanvasRenderingContext2D?function(){function b(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function a(b,d){var c=this;if(c._fFail=d,c._fSuccess=
b,null===c._bSupportDataURI){var k=document.createElement("img"),e=function(){c._bSupportDataURI=!1;c._fFail&&_fFail.call(c)};return k.onabort=e,k.onerror=e,k.onload=function(){c._bSupportDataURI=!0;c._fSuccess&&c._fSuccess.call(c)},k.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}!0===c._bSupportDataURI&&c._fSuccess?c._fSuccess.call(c):!1===c._bSupportDataURI&&c._fFail&&c._fFail.call(c)}if(this._android&&
2.1>=this._android){var d=1/window.devicePixelRatio,c=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(b,a,g,k,e,m,x,u){if("nodeName"in b&&/img/i.test(b.nodeName))for(var t=arguments.length-1;1<=t;t--)arguments[t]*=d;else"undefined"==typeof u&&(arguments[1]*=d,arguments[2]*=d,arguments[3]*=d,arguments[4]*=d);c.apply(this,arguments)}}var e=function(b,a){this._bIsPainted=!1;this._android=r();this._htOption=a;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=a.width;this._elCanvas.height=a.height;b.appendChild(this._elCanvas);this._el=b;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return e.prototype.draw=function(b){var a=this._elImage,c=this._oContext,d=this._htOption,e=b.getModuleCount(),m=d.width/e,x=d.height/e,u=Math.round(m),t=Math.round(x);a.style.display="none";
this.clear();for(a=0;e>a;a++)for(var p=0;e>p;p++){var H=b.isDark(a,p),y=p*m,P=a*x;c.strokeStyle=H?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=H?d.colorDark:d.colorLight;c.fillRect(y,P,m,x);c.strokeRect(Math.floor(y)+.5,Math.floor(P)+.5,u,t);c.strokeRect(Math.ceil(y)-.5,Math.ceil(P)-.5,u,t)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&a.call(this,b)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},e.prototype.round=function(b){return b?Math.floor(1E3*b)/1E3:b},e}():function(){var b=function(b,a){this._el=b;this._htOption=a};return b.prototype.draw=function(b){for(var a=this._htOption,c=this._el,d=b.getModuleCount(),f=Math.floor(a.width/d),n=Math.floor(a.height/d),g=['<table style="border:0;border-collapse:collapse;">'],k=0;d>k;k++){g.push("<tr>");for(var e=0;d>e;e++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
f+"px;height:"+n+"px;background-color:"+(b.isDark(k,e)?a.colorDark:a.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>");c.innerHTML=g.join("");b=c.childNodes[0];c=(a.width-b.offsetWidth)/2;a=(a.height-b.offsetHeight)/2;0<c&&0<a&&(b.style.margin=a+"px "+c+"px")},b.prototype.clear=function(){this._el.innerHTML=""},b}();QRCode=function(a,c){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:C.H},"string"==typeof c&&(c={text:c}),c)for(var d in c)this._htOption[d]=
c[d];"string"==typeof a&&(a=document.getElementById(a));this._android=r();this._el=a;this._oQRCode=null;this._oDrawing=new b(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(b){var a=this._htOption.correctLevel,c=1,d;d=encodeURI(b).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");d=d.length+(d.length!=b?3:0);for(var h=0,f=w.length;f>=h;h++){var n=0;switch(a){case C.L:n=w[h][0];break;case C.M:n=w[h][1];break;case C.Q:n=w[h][2];break;case C.H:n=
w[h][3]}if(n>=d)break;c++}if(c>w.length)throw Error("Too long data");this._oQRCode=new e(c,this._htOption.correctLevel);this._oQRCode.addData(b);this._oQRCode.make();this._el.title=b;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=C}();
(function(){(function(h){var e=this||(0,eval)("this"),d=e.document,a=e.navigator,c=e.jQuery,r=e.JSON;(function(a){"function"===typeof define&&define.amd?define(["exports","require"],a):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(module.exports||exports):a(e.ko={})})(function(l,C){function z(b,a){return null===b||typeof b in A?b===a:!1}function v(b,a){var c;return function(){c||(c=setTimeout(function(){c=h;b()},a))}}function F(b,a){var c;return function(){clearTimeout(c);
c=setTimeout(b,a)}}function w(a,c,d,k){b.bindingHandlers[a]={init:function(a,f,e,u,t){var p,H;b.computed(function(){var y=b.utils.unwrapObservable(f()),e=!d!==!y,G=!H;if(G||c||e!==p)G&&b.computedContext.getDependenciesCount()&&(H=b.utils.cloneNodes(b.virtualElements.childNodes(a),!0)),e?(G||b.virtualElements.setDomNodeChildren(a,b.utils.cloneNodes(H)),b.applyBindingsToDescendants(k?k(t,y):t,a)):b.virtualElements.emptyNode(a),p=e},null,{disposeWhenNodeIsRemoved:a});return{controlsDescendantBindings:!0}}};
b.expressionRewriting.bindingRewriteValidators[a]=!1;b.virtualElements.allowedBindings[a]=!0}var b="undefined"!==typeof l?l:{};b.exportSymbol=function(a,c){for(var d=a.split("."),k=b,e=0;e<d.length-1;e++)k=k[d[e]];k[d[d.length-1]]=c};b.exportProperty=function(b,a,c){b[a]=c};b.version="3.3.0";b.exportSymbol("version",b.version);b.utils=function(){function f(b,a){for(var c in b)b.hasOwnProperty(c)&&a(c,b[c])}function n(b,a){if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function g(b,
a){b.__proto__=a;return b}function k(a,c,d,f){var g=a[c].match(H)||[];b.utils.arrayForEach(d.match(H),function(a){b.utils.addOrRemoveItem(g,a,f)});a[c]=g.join(" ")}var q={__proto__:[]}instanceof Array,m={},x={},u=a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents";m[u]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");f(m,function(b,a){if(a.length)for(var c=0,d=a.length;c<d;c++)x[a[c]]=b});var t=
{propertychange:!0},p=d&&function(){for(var b=3,a=d.createElement("div"),c=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++b+"]><i></i><![endif]--\x3e",c[0];);return 4<b?b:h}(),H=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(b,a){for(var c=0,d=b.length;c<d;c++)a(b[c],c)},arrayIndexOf:function(b,a){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a);for(var c=0,d=b.length;c<
d;c++)if(b[c]===a)return c;return-1},arrayFirst:function(b,a,c){for(var d=0,f=b.length;d<f;d++)if(a.call(c,b[d],d))return b[d];return null},arrayRemoveItem:function(a,c){var d=b.utils.arrayIndexOf(a,c);0<d?a.splice(d,1):0===d&&a.shift()},arrayGetDistinctValues:function(a){a=a||[];for(var c=[],d=0,f=a.length;d<f;d++)0>b.utils.arrayIndexOf(c,a[d])&&c.push(a[d]);return c},arrayMap:function(b,a){b=b||[];for(var c=[],d=0,f=b.length;d<f;d++)c.push(a(b[d],d));return c},arrayFilter:function(b,a){b=b||[];
for(var c=[],d=0,f=b.length;d<f;d++)a(b[d],d)&&c.push(b[d]);return c},arrayPushAll:function(b,a){if(a instanceof Array)b.push.apply(b,a);else for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},addOrRemoveItem:function(a,c,d){var f=b.utils.arrayIndexOf(b.utils.peekObservable(a),c);0>f?d&&a.push(c):d||a.splice(f,1)},canSetPrototype:q,extend:n,setPrototypeOf:g,setPrototypeOfOrExtend:q?g:n,objectForEach:f,objectMap:function(b,a){if(!b)return b;var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=a(b[d],
d,b));return c},emptyDomNode:function(a){for(;a.firstChild;)b.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){a=b.utils.makeArray(a);for(var c=(a[0]&&a[0].ownerDocument||d).createElement("div"),f=0,g=a.length;f<g;f++)c.appendChild(b.cleanNode(a[f]));return c},cloneNodes:function(a,c){for(var d=0,f=a.length,g=[];d<f;d++){var e=a[d].cloneNode(!0);g.push(c?b.cleanNode(e):e)}return g},setDomNodeChildren:function(a,c){b.utils.emptyDomNode(a);if(c)for(var d=0,f=c.length;d<f;d++)a.appendChild(c[d])},
replaceDomNodes:function(a,c){var d=a.nodeType?[a]:a;if(0<d.length){for(var f=d[0],g=f.parentNode,e=0,k=c.length;e<k;e++)g.insertBefore(c[e],f);e=0;for(k=d.length;e<k;e++)b.removeNode(d[e])}},fixUpContinuousNodeArray:function(b,a){if(b.length){for(a=8===a.nodeType&&a.parentNode||a;b.length&&b[0].parentNode!==a;)b.splice(0,1);if(1<b.length){var c=b[0],d=b[b.length-1];for(b.length=0;c!==d;)if(b.push(c),c=c.nextSibling,!c)return;b.push(d)}}return b},setOptionNodeSelectionState:function(b,a){7>p?b.setAttribute("selected",
a):b.selected=a},stringTrim:function(b){return null===b||b===h?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(b,a){b=b||"";return a.length>b.length?!1:b.substring(0,a.length)===a},domNodeIsContainedBy:function(b,a){if(b===a)return!0;if(11===b.nodeType)return!1;if(a.contains)return a.contains(3===b.nodeType?b.parentNode:b);if(a.compareDocumentPosition)return 16==(a.compareDocumentPosition(b)&16);for(;b&&b!=a;)b=b.parentNode;return!!b},domNodeIsAttachedToDocument:function(a){return b.utils.domNodeIsContainedBy(a,
a.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(a){return!!b.utils.arrayFirst(a,b.utils.domNodeIsAttachedToDocument)},tagNameLower:function(b){return b&&b.tagName&&b.tagName.toLowerCase()},registerEventHandler:function(a,d,f){var g=p&&t[d];if(!g&&c)c(a).bind(d,f);else if(g||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var e=function(b){f.call(a,b)},k="on"+d;a.attachEvent(k,e);b.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(k,
e)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(d,f,!1)},triggerEvent:function(a,f){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var g;"input"===b.utils.tagNameLower(a)&&a.type?"click"!=f.toLowerCase()?g=!1:(g=a.type,g="checkbox"==g||"radio"==g):g=!1;if(c&&!g)c(a).trigger(f);else if("function"==typeof d.createEvent)if("function"==typeof a.dispatchEvent)g=d.createEvent(x[f]||"HTMLEvents"),g.initEvent(f,
!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(g);else throw Error("The supplied element doesn't support dispatchEvent");else if(g&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+f);else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(a){return b.isObservable(a)?a():a},peekObservable:function(a){return b.isObservable(a)?a.peek():a},toggleDomNodeCssClass:function(a,c,d){var f;c&&("object"===typeof a.classList?(f=a.classList[d?"add":
"remove"],b.utils.arrayForEach(c.match(H),function(b){f.call(a.classList,b)})):"string"===typeof a.className.baseVal?k(a.className,"baseVal",c,d):k(a,"className",c,d))},setTextContent:function(a,c){var d=b.utils.unwrapObservable(c);if(null===d||d===h)d="";var f=b.virtualElements.firstChild(a);!f||3!=f.nodeType||b.virtualElements.nextSibling(f)?b.virtualElements.setDomNodeChildren(a,[a.ownerDocument.createTextNode(d)]):f.data=d;b.utils.forceRefresh(a)},setElementName:function(b,a){b.name=a;if(7>=p)try{b.mergeAttributes(d.createElement("<input name='"+
b.name+"'/>"),!1)}catch(c){}},forceRefresh:function(b){9<=p&&(b=1==b.nodeType?b:b.parentNode,b.style&&(b.style.zoom=b.style.zoom))},ensureSelectElementIsRenderedCorrectly:function(b){if(p){var a=b.style.width;b.style.width=0;b.style.width=a}},range:function(a,c){a=b.utils.unwrapObservable(a);c=b.utils.unwrapObservable(c);for(var d=[],f=a;f<=c;f++)d.push(f);return d},makeArray:function(b){for(var a=[],c=0,d=b.length;c<d;c++)a.push(b[c]);return a},isIe6:6===p,isIe7:7===p,ieVersion:p,getFormFields:function(a,
c){for(var d=b.utils.makeArray(a.getElementsByTagName("input")).concat(b.utils.makeArray(a.getElementsByTagName("textarea"))),f="string"==typeof c?function(b){return b.name===c}:function(b){return c.test(b.name)},g=[],e=d.length-1;0<=e;e--)f(d[e])&&g.push(d[e]);return g},parseJson:function(a){return"string"==typeof a&&(a=b.utils.stringTrim(a))?r&&r.parse?r.parse(a):(new Function("return "+a))():null},stringifyJson:function(a,c,d){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return r.stringify(b.utils.unwrapObservable(a),c,d)},postJson:function(a,c,g){g=g||{};var e=g.params||{},k=g.includeFields||this.fieldsIncludedWithJsonPost,n=a;if("object"==typeof a&&"form"===b.utils.tagNameLower(a))for(var n=a.action,p=k.length-1;0<=p;p--)for(var t=b.utils.getFormFields(a,k[p]),m=t.length-1;0<=m;m--)e[t[m].name]=t[m].value;c=b.utils.unwrapObservable(c);var u=d.createElement("form");u.style.display="none";u.action=n;u.method="post";for(var q in c)a=d.createElement("input"),a.type=
"hidden",a.name=q,a.value=b.utils.stringifyJson(b.utils.unwrapObservable(c[q])),u.appendChild(a);f(e,function(b,a){var c=d.createElement("input");c.type="hidden";c.name=b;c.value=a;u.appendChild(c)});d.body.appendChild(u);g.submitter?g.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();b.exportSymbol("utils",b.utils);b.exportSymbol("utils.arrayForEach",b.utils.arrayForEach);b.exportSymbol("utils.arrayFirst",b.utils.arrayFirst);b.exportSymbol("utils.arrayFilter",b.utils.arrayFilter);
b.exportSymbol("utils.arrayGetDistinctValues",b.utils.arrayGetDistinctValues);b.exportSymbol("utils.arrayIndexOf",b.utils.arrayIndexOf);b.exportSymbol("utils.arrayMap",b.utils.arrayMap);b.exportSymbol("utils.arrayPushAll",b.utils.arrayPushAll);b.exportSymbol("utils.arrayRemoveItem",b.utils.arrayRemoveItem);b.exportSymbol("utils.extend",b.utils.extend);b.exportSymbol("utils.fieldsIncludedWithJsonPost",b.utils.fieldsIncludedWithJsonPost);b.exportSymbol("utils.getFormFields",b.utils.getFormFields);b.exportSymbol("utils.peekObservable",
b.utils.peekObservable);b.exportSymbol("utils.postJson",b.utils.postJson);b.exportSymbol("utils.parseJson",b.utils.parseJson);b.exportSymbol("utils.registerEventHandler",b.utils.registerEventHandler);b.exportSymbol("utils.stringifyJson",b.utils.stringifyJson);b.exportSymbol("utils.range",b.utils.range);b.exportSymbol("utils.toggleDomNodeCssClass",b.utils.toggleDomNodeCssClass);b.exportSymbol("utils.triggerEvent",b.utils.triggerEvent);b.exportSymbol("utils.unwrapObservable",b.utils.unwrapObservable);
b.exportSymbol("utils.objectForEach",b.utils.objectForEach);b.exportSymbol("utils.addOrRemoveItem",b.utils.addOrRemoveItem);b.exportSymbol("utils.setTextContent",b.utils.setTextContent);b.exportSymbol("unwrap",b.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(b){var a=this;if(1===arguments.length)return function(){return a.apply(b,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return a.apply(b,
d)}});b.utils.domData=new function(){function b(f,e){var x=f[c];if(!x||"null"===x||!d[x]){if(!e)return h;x=f[c]="ko"+a++;d[x]={}}return d[x]}var a=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(a,c){var d=b(a,!1);return d===h?h:d[c]},set:function(a,c,d){if(d!==h||b(a,!1)!==h)b(a,!0)[c]=d},clear:function(b){var a=b[c];return a?(delete d[a],b[c]=null,!0):!1},nextKey:function(){return a++ +c}}};b.exportSymbol("utils.domData",b.utils.domData);b.exportSymbol("utils.domData.clear",b.utils.domData.clear);
b.utils.domNodeDisposal=new function(){function a(c,d){var f=b.utils.domData.get(c,g);f===h&&d&&(f=[],b.utils.domData.set(c,g,f));return f}function d(c){var g=a(c,!1);if(g)for(var g=g.slice(0),e=0;e<g.length;e++)g[e](c);b.utils.domData.clear(c);b.utils.domNodeDisposal.cleanExternalData(c);if(q[c.nodeType])for(g=c.firstChild;c=g;)g=c.nextSibling,8===c.nodeType&&d(c)}var g=b.utils.domData.nextKey(),e={1:!0,8:!0,9:!0},q={1:!0,9:!0};return{addDisposeCallback:function(b,c){if("function"!=typeof c)throw Error("Callback must be a function");
a(b,!0).push(c)},removeDisposeCallback:function(c,d){var e=a(c,!1);e&&(b.utils.arrayRemoveItem(e,d),0==e.length&&b.utils.domData.set(c,g,h))},cleanNode:function(a){if(e[a.nodeType]&&(d(a),q[a.nodeType])){var c=[];b.utils.arrayPushAll(c,a.getElementsByTagName("*"));for(var f=0,g=c.length;f<g;f++)d(c[f])}return a},removeNode:function(a){b.cleanNode(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(b){c&&"function"==typeof c.cleanData&&c.cleanData([b])}}};b.cleanNode=b.utils.domNodeDisposal.cleanNode;
b.removeNode=b.utils.domNodeDisposal.removeNode;b.exportSymbol("cleanNode",b.cleanNode);b.exportSymbol("removeNode",b.removeNode);b.exportSymbol("utils.domNodeDisposal",b.utils.domNodeDisposal);b.exportSymbol("utils.domNodeDisposal.addDisposeCallback",b.utils.domNodeDisposal.addDisposeCallback);b.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",b.utils.domNodeDisposal.removeDisposeCallback);(function(){b.utils.parseHtmlFragment=function(a,n){var g;if(c)if(c.parseHTML)g=c.parseHTML(a,n)||
[];else{if((g=c.clean([a],n))&&g[0]){for(var k=g[0];k.parentNode&&11!==k.parentNode.nodeType;)k=k.parentNode;k.parentNode&&k.parentNode.removeChild(k)}}else{(k=n)||(k=d);g=k.parentWindow||k.defaultView||e;var q=b.utils.stringTrim(a).toLowerCase(),k=k.createElement("div"),q=q.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!q.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!q.indexOf("<td")||!q.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],m="ignored<div>"+
q[1]+a+q[2]+"</div>";for("function"==typeof g.innerShiv?k.appendChild(g.innerShiv(m)):k.innerHTML=m;q[0]--;)k=k.lastChild;g=b.utils.makeArray(k.lastChild.childNodes)}return g};b.utils.setHtml=function(a,d){b.utils.emptyDomNode(a);d=b.utils.unwrapObservable(d);if(null!==d&&d!==h)if("string"!=typeof d&&(d=d.toString()),c)c(a).html(d);else for(var g=b.utils.parseHtmlFragment(d,a.ownerDocument),e=0;e<g.length;e++)a.appendChild(g[e])}})();b.exportSymbol("utils.parseHtmlFragment",b.utils.parseHtmlFragment);
b.exportSymbol("utils.setHtml",b.utils.setHtml);b.memoization=function(){function a(c,d){if(c)if(8==c.nodeType){var e=b.memoization.parseMemoText(c.nodeValue);null!=e&&d.push({domNode:c,memoId:e})}else if(1==c.nodeType)for(var e=0,n=c.childNodes,h=n.length;e<h;e++)a(n[e],d)}var c={};return{memoize:function(b){if("function"!=typeof b)throw Error("You can only pass a function to ko.memoization.memoize()");var a=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|
0).toString(16).substring(1);c[a]=b;return"\x3c!--[ko_memo:"+a+"]--\x3e"},unmemoize:function(b,a){var d=c[b];if(d===h)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return d.apply(null,a||[]),!0}finally{delete c[b]}},unmemoizeDomNodeAndDescendants:function(c,d){var e=[];a(c,e);for(var n=0,h=e.length;n<h;n++){var u=e[n].domNode,t=[u];d&&b.utils.arrayPushAll(t,d);b.memoization.unmemoize(e[n].memoId,t);u.nodeValue="";u.parentNode&&u.parentNode.removeChild(u)}},
parseMemoText:function(b){return(b=b.match(/^\[ko_memo\:(.*?)\]$/))?b[1]:null}}}();b.exportSymbol("memoization",b.memoization);b.exportSymbol("memoization.memoize",b.memoization.memoize);b.exportSymbol("memoization.unmemoize",b.memoization.unmemoize);b.exportSymbol("memoization.parseMemoText",b.memoization.parseMemoText);b.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",b.memoization.unmemoizeDomNodeAndDescendants);b.extenders={throttle:function(a,c){a.throttleEvaluation=c;var d=null;return b.dependentObservable({read:a,
write:function(b){clearTimeout(d);d=setTimeout(function(){a(b)},c)}})},rateLimit:function(b,a){var c,d,e;"number"==typeof a?c=a:(c=a.timeout,d=a.method);e="notifyWhenChangesStop"==d?F:v;b.limit(function(b){return e(b,c)})},notify:function(b,a){b.equalityComparer="always"==a?null:z}};var A={undefined:1,"boolean":1,number:1,string:1};b.exportSymbol("extenders",b.extenders);b.subscription=function(a,c,d){this._target=a;this.callback=c;this.disposeCallback=d;this.isDisposed=!1;b.exportProperty(this,"dispose",
this.dispose)};b.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};b.subscribable=function(){b.utils.setPrototypeOfOrExtend(this,b.subscribable.fn);this._subscriptions={};this._versionNumber=1};var J={subscribe:function(a,c,d){var e=this;d=d||"change";a=c?a.bind(c):a;var q=new b.subscription(e,a,function(){b.utils.arrayRemoveItem(e._subscriptions[d],q);e.afterSubscriptionRemove&&e.afterSubscriptionRemove(d)});e.beforeSubscriptionAdd&&e.beforeSubscriptionAdd(d);e._subscriptions[d]||
(e._subscriptions[d]=[]);e._subscriptions[d].push(q);return q},notifySubscribers:function(a,c){c=c||"change";"change"===c&&this.updateVersion();if(this.hasSubscriptionsForEvent(c))try{b.dependencyDetection.begin();for(var d=this._subscriptions[c].slice(0),e=0,q;q=d[e];++e)q.isDisposed||q.callback(a)}finally{b.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(b){return this.getVersion()!==b},updateVersion:function(){++this._versionNumber},limit:function(a){var c=
this,d=b.isObservable(c),e,q,m;c._origNotifySubscribers||(c._origNotifySubscribers=c.notifySubscribers,c.notifySubscribers=function(b,a){a&&"change"!==a?"beforeChange"===a?c._rateLimitedBeforeChange(b):c._origNotifySubscribers(b,a):c._rateLimitedChange(b)});var h=a(function(){d&&m===c&&(m=c());e=!1;c.isDifferent(q,m)&&c._origNotifySubscribers(q=m)});c._rateLimitedChange=function(b){e=!0;m=b;h()};c._rateLimitedBeforeChange=function(b){e||(q=b,c._origNotifySubscribers(b,"beforeChange"))}},hasSubscriptionsForEvent:function(b){return this._subscriptions[b]&&
this._subscriptions[b].length},getSubscriptionsCount:function(a){if(a)return this._subscriptions[a]&&this._subscriptions[a].length||0;var c=0;b.utils.objectForEach(this._subscriptions,function(b,a){c+=a.length});return c},isDifferent:function(b,a){return!this.equalityComparer||!this.equalityComparer(b,a)},extend:function(a){var c=this;a&&b.utils.objectForEach(a,function(a,d){var f=b.extenders[a];"function"==typeof f&&(c=f(c,d)||c)});return c}};b.exportProperty(J,"subscribe",J.subscribe);b.exportProperty(J,
"extend",J.extend);b.exportProperty(J,"getSubscriptionsCount",J.getSubscriptionsCount);b.utils.canSetPrototype&&b.utils.setPrototypeOf(J,Function.prototype);b.subscribable.fn=J;b.isSubscribable=function(b){return null!=b&&"function"==typeof b.subscribe&&"function"==typeof b.notifySubscribers};b.exportSymbol("subscribable",b.subscribable);b.exportSymbol("isSubscribable",b.isSubscribable);b.computedContext=b.dependencyDetection=function(){function a(b){d.push(e);e=b}function c(){e=d.pop()}var d=[],
e,q=0;return{begin:a,end:c,registerDependency:function(a){if(e){if(!b.isSubscribable(a))throw Error("Only subscribable things can act as dependencies");e.callback(a,a._id||(a._id=++q))}},ignore:function(b,d,e){try{return a(),b.apply(d,e||[])}finally{c()}},getDependenciesCount:function(){if(e)return e.computed.getDependenciesCount()},isInitial:function(){if(e)return e.isInitial}}}();b.exportSymbol("computedContext",b.computedContext);b.exportSymbol("computedContext.getDependenciesCount",b.computedContext.getDependenciesCount);
b.exportSymbol("computedContext.isInitial",b.computedContext.isInitial);b.exportSymbol("computedContext.isSleeping",b.computedContext.isSleeping);b.exportSymbol("ignoreDependencies",b.ignoreDependencies=b.dependencyDetection.ignore);b.observable=function(a){function c(){if(0<arguments.length)return c.isDifferent(d,arguments[0])&&(c.valueWillMutate(),d=arguments[0],c._latestValue=d,c.valueHasMutated()),this;b.dependencyDetection.registerDependency(c);return d}var d=a;b.subscribable.call(c);b.utils.setPrototypeOfOrExtend(c,
b.observable.fn);c._latestValue=d;c.peek=function(){return d};c.valueHasMutated=function(){c.notifySubscribers(d)};c.valueWillMutate=function(){c.notifySubscribers(d,"beforeChange")};b.exportProperty(c,"peek",c.peek);b.exportProperty(c,"valueHasMutated",c.valueHasMutated);b.exportProperty(c,"valueWillMutate",c.valueWillMutate);return c};b.observable.fn={equalityComparer:z};var D=b.observable.protoProperty="__ko_proto__";b.observable.fn[D]=b.observable;b.utils.canSetPrototype&&b.utils.setPrototypeOf(b.observable.fn,
b.subscribable.fn);b.hasPrototype=function(a,c){return null===a||a===h||a[D]===h?!1:a[D]===c?!0:b.hasPrototype(a[D],c)};b.isObservable=function(a){return b.hasPrototype(a,b.observable)};b.isWriteableObservable=function(a){return"function"==typeof a&&a[D]===b.observable||"function"==typeof a&&a[D]===b.dependentObservable&&a.hasWriteFunction?!0:!1};b.exportSymbol("observable",b.observable);b.exportSymbol("isObservable",b.isObservable);b.exportSymbol("isWriteableObservable",b.isWriteableObservable);
b.exportSymbol("isWritableObservable",b.isWriteableObservable);b.observableArray=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=b.observable(a);b.utils.setPrototypeOfOrExtend(a,b.observableArray.fn);return a.extend({trackArrayChanges:!0})};b.observableArray.fn={remove:function(a){for(var c=this.peek(),d=[],e="function"!=typeof a||b.isObservable(a)?function(b){return b===
a}:a,q=0;q<c.length;q++){var m=c[q];e(m)&&(0===d.length&&this.valueWillMutate(),d.push(m),c.splice(q,1),q--)}d.length&&this.valueHasMutated();return d},removeAll:function(a){if(a===h){var c=this.peek(),d=c.slice(0);this.valueWillMutate();c.splice(0,c.length);this.valueHasMutated();return d}return a?this.remove(function(c){return 0<=b.utils.arrayIndexOf(a,c)}):[]},destroy:function(a){var c=this.peek(),d="function"!=typeof a||b.isObservable(a)?function(b){return b===a}:a;this.valueWillMutate();for(var e=
c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.valueHasMutated()},destroyAll:function(a){return a===h?this.destroy(function(){return!0}):a?this.destroy(function(c){return 0<=b.utils.arrayIndexOf(a,c)}):[]},indexOf:function(a){var c=this();return b.utils.arrayIndexOf(c,a)},replace:function(b,a){var c=this.indexOf(b);0<=c&&(this.valueWillMutate(),this.peek()[c]=a,this.valueHasMutated())}};b.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(a){b.observableArray.fn[a]=
function(){var b=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(b,a,arguments);b=b[a].apply(b,arguments);this.valueHasMutated();return b}});b.utils.arrayForEach(["slice"],function(a){b.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.utils.canSetPrototype&&b.utils.setPrototypeOf(b.observableArray.fn,b.observable.fn);b.exportSymbol("observableArray",b.observableArray);b.extenders.trackArrayChanges=function(a){function c(){if(!d){d=!0;var t=a.notifySubscribers;
a.notifySubscribers=function(b,a){a&&"change"!==a||++m;return t.apply(this,arguments)};var p=[].concat(a.peek()||[]);e=null;q=a.subscribe(function(c){c=[].concat(c||[]);if(a.hasSubscriptionsForEvent("arrayChange")){var d;if(!e||1<m)e=b.utils.compareArrays(p,c,{sparse:!0});d=e}p=c;e=null;m=0;d&&d.length&&a.notifySubscribers(d,"arrayChange")})}}if(!a.cacheDiffForKnownOperation){var d=!1,e=null,q,m=0,h=a.beforeSubscriptionAdd,u=a.afterSubscriptionRemove;a.beforeSubscriptionAdd=function(b){h&&h.call(a,
b);"arrayChange"===b&&c()};a.afterSubscriptionRemove=function(b){u&&u.call(a,b);"arrayChange"!==b||a.hasSubscriptionsForEvent("arrayChange")||(q.dispose(),d=!1)};a.cacheDiffForKnownOperation=function(a,c,f){function n(b,a,c){return u[u.length]={status:b,value:a,index:c}}if(d&&!m){var u=[],q=a.length,h=f.length,x=0;switch(c){case "push":x=q;case "unshift":for(c=0;c<h;c++)n("added",f[c],x+c);break;case "pop":x=q-1;case "shift":q&&n("deleted",a[x],x);break;case "splice":c=Math.min(Math.max(0,0>f[0]?
q+f[0]:f[0]),q);for(var q=1===h?q:Math.min(c+(f[1]||0),q),h=c+h-2,x=Math.max(q,h),l=[],L=[],B=2;c<x;++c,++B)c<q&&L.push(n("deleted",a[c],c)),c<h&&l.push(n("added",f[B],c));b.utils.findMovesInArrayComparison(L,l);break;default:return}e=u}}}};b.computed=b.dependentObservable=function(a,c,d){function e(b,a,c){if(B&&a===t)throw Error("A 'pure' computed must not be called recursively");A[b]=c;c._order=D++;c._version=a.getVersion()}function q(){var b,a;for(b in A)if(A.hasOwnProperty(b)&&(a=A[b],a._target.hasChanged(a._version)))return!0}
function m(){!E&&A&&b.utils.objectForEach(A,function(b,a){a.dispose&&a.dispose()});A=null;D=0;O=!0;E=G=!1}function x(){var b=t.throttleEvaluation;b&&0<=b?(clearTimeout(F),F=setTimeout(function(){u(!0)},b)):t._evalRateLimited?t._evalRateLimited():u(!0)}function u(a){if(!N&&!O){if(z&&z()){if(!M){C();return}}else M=!1;N=!0;try{var d=A,f=D,g=B?h:!D;b.dependencyDetection.begin({callback:function(b,a){O||(f&&d[a]?(e(a,b,d[a]),delete d[a],--f):A[a]||e(a,b,E?{_target:b}:b.subscribe(x)))},computed:t,isInitial:g});
A={};D=0;try{var p=c?L.call(c):L()}finally{b.dependencyDetection.end(),f&&!E&&b.utils.objectForEach(d,function(b,a){a.dispose&&a.dispose()}),G=!1}t.isDifferent(l,p)&&(E||y(l,"beforeChange"),l=p,t._latestValue=l,E?t.updateVersion():a&&y(l));g&&y(l,"awake")}finally{N=!1}D||C()}}function t(){if(0<arguments.length){if("function"===typeof r)r.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}b.dependencyDetection.registerDependency(t);(G||E&&q())&&u();return l}function p(){(G&&!D||E&&q())&&u();return l}function H(){return G||0<D}function y(b,a){t.notifySubscribers(b,a)}var l,G=!0,N=!1,M=!1,O=!1,L=a,B=!1,E=!1;L&&"object"==typeof L?(d=L,L=d.read):(d=d||{},L||(L=d.read));if("function"!=typeof L)throw Error("Pass a function that returns the value of the ko.computed");var r=d.write,w=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,v=d.disposeWhen||d.disposeWhen,z=
v,C=m,A={},D=0,F=null;c||(c=d.owner);b.subscribable.call(t);b.utils.setPrototypeOfOrExtend(t,b.dependentObservable.fn);t.peek=p;t.getDependenciesCount=function(){return D};t.hasWriteFunction="function"===typeof r;t.dispose=function(){C()};t.isActive=H;var J=t.limit;t.limit=function(b){J.call(t,b);t._evalRateLimited=function(){t._rateLimitedBeforeChange(l);G=!0;t._rateLimitedChange(t)}};d.pure?(E=B=!0,t.beforeSubscriptionAdd=function(a){if(!O&&E&&"change"==a){E=!1;if(G||q())A=null,D=0,G=!0,u();else{var c=
[];b.utils.objectForEach(A,function(b,a){c[a._order]=b});b.utils.arrayForEach(c,function(b,a){var c=A[b],d=c._target.subscribe(x);d._order=a;d._version=c._version;A[b]=d})}O||y(l,"awake")}},t.afterSubscriptionRemove=function(a){O||"change"!=a||t.hasSubscriptionsForEvent("change")||(b.utils.objectForEach(A,function(b,a){a.dispose&&(A[b]={_target:a._target,_order:a._order,_version:a._version},a.dispose())}),E=!0,y(h,"asleep"))},t._originalGetVersion=t.getVersion,t.getVersion=function(){E&&(G||q())&&
u();return t._originalGetVersion()}):d.deferEvaluation&&(t.beforeSubscriptionAdd=function(b){"change"!=b&&"beforeChange"!=b||p()});b.exportProperty(t,"peek",t.peek);b.exportProperty(t,"dispose",t.dispose);b.exportProperty(t,"isActive",t.isActive);b.exportProperty(t,"getDependenciesCount",t.getDependenciesCount);w&&(M=!0,w.nodeType&&(z=function(){return!b.utils.domNodeIsAttachedToDocument(w)||v&&v()}));E||d.deferEvaluation||u();w&&H()&&w.nodeType&&(C=function(){b.utils.domNodeDisposal.removeDisposeCallback(w,
C);m()},b.utils.domNodeDisposal.addDisposeCallback(w,C));return t};b.isComputed=function(a){return b.hasPrototype(a,b.dependentObservable)};J=b.observable.protoProperty;b.dependentObservable[J]=b.observable;b.dependentObservable.fn={equalityComparer:z};b.dependentObservable.fn[J]=b.dependentObservable;b.utils.canSetPrototype&&b.utils.setPrototypeOf(b.dependentObservable.fn,b.subscribable.fn);b.exportSymbol("dependentObservable",b.dependentObservable);b.exportSymbol("computed",b.dependentObservable);
b.exportSymbol("isComputed",b.isComputed);b.pureComputed=function(a,c){if("function"===typeof a)return b.computed(a,c,{pure:!0});a=b.utils.extend({},a);a.pure=!0;return b.computed(a,c)};b.exportSymbol("pureComputed",b.pureComputed);(function(){function a(b,e,m){m=m||new d;b=e(b);if("object"!=typeof b||null===b||b===h||b instanceof Date||b instanceof String||b instanceof Number||b instanceof Boolean)return b;var x=b instanceof Array?[]:{};m.save(b,x);c(b,function(c){var d=e(b[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":x[c]=
d;break;case "object":case "undefined":var g=m.get(d);x[c]=g!==h?g:a(d,e,m)}});return x}function c(b,a){if(b instanceof Array){for(var d=0;d<b.length;d++)a(d);"function"==typeof b.toJSON&&a("toJSON")}else for(d in b)a(d)}function d(){this.keys=[];this.values=[]}b.toJS=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return a(c,function(a){for(var c=0;b.isObservable(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,c,d){a=b.toJS(a);return b.utils.stringifyJson(a,
c,d)};d.prototype={constructor:d,save:function(a,c){var d=b.utils.arrayIndexOf(this.keys,a);0<=d?this.values[d]=c:(this.keys.push(a),this.values.push(c))},get:function(a){a=b.utils.arrayIndexOf(this.keys,a);return 0<=a?this.values[a]:h}}})();b.exportSymbol("toJS",b.toJS);b.exportSymbol("toJSON",b.toJSON);(function(){b.selectExtensions={readValue:function(a){switch(b.utils.tagNameLower(a)){case "option":return!0===a.__ko__hasDomDataOptionValue__?b.utils.domData.get(a,b.bindingHandlers.options.optionValueDomDataKey):
7>=b.utils.ieVersion?a.getAttributeNode("value")&&a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.selectExtensions.readValue(a.options[a.selectedIndex]):h;default:return a.value}},writeValue:function(a,c,d){switch(b.utils.tagNameLower(a)){case "option":switch(typeof c){case "string":b.utils.domData.set(a,b.bindingHandlers.options.optionValueDomDataKey,h);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=c;break;
default:b.utils.domData.set(a,b.bindingHandlers.options.optionValueDomDataKey,c),a.__ko__hasDomDataOptionValue__=!0,a.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=h;for(var e=-1,q=0,m=a.options.length,x;q<m;++q)if(x=b.selectExtensions.readValue(a.options[q]),x==c||""==x&&c===h){e=q;break}if(d||0<=e||c===h&&1<a.size)a.selectedIndex=e;break;default:if(null===c||c===h)c="";a.value=c}}}})();b.exportSymbol("selectExtensions",b.selectExtensions);b.exportSymbol("selectExtensions.readValue",
b.selectExtensions.readValue);b.exportSymbol("selectExtensions.writeValue",b.selectExtensions.writeValue);b.expressionRewriting=function(){function a(c){c=b.utils.stringTrim(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],f=c.match(e),g,n=[],h=0;if(f){f.push(",");for(var G=0,l;l=f[G];++G){var x=l.charCodeAt(0);if(44===x){if(0>=h){d.push(g&&n.length?{key:g,value:n.join("")}:{unknown:g||n.join("")});g=h=0;n=[];continue}}else if(58===x){if(!h&&!g&&1===n.length){g=n.pop();continue}}else 47===x&&
G&&1<l.length?(x=f[G-1].match(q))&&!m[x[0]]&&(c=c.substr(c.indexOf(l)+1),f=c.match(e),f.push(","),G=-1,l="/"):40===x||123===x||91===x?++h:41===x||125===x||93===x?--h:g||n.length||34!==x&&39!==x||(l=l.slice(1,-1));n.push(l)}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,q=/[\])"'A-Za-z0-9_$]+$/,m={"in":1,"return":1,"typeof":1},
h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:a,preProcessBindings:function(e,k){function p(a,e){var f;if(!G){var k=b.getBindingHandler(a);if(k&&k.preprocess&&!(e=k.preprocess(e,a,p)))return;if(k=h[a])f=e,0<=b.utils.arrayIndexOf(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&m.push("'"+a+"':function(_z){"+f+"=_z}")}l&&(e="function(){return "+e+" }");q.push("'"+a+"':"+e)}k=k||{};var q=[],m=[],l=k.valueAccessors,G=k.bindingParams,N="string"===
typeof e?a(e):e;b.utils.arrayForEach(N,function(b){p(b.key||b.unknown,b.value)});m.length&&p("_ko_property_writers","{"+m.join(",")+" }");return q.join(",")},keyValueArrayContainsKey:function(b,a){for(var c=0;c<b.length;c++)if(b[c].key==a)return!0;return!1},writeValueToProperty:function(a,c,d,e,f){if(a&&b.isObservable(a))!b.isWriteableObservable(a)||f&&a.peek()===e||a(e);else if((a=c.get("_ko_property_writers"))&&a[d])a[d](e)}}}();b.exportSymbol("expressionRewriting",b.expressionRewriting);b.exportSymbol("expressionRewriting.bindingRewriteValidators",
b.expressionRewriting.bindingRewriteValidators);b.exportSymbol("expressionRewriting.parseObjectLiteral",b.expressionRewriting.parseObjectLiteral);b.exportSymbol("expressionRewriting.preProcessBindings",b.expressionRewriting.preProcessBindings);b.exportSymbol("expressionRewriting._twoWayBindings",b.expressionRewriting.twoWayBindings);b.exportSymbol("jsonExpressionRewriting",b.expressionRewriting);b.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.expressionRewriting.preProcessBindings);
(function(){function a(b){return 8==b.nodeType&&m.test(q?b.text:b.nodeValue)}function c(b){return 8==b.nodeType&&h.test(q?b.text:b.nodeValue)}function e(b,d){for(var g=b,k=1,u=[];g=g.nextSibling;){if(c(g)&&(k--,0===k))return u;u.push(g);a(g)&&k++}if(!d)throw Error("Cannot find closing comment tag to match: "+b.nodeValue);return null}function k(b,a){var c=e(b,a);return c?0<c.length?c[c.length-1].nextSibling:b.nextSibling:null}var q=d&&"\x3c!--test--\x3e"===d.createComment("test").text,m=q?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:
/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=q?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};b.virtualElements={allowedBindings:{},childNodes:function(b){return a(b)?e(b):b.childNodes},emptyNode:function(c){if(a(c)){c=b.virtualElements.childNodes(c);for(var d=0,e=c.length;d<e;d++)b.removeNode(c[d])}else b.utils.emptyDomNode(c)},setDomNodeChildren:function(c,d){if(a(c)){b.virtualElements.emptyNode(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++)e.parentNode.insertBefore(d[g],e)}else b.utils.setDomNodeChildren(c,
d)},prepend:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},insertAfter:function(c,d,e){e?a(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):b.virtualElements.prepend(c,d)},firstChild:function(b){return a(b)?!b.nextSibling||c(b.nextSibling)?null:b.nextSibling:b.firstChild},nextSibling:function(b){a(b)&&(b=k(b));return b.nextSibling&&c(b.nextSibling)?null:b.nextSibling},
hasBindingValue:a,virtualNodeBindingValue:function(b){return(b=(q?b.text:b.nodeValue).match(m))?b[1]:null},normaliseVirtualElementDomStructure:function(d){if(u[b.utils.tagNameLower(d)]){var e=d.firstChild;if(e){do if(1===e.nodeType){var g;g=e.firstChild;var q=null;if(g){do if(q)q.push(g);else if(a(g)){var m=k(g,!0);m?g=m:q=[g]}else c(g)&&(q=[g]);while(g=g.nextSibling)}if(g=q)for(q=e.nextSibling,m=0;m<g.length;m++)q?d.insertBefore(g[m],q):d.appendChild(g[m])}while(e=e.nextSibling)}}}}})();b.exportSymbol("virtualElements",
b.virtualElements);b.exportSymbol("virtualElements.allowedBindings",b.virtualElements.allowedBindings);b.exportSymbol("virtualElements.emptyNode",b.virtualElements.emptyNode);b.exportSymbol("virtualElements.insertAfter",b.virtualElements.insertAfter);b.exportSymbol("virtualElements.prepend",b.virtualElements.prepend);b.exportSymbol("virtualElements.setDomNodeChildren",b.virtualElements.setDomNodeChildren);(function(){b.bindingProvider=function(){this.bindingCache={}};b.utils.extend(b.bindingProvider.prototype,
{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||b.components.getComponentNameForNode(a);case 8:return b.virtualElements.hasBindingValue(a);default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a):null;return b.components.addBindingsForCustomElement(d,a,c,!1)},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c),d=d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null;return b.components.addBindingsForCustomElement(d,
a,c,!0)},getBindingsString:function(a,c){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.virtualElements.virtualNodeBindingValue(a);default:return null}},parseBindingsString:function(a,c,d,e){try{var q=this.bindingCache,m=a+(e&&e.valueAccessors||""),h;if(!(h=q[m])){var u,t="with($context){with($data||{}){return{"+b.expressionRewriting.preProcessBindings(a,e)+"}}}";u=new Function("$context","$element",t);h=q[m]=u}return h(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+
a+"\nMessage: "+p.message,p;}}});b.bindingProvider.instance=new b.bindingProvider})();b.exportSymbol("bindingProvider",b.bindingProvider);(function(){function a(b){return function(){return b}}function d(b){return b()}function g(a){return b.utils.objectMap(b.dependencyDetection.ignore(a),function(b,c){return function(){return a()[c]}})}function k(c,d,e){return"function"===typeof c?g(c.bind(null,d,e)):b.utils.objectMap(c,a)}function q(b,a){return g(this.getBindings.bind(this,b,a))}function m(a,c,d){var e,
f=b.virtualElements.firstChild(c),g=b.bindingProvider.instance,k=g.preprocessNode;if(k){for(;e=f;)f=b.virtualElements.nextSibling(e),k.call(g,e);f=b.virtualElements.firstChild(c)}for(;e=f;)f=b.virtualElements.nextSibling(e),l(a,e,d)}function l(a,c,d){var e=!0,f=1===c.nodeType;f&&b.virtualElements.normaliseVirtualElementDomStructure(c);if(f&&d||b.bindingProvider.instance.nodeHasBindings(c))e=t(c,null,a,d).shouldBindDescendants;e&&!H[b.utils.tagNameLower(c)]&&m(a,c,!f)}function u(a){var c=[],d={},e=
[];b.utils.objectForEach(a,function B(f){if(!d[f]){var g=b.getBindingHandler(f);g&&(g.after&&(e.push(f),b.utils.arrayForEach(g.after,function(c){if(a[c]){if(-1!==b.utils.arrayIndexOf(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));B(c)}}),e.length--),c.push({key:f,handler:g}));d[f]=!0}});return c}function t(a,c,e,f){var g=b.utils.domData.get(a,y);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");
b.utils.domData.set(a,y,!0)}!g&&f&&b.storedBindingContextForNode(a,e);var k;if(c&&"function"!==typeof c)k=c;else{var p=b.bindingProvider.instance,m=p.getBindingAccessors||q,t=b.dependentObservable(function(){(k=c?c(e,a):m.call(p,a,e))&&e._subscribable&&e._subscribable();return k},null,{disposeWhenNodeIsRemoved:a});k&&t.isActive()||(t=null)}var l;if(k){var H=function(){return b.utils.objectMap(t?t():k,d)},x=t?function(b){return function(){return d(t()[b])}}:function(b){return k[b]};H.get=function(b){return k[b]&&
d(x(b))};H.has=function(b){return b in k};f=u(k);b.utils.arrayForEach(f,function(c){var d=c.handler.init,f=c.handler.update,g=c.key;if(8===a.nodeType&&!b.virtualElements.allowedBindings[g])throw Error("The binding '"+g+"' cannot be used with virtual elements");try{"function"==typeof d&&b.dependencyDetection.ignore(function(){var b=d(a,x(g),H,e.$data,e);if(b&&b.controlsDescendantBindings){if(l!==h)throw Error("Multiple bindings ("+l+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
l=g}}),"function"==typeof f&&b.dependentObservable(function(){f(a,x(g),H,e.$data,e)},null,{disposeWhenNodeIsRemoved:a})}catch(p){throw p.message='Unable to process binding "'+g+": "+k[g]+'"\nMessage: '+p.message,p;}})}return{shouldBindDescendants:l===h}}function p(a){return a&&a instanceof b.bindingContext?a:new b.bindingContext(a)}b.bindingHandlers={};var H={script:!0,textarea:!0};b.getBindingHandler=function(a){return b.bindingHandlers[a]};b.bindingContext=function(a,c,d,e){var f=this,g="function"==
typeof a&&!b.isObservable(a),k,p=b.dependentObservable(function(){var k=g?a():a,n=b.utils.unwrapObservable(k);c?(c._subscribable&&c._subscribable(),b.utils.extend(f,c),p&&(f._subscribable=p)):(f.$parents=[],f.$root=n,f.ko=b);f.$rawData=k;f.$data=n;d&&(f[d]=n);e&&e(f,c,n);return f.$data},null,{disposeWhen:function(){return k&&!b.utils.anyDomNodeIsAttachedToDocument(k)},disposeWhenNodeIsRemoved:!0});p.isActive()&&(f._subscribable=p,p.equalityComparer=null,k=[],p._addNode=function(a){k.push(a);b.utils.domNodeDisposal.addDisposeCallback(a,
function(a){b.utils.arrayRemoveItem(k,a);k.length||(p.dispose(),f._subscribable=p=h)})})};b.bindingContext.prototype.createChildContext=function(a,c,d){return new b.bindingContext(a,this,c,function(b,a){b.$parentContext=a;b.$parent=a.$data;b.$parents=(a.$parents||[]).slice(0);b.$parents.unshift(b.$parent);d&&d(b)})};b.bindingContext.prototype.extend=function(a){return new b.bindingContext(this._subscribable||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;b.utils.extend(c,"function"==typeof a?
a():a)})};var y=b.utils.domData.nextKey(),P=b.utils.domData.nextKey();b.storedBindingContextForNode=function(a,c){if(2==arguments.length)b.utils.domData.set(a,P,c),c._subscribable&&c._subscribable._addNode(a);else return b.utils.domData.get(a,P)};b.applyBindingAccessorsToNode=function(a,c,d){1===a.nodeType&&b.virtualElements.normaliseVirtualElementDomStructure(a);return t(a,c,p(d),!0)};b.applyBindingsToNode=function(a,c,d){d=p(d);return b.applyBindingAccessorsToNode(a,k(c,d,a),d)};b.applyBindingsToDescendants=
function(b,a){1!==a.nodeType&&8!==a.nodeType||m(p(b),a,!0)};b.applyBindings=function(b,a){!c&&e.jQuery&&(c=e.jQuery);if(a&&1!==a.nodeType&&8!==a.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");a=a||e.document.body;l(p(b),a,!0)};b.contextFor=function(a){switch(a.nodeType){case 1:case 8:var c=b.storedBindingContextForNode(a);if(c)return c;if(a.parentNode)return b.contextFor(a.parentNode)}return h};b.dataFor=function(a){return(a=
b.contextFor(a))?a.$data:h};b.exportSymbol("bindingHandlers",b.bindingHandlers);b.exportSymbol("applyBindings",b.applyBindings);b.exportSymbol("applyBindingsToDescendants",b.applyBindingsToDescendants);b.exportSymbol("applyBindingAccessorsToNode",b.applyBindingAccessorsToNode);b.exportSymbol("applyBindingsToNode",b.applyBindingsToNode);b.exportSymbol("contextFor",b.contextFor);b.exportSymbol("dataFor",b.dataFor)})();(function(a){function c(b,d){return b.hasOwnProperty(d)?b[d]:a}function d(a,f){var g=
c(m,a),q;g?g.subscribe(f):(g=m[a]=new b.subscribable,g.subscribe(f),e(a,function(b,c){var d=!(!c||!c.synchronous);h[a]={definition:b,isSynchronousComponent:d};delete m[a];q||d?g.notifySubscribers(b):setTimeout(function(){g.notifySubscribers(b)},0)}),q=!0)}function e(b,a){q("getConfig",[b],function(c){c?q("loadComponent",[b,c],function(b){a(b,c)}):a(null,null)})}function q(c,d,e,g){g||(g=b.components.loaders.slice(0));var k=g.shift();if(k){var n=k[c];if(n){var m=!1;if(n.apply(k,d.concat(function(b){m?
e(null):null!==b?e(b):q(c,d,e,g)}))!==a&&(m=!0,!k.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else q(c,d,e,g)}else e(null)}var m={},h={};b.components={get:function(a,e){var f=c(h,a);f?f.isSynchronousComponent?b.dependencyDetection.ignore(function(){e(f.definition)}):setTimeout(function(){e(f.definition)},0):d(a,e)},clearCachedDefinition:function(b){delete h[b]},_getFirstResultFromLoaders:q};b.components.loaders=
[];b.exportSymbol("components",b.components);b.exportSymbol("components.get",b.components.get);b.exportSymbol("components.clearCachedDefinition",b.components.clearCachedDefinition)})();(function(a){function c(a,d,e,f){var g={},k=2,n=function(){0===--k&&f(g)},q=e.template;e=e.viewModel;q?m(d,q,function(c){b.components._getFirstResultFromLoaders("loadTemplate",[a,c],function(b){g.template=b;n()})}):n();e?m(d,e,function(c){b.components._getFirstResultFromLoaders("loadViewModel",[a,c],function(b){g[t]=
b;n()})}):n()}function g(b,a,c){if("function"===typeof a)c(function(b){return new a(b)});else if("function"===typeof a[t])c(a[t]);else if("instance"in a){var d=a.instance;c(function(b,a){return d})}else"viewModel"in a?g(b,a.viewModel,c):b("Unknown viewModel value: "+a)}function k(a){switch(b.utils.tagNameLower(a)){case "script":return b.utils.parseHtmlFragment(a.text);case "textarea":return b.utils.parseHtmlFragment(a.value);case "template":if(q(a.content))return b.utils.cloneNodes(a.content.childNodes)}return b.utils.cloneNodes(a.childNodes)}
function q(b){return e.DocumentFragment?b instanceof DocumentFragment:b&&11===b.nodeType}function m(b,a,c){"string"===typeof a.require?C||e.require?(C||e.require)([a.require],c):b("Uses require, but no AMD loader is present"):c(a)}function h(b){return function(a){throw Error("Component '"+b+"': "+a);}}var u={};b.components.register=function(a,c){if(!c)throw Error("Invalid configuration for "+a);if(b.components.isRegistered(a))throw Error("Component "+a+" is already registered");u[a]=c};b.components.isRegistered=
function(b){return b in u};b.components.unregister=function(a){delete u[a];b.components.clearCachedDefinition(a)};b.components.defaultLoader={getConfig:function(b,a){var c=u.hasOwnProperty(b)?u[b]:null;a(c)},loadComponent:function(b,a,d){var e=h(b);m(e,a,function(a){c(b,e,a,d)})},loadTemplate:function(a,c,f){a=h(a);if("string"===typeof c)f(b.utils.parseHtmlFragment(c));else if(c instanceof Array)f(c);else if(q(c))f(b.utils.makeArray(c.childNodes));else if(c.element)if(c=c.element,e.HTMLElement?c instanceof
HTMLElement:c&&c.tagName&&1===c.nodeType)f(k(c));else if("string"===typeof c){var g=d.getElementById(c);g?f(k(g)):a("Cannot find element with ID "+c)}else a("Unknown element type: "+c);else a("Unknown template value: "+c)},loadViewModel:function(b,a,c){g(h(b),a,c)}};var t="createViewModel";b.exportSymbol("components.register",b.components.register);b.exportSymbol("components.isRegistered",b.components.isRegistered);b.exportSymbol("components.unregister",b.components.unregister);b.exportSymbol("components.defaultLoader",
b.components.defaultLoader);b.components.loaders.push(b.components.defaultLoader);b.components._allRegisteredComponents=u})();(function(a){function c(a,d){var f=a.getAttribute("params");if(f){var f=e.parseBindingsString(f,d,a,{valueAccessors:!0,bindingParams:!0}),f=b.utils.objectMap(f,function(c,d){return b.computed(c,null,{disposeWhenNodeIsRemoved:a})}),n=b.utils.objectMap(f,function(c,d){var e=c.peek();return c.isActive()?b.computed({read:function(){return b.utils.unwrapObservable(c())},write:b.isWriteableObservable(e)&&
function(b){c()(b)},disposeWhenNodeIsRemoved:a}):e});n.hasOwnProperty("$raw")||(n.$raw=f);return n}return{$raw:{}}}b.components.getComponentNameForNode=function(a){a=b.utils.tagNameLower(a);return b.components.isRegistered(a)&&a};b.components.addBindingsForCustomElement=function(a,d,e,f){if(1===d.nodeType){var g=b.components.getComponentNameForNode(d);if(g){a=a||{};if(a.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var h={name:g,params:c(d,e)};
a.component=f?function(){return h}:h}}return a};var e=new b.bindingProvider;9>b.utils.ieVersion&&(b.components.register=function(b){return function(a){d.createElement(a);return b.apply(this,arguments)}}(b.components.register),d.createDocumentFragment=function(a){return function(){var c=a(),d=b.components._allRegisteredComponents,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(d.createDocumentFragment))})();(function(a){function c(a,d,e){d=d.template;if(!d)throw Error("Component '"+
a+"' has no template");a=b.utils.cloneNodes(d);b.virtualElements.setDomNodeChildren(e,a)}function d(b,a,c,e){var f=b.createViewModel;return f?f.call(b,e,{element:a,templateNodes:c}):e}var e=0;b.bindingHandlers.component={init:function(h,m,l,u,t){var p,H,y=function(){var b=p&&p.dispose;"function"===typeof b&&b.call(p);H=null},w=b.utils.makeArray(b.virtualElements.childNodes(h));b.utils.domNodeDisposal.addDisposeCallback(h,y);b.computed(function(){var u=b.utils.unwrapObservable(m()),l,x;"string"===
typeof u?l=u:(l=b.utils.unwrapObservable(u.name),x=b.utils.unwrapObservable(u.params));if(!l)throw Error("No component name specified");var r=H=++e;b.components.get(l,function(e){if(H===r){y();if(!e)throw Error("Unknown component '"+l+"'");c(l,e,h);var k=d(e,h,w,x);e=t.createChildContext(k,a,function(b){b.$component=k;b.$componentTemplateNodes=w});p=k;b.applyBindingsToDescendants(e,h)}})},null,{disposeWhenNodeIsRemoved:h});return{controlsDescendantBindings:!0}}};b.virtualElements.allowedBindings.component=
!0})();var K={"class":"className","for":"htmlFor"};b.bindingHandlers.attr={update:function(a,c,d){c=b.utils.unwrapObservable(c())||{};b.utils.objectForEach(c,function(c,d){d=b.utils.unwrapObservable(d);var e=!1===d||null===d||d===h;e&&a.removeAttribute(c);8>=b.utils.ieVersion&&c in K?(c=K[c],e?a.removeAttribute(c):a[c]=d):e||a.setAttribute(c,d.toString());"name"===c&&b.utils.setElementName(a,e?"":d.toString())})}};(function(){b.bindingHandlers.checked={after:["value","attr"],init:function(a,c,d){function e(){var k=
a.checked,h=H?m():k;if(!b.computedContext.isInitial()&&(!u||k)){var q=b.dependencyDetection.ignore(c);t?p!==h?(k&&(b.utils.addOrRemoveItem(q,h,!0),b.utils.addOrRemoveItem(q,p,!1)),p=h):b.utils.addOrRemoveItem(q,h,k):b.expressionRewriting.writeValueToProperty(q,d,"checked",h,!0)}}function q(){var d=b.utils.unwrapObservable(c());a.checked=t?0<=b.utils.arrayIndexOf(d,m()):l?d:m()===d}var m=b.pureComputed(function(){return d.has("checkedValue")?b.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?
b.utils.unwrapObservable(d.get("value")):a.value}),l="checkbox"==a.type,u="radio"==a.type;if(l||u){var t=l&&b.utils.unwrapObservable(c())instanceof Array,p=t?m():h,H=u||t;u&&!a.name&&b.bindingHandlers.uniqueName.init(a,function(){return!0});b.computed(e,null,{disposeWhenNodeIsRemoved:a});b.utils.registerEventHandler(a,"click",e);b.computed(q,null,{disposeWhenNodeIsRemoved:a})}}};b.expressionRewriting.twoWayBindings.checked=!0;b.bindingHandlers.checkedValue={update:function(a,c){a.value=b.utils.unwrapObservable(c())}}})();
b.bindingHandlers.css={update:function(a,c){var d=b.utils.unwrapObservable(c());null!==d&&"object"==typeof d?b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d);b.utils.toggleDomNodeCssClass(a,c,d)}):(d=String(d||""),b.utils.toggleDomNodeCssClass(a,a.__ko__cssValue,!1),a.__ko__cssValue=d,b.utils.toggleDomNodeCssClass(a,d,!0))}};b.bindingHandlers.enable={update:function(a,c){var d=b.utils.unwrapObservable(c());d&&a.disabled?a.removeAttribute("disabled"):d||a.disabled||(a.disabled=!0)}};
b.bindingHandlers.disable={update:function(a,c){b.bindingHandlers.enable.update(a,function(){return!b.utils.unwrapObservable(c())})}};b.bindingHandlers.event={init:function(a,c,d,e,h){var m=c()||{};b.utils.objectForEach(m,function(m){"string"==typeof m&&b.utils.registerEventHandler(a,m,function(a){var f,p=c()[m];if(p){try{var l=b.utils.makeArray(arguments);e=h.$data;l.unshift(e);f=p.apply(e,l)}finally{!0!==f&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}!1===d.get(m+"Bubble")&&(a.cancelBubble=
!0,a.stopPropagation&&a.stopPropagation())}})})}};b.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var c=a(),d=b.utils.peekObservable(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:b.nativeTemplateEngine.instance};b.utils.unwrapObservable(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:b.nativeTemplateEngine.instance}}},
init:function(a,c,d,e,h){return b.bindingHandlers.template.init(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(a,c,d,e,h){return b.bindingHandlers.template.update(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,h)}};b.expressionRewriting.bindingRewriteValidators.foreach=!1;b.virtualElements.allowedBindings.foreach=!0;b.bindingHandlers.hasfocus={init:function(a,c,d){var e=function(e){a.__ko_hasfocusUpdating=!0;var k=a.ownerDocument;if("activeElement"in k){var h;
try{h=k.activeElement}catch(l){h=k.body}e=h===a}k=c();b.expressionRewriting.writeValueToProperty(k,d,"hasfocus",e,!0);a.__ko_hasfocusLastValue=e;a.__ko_hasfocusUpdating=!1},h=e.bind(null,!0),e=e.bind(null,!1);b.utils.registerEventHandler(a,"focus",h);b.utils.registerEventHandler(a,"focusin",h);b.utils.registerEventHandler(a,"blur",e);b.utils.registerEventHandler(a,"focusout",e)},update:function(a,c){var d=!!b.utils.unwrapObservable(c());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===d||(d?a.focus():
a.blur(),b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,d?"focusin":"focusout"]))}};b.expressionRewriting.twoWayBindings.hasfocus=!0;b.bindingHandlers.hasFocus=b.bindingHandlers.hasfocus;b.expressionRewriting.twoWayBindings.hasFocus=!0;b.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.utils.setHtml(a,c())}};w("if");w("ifnot",!1,!0);w("with",!0,!1,function(b,a){return b.createChildContext(a)});var I={};b.bindingHandlers.options={init:function(a){if("select"!==
b.utils.tagNameLower(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,d){function e(){return b.utils.arrayFilter(a.options,function(b){return b.selected})}function l(b,a,c){var d=typeof a;return"function"==d?a(b):"string"==d?b[a]:c}function m(c,e){if(r&&p)b.selectExtensions.writeValue(a,b.utils.unwrapObservable(d.get("value")),!0);else if(w.length){var k=0<=b.utils.arrayIndexOf(w,b.selectExtensions.readValue(e[0]));
b.utils.setOptionNodeSelectionState(e[0],k);r&&!k&&b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,"change"])}}var x=a.multiple,u=0!=a.length&&x?a.scrollTop:null,t=b.utils.unwrapObservable(c()),p=d.get("valueAllowUnset")&&d.has("value"),H=d.get("optionsIncludeDestroyed");c={};var y,w=[];p||(x?w=b.utils.arrayMap(e(),b.selectExtensions.readValue):0<=a.selectedIndex&&w.push(b.selectExtensions.readValue(a.options[a.selectedIndex])));t&&("undefined"==typeof t.length&&(t=[t]),y=b.utils.arrayFilter(t,
function(a){return H||a===h||null===a||!b.utils.unwrapObservable(a._destroy)}),d.has("optionsCaption")&&(t=b.utils.unwrapObservable(d.get("optionsCaption")),null!==t&&t!==h&&y.unshift(I)));var r=!1;c.beforeRemove=function(b){a.removeChild(b)};t=m;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(t=function(a,c){m(a,c);b.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[c[0],a!==I?a:h])});b.utils.setDomNodeChildrenFromArrayMapping(a,y,function(c,e,k){k.length&&
(w=!p&&k[0].selected?[b.selectExtensions.readValue(k[0])]:[],r=!0);e=a.ownerDocument.createElement("option");c===I?(b.utils.setTextContent(e,d.get("optionsCaption")),b.selectExtensions.writeValue(e,h)):(k=l(c,d.get("optionsValue"),c),b.selectExtensions.writeValue(e,b.utils.unwrapObservable(k)),c=l(c,d.get("optionsText"),k),b.utils.setTextContent(e,c));return[e]},c,t);b.dependencyDetection.ignore(function(){p?b.selectExtensions.writeValue(a,b.utils.unwrapObservable(d.get("value")),!0):(x?w.length&&
e().length<w.length:w.length&&0<=a.selectedIndex?b.selectExtensions.readValue(a.options[a.selectedIndex])!==w[0]:w.length||0<=a.selectedIndex)&&b.utils.triggerEvent(a,"change")});b.utils.ensureSelectElementIsRenderedCorrectly(a);u&&20<Math.abs(u-a.scrollTop)&&(a.scrollTop=u)}};b.bindingHandlers.options.optionValueDomDataKey=b.utils.domData.nextKey();b.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(a,c,d){b.utils.registerEventHandler(a,"change",function(){var e=c(),h=[];
b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){a.selected&&h.push(b.selectExtensions.readValue(a))});b.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",h)})},update:function(a,c){if("select"!=b.utils.tagNameLower(a))throw Error("values binding applies only to SELECT elements");var d=b.utils.unwrapObservable(c());d&&"number"==typeof d.length&&b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){var c=0<=b.utils.arrayIndexOf(d,b.selectExtensions.readValue(a));
b.utils.setOptionNodeSelectionState(a,c)})}};b.expressionRewriting.twoWayBindings.selectedOptions=!0;b.bindingHandlers.style={update:function(a,c){var d=b.utils.unwrapObservable(c()||{});b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d);if(null===d||d===h||!1===d)d="";a.style[c]=d})}};b.bindingHandlers.submit={init:function(a,c,d,e,h){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");b.utils.registerEventHandler(a,"submit",function(b){var d,
e=c();try{d=e.call(h.$data,a)}finally{!0!==d&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}})}};b.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.utils.setTextContent(a,c())}};b.virtualElements.allowedBindings.text=!0;(function(){if(e&&e.navigator)var a=function(b){if(b)return parseFloat(b[1])},c=e.opera&&e.opera.version&&parseInt(e.opera.version()),d=e.navigator.userAgent,k=a(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),l=a(d.match(/Firefox\/([^ ]*)/));
if(10>b.utils.ieVersion)var m=b.utils.domData.nextKey(),x=b.utils.domData.nextKey(),u=function(a){var c=this.activeElement;(c=c&&b.utils.domData.get(c,x))&&c(a)},t=function(a,c){var d=a.ownerDocument;b.utils.domData.get(d,m)||(b.utils.domData.set(d,m,!0),b.utils.registerEventHandler(d,"selectionchange",u));b.utils.domData.set(a,x,c)};b.bindingHandlers.textInput={init:function(a,d,e){var f=a.value,g,m,u=function(c){clearTimeout(g);m=g=h;var k=a.value;f!==k&&(c&&(a._ko_textInputProcessedEvent=c.type),
f=k,b.expressionRewriting.writeValueToProperty(d(),e,"textInput",k))},x=function(b){g||(m=a.value,b=u.bind(a,{type:b.type}),g=setTimeout(b,4))},w=function(){var c=b.utils.unwrapObservable(d());if(null===c||c===h)c="";m!==h&&c===m?setTimeout(w,4):a.value!==c&&(f=c,a.value=c)},r=function(c,d){b.utils.registerEventHandler(a,c,d)};b.bindingHandlers.textInput._forceUpdateOn?b.utils.arrayForEach(b.bindingHandlers.textInput._forceUpdateOn,function(b){"after"==b.slice(0,5)?r(b.slice(5),x):r(b,u)}):10>b.utils.ieVersion?
(r("propertychange",function(b){"value"===b.propertyName&&u(b)}),8==b.utils.ieVersion&&(r("keyup",u),r("keydown",u)),8<=b.utils.ieVersion&&(t(a,u),r("dragend",x))):(r("input",u),5>k&&"textarea"===b.utils.tagNameLower(a)?(r("keydown",x),r("paste",x),r("cut",x)):11>c?r("keydown",x):4>l&&(r("DOMAutoComplete",u),r("dragdrop",u),r("drop",u)));r("change",u);b.computed(w,null,{disposeWhenNodeIsRemoved:a})}};b.expressionRewriting.twoWayBindings.textInput=!0;b.bindingHandlers.textinput={preprocess:function(b,
a,c){c("textInput",b)}}})();b.bindingHandlers.uniqueName={init:function(a,c){if(c()){var d="ko_unique_"+ ++b.bindingHandlers.uniqueName.currentIndex;b.utils.setElementName(a,d)}}};b.bindingHandlers.uniqueName.currentIndex=0;b.bindingHandlers.value={after:["options","foreach"],init:function(a,c,d){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],h=d.get("valueUpdate"),m=!1,l=null;h&&("string"==typeof h&&(h=[h]),b.utils.arrayPushAll(e,h),e=b.utils.arrayGetDistinctValues(e));
var u=function(){l=null;m=!1;var e=c(),k=b.selectExtensions.readValue(a);b.expressionRewriting.writeValueToProperty(e,d,"value",k)};!b.utils.ieVersion||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=b.utils.arrayIndexOf(e,"propertychange")||(b.utils.registerEventHandler(a,"propertychange",function(){m=!0}),b.utils.registerEventHandler(a,"focus",function(){m=!1}),b.utils.registerEventHandler(a,"blur",function(){m&&u()}));b.utils.arrayForEach(e,
function(c){var d=u;b.utils.stringStartsWith(c,"after")&&(d=function(){l=b.selectExtensions.readValue(a);setTimeout(u,0)},c=c.substring(5));b.utils.registerEventHandler(a,c,d)});var t=function(){var e=b.utils.unwrapObservable(c()),k=b.selectExtensions.readValue(a);if(null!==l&&e===l)setTimeout(t,0);else if(e!==k)if("select"===b.utils.tagNameLower(a)){var h=d.get("valueAllowUnset"),k=function(){b.selectExtensions.writeValue(a,e,h)};k();h||e===b.selectExtensions.readValue(a)?setTimeout(k,0):b.dependencyDetection.ignore(b.utils.triggerEvent,
null,[a,"change"])}else b.selectExtensions.writeValue(a,e)};b.computed(t,null,{disposeWhenNodeIsRemoved:a})}else b.applyBindingAccessorsToNode(a,{checkedValue:c})},update:function(){}};b.expressionRewriting.twoWayBindings.value=!0;b.bindingHandlers.visible={update:function(a,c){var d=b.utils.unwrapObservable(c()),e="none"!=a.style.display;d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}};(function(a){b.bindingHandlers[a]={init:function(c,d,e,h,l){return b.bindingHandlers.event.init.call(this,
c,function(){var b={};b[a]=d();return b},e,h,l)}}})("click");b.templateEngine=function(){};b.templateEngine.prototype.renderTemplateSource=function(b,a,c,d){throw Error("Override renderTemplateSource");};b.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(b){throw Error("Override createJavaScriptEvaluatorBlock");};b.templateEngine.prototype.makeTemplateSource=function(a,c){if("string"==typeof a){c=c||d;var e=c.getElementById(a);if(!e)throw Error("Cannot find template with ID "+a);return new b.templateSources.domElement(e)}if(1==
a.nodeType||8==a.nodeType)return new b.templateSources.anonymousTemplate(a);throw Error("Unknown template type: "+a);};b.templateEngine.prototype.renderTemplate=function(b,a,c,d){b=this.makeTemplateSource(b,d);return this.renderTemplateSource(b,a,c,d)};b.templateEngine.prototype.isTemplateRewritten=function(b,a){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(b,a).data("isRewritten")};b.templateEngine.prototype.rewriteTemplate=function(b,a,c){b=this.makeTemplateSource(b,c);a=a(b.text());
b.text(a);b.data("isRewritten",!0)};b.exportSymbol("templateEngine",b.templateEngine);b.templateRewriting=function(){function a(c,d,e,g){c=b.expressionRewriting.parseObjectLiteral(c);for(var f=b.expressionRewriting.bindingRewriteValidators,h=0;h<c.length;h++){var p=c[h].key;if(f.hasOwnProperty(p)){var l=f[p];if("function"===typeof l){if(p=l(c[h].value))throw Error(p);}else if(!l)throw Error("This template engine does not support the '"+p+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+
b.expressionRewriting.preProcessBindings(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return g.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(a,c,d){c.isTemplateRewritten(a,d)||c.rewriteTemplate(a,function(a){return b.templateRewriting.memoizeBindingAttributeSyntax(a,c)},d)},memoizeBindingAttributeSyntax:function(b,
e){return b.replace(c,function(b,c,d,g,k){return a(k,c,d,e)}).replace(d,function(b,c){return a(c,"\x3c!-- ko --\x3e","#comment",e)})},applyMemoizedBindingsToNextSibling:function(a,c){return b.memoization.memoize(function(d,e){var g=d.nextSibling;g&&g.nodeName.toLowerCase()===c&&b.applyBindingAccessorsToNode(g,a,e)})}}}();b.exportSymbol("__tr_ambtns",b.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){b.templateSources={};b.templateSources.domElement=function(b){this.domElement=b};
b.templateSources.domElement.prototype.text=function(){var a=b.utils.tagNameLower(this.domElement),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.domElement[a];var c=arguments[0];"innerHTML"===a?b.utils.setHtml(this.domElement,c):this.domElement[a]=c};var a=b.utils.domData.nextKey()+"_";b.templateSources.domElement.prototype.data=function(c){if(1===arguments.length)return b.utils.domData.get(this.domElement,a+c);b.utils.domData.set(this.domElement,a+c,
arguments[1])};var c=b.utils.domData.nextKey();b.templateSources.anonymousTemplate=function(b){this.domElement=b};b.templateSources.anonymousTemplate.prototype=new b.templateSources.domElement;b.templateSources.anonymousTemplate.prototype.constructor=b.templateSources.anonymousTemplate;b.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var a=b.utils.domData.get(this.domElement,c)||{};a.textData===h&&a.containerData&&(a.textData=a.containerData.innerHTML);return a.textData}b.utils.domData.set(this.domElement,
c,{textData:arguments[0]})};b.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length)return(b.utils.domData.get(this.domElement,c)||{}).containerData;b.utils.domData.set(this.domElement,c,{containerData:arguments[0]})};b.exportSymbol("templateSources",b.templateSources);b.exportSymbol("templateSources.domElement",b.templateSources.domElement);b.exportSymbol("templateSources.anonymousTemplate",b.templateSources.anonymousTemplate)})();(function(){function a(c,d,e){var f;for(d=
b.virtualElements.nextSibling(d);c&&(f=c)!==d;)c=b.virtualElements.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var g=d[0],k=d[d.length-1],h=g.parentNode,l=b.bindingProvider.instance,m=l.preprocessNode;if(m){a(g,k,function(b,a){var c=b.previousSibling,d=m.call(l,b);d&&(b===g&&(g=d[0]||a),b===k&&(k=d[d.length-1]||c))});d.length=0;if(!g)return;g===k?d.push(g):(d.push(g,k),b.utils.fixUpContinuousNodeArray(d,h))}a(g,k,function(a){1!==a.nodeType&&8!==a.nodeType||b.applyBindings(e,a)});a(g,k,function(a){1!==
a.nodeType&&8!==a.nodeType||b.memoization.unmemoizeDomNodeAndDescendants(a,[e])});b.utils.fixUpContinuousNodeArray(d,h)}}function d(b){return b.nodeType?b:0<b.length?b[0]:null}function e(a,f,k,h,l){l=l||{};var q=(a&&d(a)||k||{}).ownerDocument,r=l.templateEngine||m;b.templateRewriting.ensureTemplateIsRewritten(k,r,q);k=r.renderTemplate(k,h,l,q);if("number"!=typeof k.length||0<k.length&&"number"!=typeof k[0].nodeType)throw Error("Template engine must return an array of DOM nodes");q=!1;switch(f){case "replaceChildren":b.virtualElements.setDomNodeChildren(a,
k);q=!0;break;case "replaceNode":b.utils.replaceDomNodes(a,k);q=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}q&&(c(k,h),l.afterRender&&b.dependencyDetection.ignore(l.afterRender,null,[k,h.$data]));return k}function l(a,c,d){return b.isObservable(a)?a():"function"===typeof a?a(c,d):a}var m;b.setTemplateEngine=function(a){if(a!=h&&!(a instanceof b.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");m=a};b.renderTemplate=function(a,
c,f,n,r){f=f||{};if((f.templateEngine||m)==h)throw Error("Set a template engine before calling renderTemplate");r=r||"replaceChildren";if(n){var w=d(n);return b.dependentObservable(function(){var h=c&&c instanceof b.bindingContext?c:new b.bindingContext(b.utils.unwrapObservable(c)),m=l(a,h.$data,h),h=e(n,r,m,h,f);"replaceNode"==r&&(n=h,w=d(n))},null,{disposeWhen:function(){return!w||!b.utils.domNodeIsAttachedToDocument(w)},disposeWhenNodeIsRemoved:w&&"replaceNode"==r?w.parentNode:w})}return b.memoization.memoize(function(d){b.renderTemplate(a,
c,f,d,"replaceNode")})};b.renderTemplateForEach=function(a,d,f,g,m){var r,w=function(b,c){r=m.createChildContext(b,f.as,function(b){b.$index=c});var d=l(a,b,r);return e(null,"ignoreTargetNode",d,r,f)},x=function(b,a,d){c(a,r);f.afterRender&&f.afterRender(a,b);r=null};return b.dependentObservable(function(){var a=b.utils.unwrapObservable(d)||[];"undefined"==typeof a.length&&(a=[a]);a=b.utils.arrayFilter(a,function(a){return f.includeDestroyed||a===h||null===a||!b.utils.unwrapObservable(a._destroy)});
b.dependencyDetection.ignore(b.utils.setDomNodeChildrenFromArrayMapping,null,[g,a,w,f,x])},null,{disposeWhenNodeIsRemoved:g})};var r=b.utils.domData.nextKey();b.bindingHandlers.template={init:function(a,c){var d=b.utils.unwrapObservable(c());if("string"==typeof d||d.name)b.virtualElements.emptyNode(a);else{if("nodes"in d){if(d=d.nodes||[],b.isObservable(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=b.virtualElements.childNodes(a);d=b.utils.moveCleanedNodesToContainerElement(d);
(new b.templateSources.anonymousTemplate(a)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(a,c,d,e,f){var g=c(),k;c=b.utils.unwrapObservable(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=b.utils.unwrapObservable(c["if"])),d&&"ifnot"in c&&(d=!b.utils.unwrapObservable(c.ifnot)),k=b.utils.unwrapObservable(c.data));"foreach"in c?e=b.renderTemplateForEach(g||a,d&&c.foreach||[],c,a,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=b.renderTemplate(g||a,f,c,a)):b.virtualElements.emptyNode(a);
f=e;(k=b.utils.domData.get(a,r))&&"function"==typeof k.dispose&&k.dispose();b.utils.domData.set(a,r,f&&f.isActive()?f:h)}};b.expressionRewriting.bindingRewriteValidators.template=function(a){a=b.expressionRewriting.parseObjectLiteral(a);return 1==a.length&&a[0].unknown||b.expressionRewriting.keyValueArrayContainsKey(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};b.virtualElements.allowedBindings.template=!0})();b.exportSymbol("setTemplateEngine",
b.setTemplateEngine);b.exportSymbol("renderTemplate",b.renderTemplate);b.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,h,l,r;for(d=e=0;(!c||d<c)&&(l=a[e]);++e){for(h=0;r=b[h];++h)if(l.value===r.value){l.moved=r.index;r.moved=l.index;b.splice(h,1);d=h=0;break}d+=h}}};b.utils.compareArrays=function(){function a(c,d,e,f,h){var l=Math.min,r=Math.max,t=[],p,w=c.length,y,v=d.length,z=v-w||1,A=w+v+1,C,D,F;for(p=0;p<=w;p++)for(D=C,t.push(C=[]),F=l(v,p+z),y=r(0,p-1);y<=F;y++)C[y]=
y?p?c[p-1]===d[y-1]?D[y-1]:l(D[y]||A,C[y-1]||A)+1:y+1:p+1;l=[];r=[];z=[];p=w;for(y=v;p||y;)v=t[p][y]-1,y&&v===t[p][y-1]?r.push(l[l.length]={status:e,value:d[--y],index:y}):p&&v===t[p-1][y]?z.push(l[l.length]={status:f,value:c[--p],index:p}):(--y,--p,h.sparse||l.push({status:"retained",value:d[y]}));b.utils.findMovesInArrayComparison(r,z,10*w);return l.reverse()}return function(b,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<=c.length?a(b,c,"added","deleted",
d):a(c,b,"deleted","added",d)}}();b.exportSymbol("utils.compareArrays",b.utils.compareArrays);(function(){function a(c,d,e,f,l){var n=[],r=b.dependentObservable(function(){var a=d(e,l,b.utils.fixUpContinuousNodeArray(n,c))||[];0<n.length&&(b.utils.replaceDomNodes(n,a),f&&b.dependencyDetection.ignore(f,null,[e,a,l]));n.length=0;b.utils.arrayPushAll(n,a)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!b.utils.anyDomNodeIsAttachedToDocument(n)}});return{mappedNodes:n,dependentObservable:r.isActive()?
r:h}}var c=b.utils.domData.nextKey();b.utils.setDomNodeChildrenFromArrayMapping=function(d,e,l,m,r){function w(a,c){E=v[c];F!==c&&(B[a]=E);E.indexObservable(F++);b.utils.fixUpContinuousNodeArray(E.mappedNodes,d);C.push(E);L.push(E)}function t(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.utils.arrayForEach(c[d].mappedNodes,function(b){a(b,d,c[d].arrayEntry)})}e=e||[];m=m||{};var p=b.utils.domData.get(d,c)===h,v=b.utils.domData.get(d,c)||[],z=b.utils.arrayMap(v,function(a){return a.arrayEntry}),
A=b.utils.compareArrays(z,e,m.dontLimitMoves),C=[],D=0,F=0,J=[],L=[];e=[];for(var B=[],z=[],E,I=0,K,Q;K=A[I];I++)switch(Q=K.moved,K.status){case "deleted":Q===h&&(E=v[D],E.dependentObservable&&E.dependentObservable.dispose(),J.push.apply(J,b.utils.fixUpContinuousNodeArray(E.mappedNodes,d)),m.beforeRemove&&(e[I]=E,L.push(E)));D++;break;case "retained":w(I,D++);break;case "added":Q!==h?w(I,Q):(E={arrayEntry:K.value,indexObservable:b.observable(F++)},C.push(E),L.push(E),p||(z[I]=E))}t(m.beforeMove,B);
b.utils.arrayForEach(J,m.beforeRemove?b.cleanNode:b.removeNode);for(var I=0,p=b.virtualElements.firstChild(d),R;E=L[I];I++){E.mappedNodes||b.utils.extend(E,a(d,l,E.arrayEntry,r,E.indexObservable));for(D=0;A=E.mappedNodes[D];p=A.nextSibling,R=A,D++)A!==p&&b.virtualElements.insertAfter(d,A,R);!E.initialized&&r&&(r(E.arrayEntry,E.mappedNodes,E.indexObservable),E.initialized=!0)}t(m.beforeRemove,e);t(m.afterMove,B);t(m.afterAdd,z);b.utils.domData.set(d,c,C)}})();b.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",
b.utils.setDomNodeChildrenFromArrayMapping);b.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};b.nativeTemplateEngine.prototype=new b.templateEngine;b.nativeTemplateEngine.prototype.constructor=b.nativeTemplateEngine;b.nativeTemplateEngine.prototype.renderTemplateSource=function(a,c,d,e){if(c=(9>b.utils.ieVersion?0:a.nodes)?a.nodes():null)return b.utils.makeArray(c.cloneNode(!0).childNodes);a=a.text();return b.utils.parseHtmlFragment(a,e)};b.nativeTemplateEngine.instance=new b.nativeTemplateEngine;
b.setTemplateEngine(b.nativeTemplateEngine.instance);b.exportSymbol("nativeTemplateEngine",b.nativeTemplateEngine);(function(){b.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(!c||!c.tmpl)return 0;try{if(0<=c.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,h){h=h||d;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var l=b.data("precompiled");
l||(l=b.text()||"",l=c.template(null,"{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}"),b.data("precompiled",l));b=[e.$data];e=c.extend({koBindingContext:e},f.templateOptions);e=c.tmpl(l,b,e);e.appendTo(h.createElement("div"));c.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){d.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(c.tmpl.tag.ko_code={open:"__.push($1 || '');"},
c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.jqueryTmplTemplateEngine.prototype=new b.templateEngine;b.jqueryTmplTemplateEngine.prototype.constructor=b.jqueryTmplTemplateEngine;var a=new b.jqueryTmplTemplateEngine;0<a.jQueryTmplVersion&&b.setTemplateEngine(a);b.exportSymbol("jqueryTmplTemplateEngine",b.jqueryTmplTemplateEngine)})()})})()})();
(function(h){h.Tools={};h.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=16*Math.random()|0;return("x"===e?d:d&3|8).toString(16)})};h.Tools.base64Id=function(e){for(var d="",a,c=0;c<e;c++)a=62*Math.random()|0,d+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[a];return d};h.Tools.createCookie=function(e,d,a){var c="";a&&(c=new Date,c.setTime(c.getTime()+864E5*a),c="; expires="+c.toGMTString());document.cookie=e+"="+d+c+"; path=/"};
h.Tools.readCookie=function(e){e+="=";for(var d=document.cookie.split(";"),a=0;a<d.length;a++){for(var c=d[a];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(e))return c.substring(e.length,c.length)}return null};h.Tools.eraseCookie=function(e){h.Tools.createCookie(e,"",-1)};h.Tools.safeMailtoHref=function(e,d){return"mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(d)};h.Tools.bootstrapDropdowns=function(){var e=document.querySelectorAll(".dropdown-toggle"),d=document.querySelectorAll(".dropdown-menu"),
a=function(a){a.addEventListener("click",function(){this.parentNode.classList.toggle("open")})};Array.prototype.forEach.call(d,a);Array.prototype.forEach.call(e,a)};h.Tools.init=function(){h.Tools.bootstrapDropdowns()}})(window.EP=window.EP||{});
(function(h,e){h.User=function(d,a){var c=this;c.uuid=a||h.Tools.uuid();c.name=e.observable("");c.displayName=e.pureComputed(function(){return c.name()||"new user"});c.estimation=e.observable(!1);c.broadcast=function(){d.emit("update",e.toJSON(c))};c.loadFromCookie=function(){h.Tools.readCookie("ep.user.name")&&h.Tools.readCookie("ep.user.uuid")&&(c.name(h.Tools.readCookie("ep.user.name")),c.uuid=h.Tools.readCookie("ep.user.uuid"))};c.saveToCookie=function(){h.Tools.createCookie("ep.user.name",c.name());
h.Tools.createCookie("ep.user.uuid",c.uuid)};c.isConnected=e.observable(!1);c.isWatcher=e.observable(!1);c.isWatcher.subscribe(function(a){!0===a&&c.estimation(!1)})};h.PokerView=function(d){var a=this,c=function(){return a.users().concat(a.localUser()).filter(function(a){return!0!==a.isWatcher()}).map(function(a){return a.estimation()}).filter(function(a){return!1!==a})},r=function(c){return a.users().filter(function(a){return a.uuid===c})[0]},l=io.connect("/");a.pokerValues=e.observableArray([0,
1,2,3,5,8,13,20,40,100]);var C=a.pokerValues.subscribe(function(){v()});a.pokerValueSets=[{title:"Scrum",values:[0,1,2,3,5,8,13,20,40,100]},{title:"T-Shirt sizes",values:["S","M","L","XL"]}];a.initNewRound=function(){a.localUser().estimation(!1);l.emit("new round")};a.setPokerValues=function(c){l.emit("set poker values",JSON.stringify(c));a.initNewRound();a.pokerValues(c.values)};a.localUser=e.observable(new h.User(l));a.localUser().loadFromCookie();a.localUser().name.subscribe(function(){a.localUser().broadcast();
a.localUser().saveToCookie()});a.localUser().estimation.subscribe(function(){a.localUser().broadcast()});a.localUser().isWatcher.subscribe(function(){a.localUser().broadcast()});l.emit("join",{groupName:d,userUuid:a.localUser().uuid});a.localUser().broadcast();a.users=e.observableArray([]);a.storyTitle=e.observable("");var z=a.storyTitle.subscribe(function(){v()});a.highestEstimation=e.computed(function(){var a=c(),a=Math.max.apply(null,a);return-Infinity===a?!1:a});a.lowestEstimation=e.computed(function(){var a=
c(),a=Math.min.apply(null,a);return Infinity===a?!1:a});a.estimationsComplete=e.computed(function(){return 0===a.users().concat(a.localUser()).filter(function(a){return!0!==a.isWatcher()&&!1===a.estimation()}).length&&0<c().length});a.roundIsInProgress=e.computed(function(){return 0<c().length&&!a.estimationsComplete()});a.statusTitle=e.computed(function(){var c="";a.estimationsComplete()&&(c="\u2713 ");return c+"Estimation Poker"});a.mailtoHref=e.pureComputed(function(){return h.Tools.safeMailtoHref("Estimation Poker URL",
window.location)});a.displaySharingQrCode=e.observable(!1);a.toggleDisplaySharingQrCode=function(){a.displaySharingQrCode(!a.displaySharingQrCode())};a.toggleWatcher=function(){a.localUser().isWatcher(!a.localUser().isWatcher())};var v=function(){var c={storyTitle:a.storyTitle(),pokerValues:a.pokerValues()};l.emit("update",JSON.stringify(c))},F=function(c){var b=a.users().filter(function(a){return a.uuid!==c});a.users(b)};l.on("connect",function(){a.localUser().isConnected(!0)});l.on("disconnect",
function(){a.localUser().isConnected(!1)});l.on("reconnect",function(){a.localUser().isConnected(!0)});l.on("update",function(c){c=JSON.parse(c);if(void 0!==c.uuid){if(c.uuid!==a.localUser().uuid){var b=r(c.uuid);b||(b=new h.User(l,c.uuid),a.users.push(b));b.name(c.name);b.estimation(c.estimation);b.isWatcher(c.isWatcher)}}else z.isDisposed=!0,C.isDisposed=!0,a.storyTitle(c.storyTitle),a.pokerValues(c.pokerValues),z.isDisposed=!1,C.isDisposed=!1});l.on("who is there",function(){a.localUser().broadcast();
v()});l.on("reconnect",function(){l.emit("join",{groupName:d,userUuid:a.localUser().uuid});a.localUser().broadcast();v()});l.on("user disconnected",function(a){F(a)});l.on("new round",function(){a.localUser().estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(h){h.bindingHandlers.estimationSelect={init:function(e,d){var a=d().value,c=d().valueSet;e.classList.add("estimation-select");for(var h,l=0;l<c().length;l++)h='<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+l+'" data-index="'+l+'">'+c[l]+"</button>",e.insertAdjacentHTML("beforeend",h);e.addEventListener("click",function(c){c.target.classList.contains("active")?a(!1):a(+c.target.getAttribute("data-index"))});var C=function(d){var e;!1===a()?(1===d&&(e=
0),-1===d&&(e=c().length-1)):e=a()+d;0<=e&&e<=c().length-1&&a(e)};document.addEventListener("keypress",function(a){a.target.tagName&&"input"===a.target.tagName.toLowerCase()||("+"!==a.key&&43!==a.keyCode||C(1),"-"!==a.key&&45!==a.keyCode||C(-1))})},update:function(e,d){var a=d().value,c=d().valueSet();e.innerHTML="";for(var h=0;h<c.length;h++)e.insertAdjacentHTML("beforeend",'<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+h+'" data-index="'+h+'">'+c[h]+"</button>");
c=e.querySelectorAll("button");for(h=0;h<c.length;h++)+c[h].getAttribute("data-index")===a()?c[h].classList.add("active"):c[h].classList.remove("active")}};h.bindingHandlers.editableText={init:function(e,d){e.classList.add("editable-text");e.innerHTML='<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>';e.querySelector(".et-form").style.display=
"none";var a=function(){e.classList.remove("editing");e.querySelector(".et-display").style.display="";e.querySelector(".et-form").style.display="none";d()(e.querySelector("input").value)};e.querySelector(".et-display").addEventListener("click",function(){e.classList.add("editing");e.querySelector(".et-display").style.display="none";e.querySelector(".et-form").style.display="";e.querySelector(".et-form input").focus()});e.querySelector("button").addEventListener("click",a);e.querySelector("input").addEventListener("keypress",
function(c){13===c.keyCode&&a()});e.querySelector("input").addEventListener("keypress",function(a){27===a.keyCode&&(e.classList.remove("editing"),e.querySelector(".et-display").style.display="",e.querySelector(".et-form").style.display="none")});e.querySelector("input").addEventListener("blur",a)},update:function(e,d){var a=d();e.querySelector(".et-label").textContent=a();e.querySelector("input").value=a();a()?e.querySelector(".et-hint").style.display="none":(e.querySelector(".et-hint").textContent=
e.getAttribute("data-edit-hint")||"edit",e.querySelector(".et-hint").style.display="")}};h.bindingHandlers.pageTitle={update:function(e,d){var a=d();document.title=a()}}})(window.ko);
(function(h,e,d){""===location.hash&&(location.hash=h.Tools.base64Id(8));var a=new h.PokerView(location.hash);e.components.register("card",{template:{element:"card"}});e.applyBindings(a);new d(document.getElementById("sharing-qr-code"),location+"");h.Tools.init();document.querySelector("body").classList.remove("uninitialised")})(window.EP=window.EP||{},window.ko,window.QRCode);

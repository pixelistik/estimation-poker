!function(A){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=A();else if("function"==typeof define&&define.amd)define([],A);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=A()}}(function(){return function d(g,b,e){function m(n,r){if(!b[n]){if(!g[n]){var w="function"==typeof require&&require;if(!r&&w)return w(n,!0);if(c)return c(n,!0);throw Error("Cannot find module '"+n+"'");}w=b[n]={exports:{}};g[n][0].call(w.exports,
function(c){var a=g[n][1][c];return m(a?a:c)},w,w.exports,d,g,b,e)}return b[n].exports}for(var c="function"==typeof require&&require,n=0;n<e.length;n++)m(e[n]);return m}({1:[function(d,g,b){g.exports=d("./lib/")},{"./lib/":2}],2:[function(d,g,b){function e(c,e){"object"==typeof c&&(e=c,c=void 0);e=e||{};var a=m(c),h=a.source,x=a.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(l("ignoring socket cache for %s",h),h=n(h,e)):(r[x]||(l("new io instance for %s",h),r[x]=n(h,e)),h=r[x]);return h.socket(a.path)}
var m=d("./url"),c=d("socket.io-parser"),n=d("./manager"),l=d("debug")("socket.io-client");g.exports=b=e;var r=b.managers={};b.protocol=c.protocol;b.connect=e;b.Manager=d("./manager");b.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(d,g,b){function e(a,h){if(!(this instanceof e))return new e(a,h);a&&"object"==typeof a&&(h=a,a=void 0);h=h||{};h.path=h.path||"/socket.io";this.nsps={};this.subs=[];this.opts=h;this.reconnection(!1!==h.reconnection);
this.reconnectionAttempts(h.reconnectionAttempts||Infinity);this.reconnectionDelay(h.reconnectionDelay||1E3);this.reconnectionDelayMax(h.reconnectionDelayMax||5E3);this.timeout(null==h.timeout?2E4:h.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new n.Encoder;this.decoder=new n.Decoder;(this.autoConnect=!1!==h.autoConnect)&&this.open()}d("./url");var m=d("engine.io-client"),c=d("./socket");b=d("component-emitter");
var n=d("socket.io-parser"),l=d("./on"),r=d("component-bind");d("object-component");var w=d("debug")("socket.io-client:manager"),y=d("indexof");g.exports=e;e.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};b(e.prototype);e.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};e.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};e.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};e.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};e.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};e.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};e.prototype.open=e.prototype.connect=function(a){w("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;w("opening %s",this.uri);var h=this.engine=m(this.uri,this.opts),x=this;this.readyState="opening";this.skipReconnect=!1;var c=l(h,"open",function(){x.onopen();a&&a()}),e=l(h,"error",function(f){w("connect_error");x.cleanup();x.readyState="closed";x.emitAll("connect_error",f);if(a){var k=
Error("Connection error");k.data=f;a(k)}x.maybeReconnectOnOpen()});if(!1!==this._timeout){var b=this._timeout;w("connect attempt will timeout after %d",b);var f=setTimeout(function(){w("connect attempt timed out after %d",b);c.destroy();h.close();h.emit("error","timeout");x.emitAll("connect_timeout",b)},b);this.subs.push({destroy:function(){clearTimeout(f)}})}this.subs.push(c);this.subs.push(e);return this};e.prototype.onopen=function(){w("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(l(a,"data",r(this,"ondata")));this.subs.push(l(this.decoder,"decoded",r(this,"ondecoded")));this.subs.push(l(a,"error",r(this,"onerror")));this.subs.push(l(a,"close",r(this,"onclose")))};e.prototype.ondata=function(a){this.decoder.add(a)};e.prototype.ondecoded=function(a){this.emit("packet",a)};e.prototype.onerror=function(a){w("error",a);this.emitAll("error",a)};e.prototype.socket=function(a){var h=this.nsps[a];if(!h){h=new c(this,a);this.nsps[a]=h;var x=this;h.on("connect",
function(){~y(x.connected,h)||x.connected.push(h)})}return h};e.prototype.destroy=function(a){a=y(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};e.prototype.packet=function(a){w("writing packet %j",a);var h=this;h.encoding?h.packetBuffer.push(a):(h.encoding=!0,this.encoder.encode(a,function(a){for(var c=0;c<a.length;c++)h.engine.write(a[c]);h.encoding=!1;h.processPacketQueue()}))};e.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};e.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};e.prototype.close=e.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};e.prototype.onclose=function(a){w("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};e.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)w("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var h=this.attempts*this.reconnectionDelay(),h=Math.min(h,this.reconnectionDelayMax());w("will wait %dms before reconnect attempt",h);this.reconnecting=!0;var x=setTimeout(function(){a.skipReconnect||(w("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(x){x?(w("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",x.data)):(w("reconnect success"),a.onreconnect())}))},h);this.subs.push({destroy:function(){clearTimeout(x)}})}};e.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(d,g,b){g.exports=function(e,m,c){e.on(m,c);return{destroy:function(){e.removeListener(m,c)}}}},{}],5:[function(d,g,b){function e(a,x){this.io=a;this.nsp=x;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var m=d("socket.io-parser");b=d("component-emitter");var c=d("to-array"),n=d("./on"),l=d("component-bind"),r=d("debug")("socket.io-client:socket"),w=d("has-binary");g.exports=e;var y=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=b.prototype.emit;b(e.prototype);e.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[n(a,"open",l(this,"onopen")),n(a,"packet",l(this,"onpacket")),n(a,"close",l(this,"onclose"))]}};e.prototype.open=e.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};e.prototype.send=function(){var a=c(arguments);a.unshift("message");this.emit.apply(this,a);return this};e.prototype.emit=function(h){if(y.hasOwnProperty(h))return a.apply(this,arguments),this;var x=c(arguments),e=m.EVENT;w(x)&&(e=m.BINARY_EVENT);e={type:e,data:x};"function"==typeof x[x.length-1]&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=x.pop(),e.id=this.ids++);this.connected?this.packet(e):this.sendBuffer.push(e);return this};e.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};e.prototype.onopen=function(){r("transport is open - connecting");"/"!=this.nsp&&this.packet({type:m.CONNECT})};e.prototype.onclose=function(a){r("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};e.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case m.CONNECT:this.onconnect();break;case m.EVENT:this.onevent(a);break;case m.BINARY_EVENT:this.onevent(a);break;case m.ACK:this.onack(a);break;case m.BINARY_ACK:this.onack(a);
break;case m.DISCONNECT:this.ondisconnect();break;case m.ERROR:this.emit("error",a.data)}};e.prototype.onevent=function(h){var x=h.data||[];r("emitting event %j",x);null!=h.id&&(r("attaching ack callback to event"),x.push(this.ack(h.id)));this.connected?a.apply(this,x):this.receiveBuffer.push(x)};e.prototype.ack=function(a){var x=this,e=!1;return function(){if(!e){e=!0;var b=c(arguments);r("sending ack %j",b);var n=w(b)?m.BINARY_ACK:m.ACK;x.packet({type:n,id:a,data:b})}}};e.prototype.onack=function(a){r("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};e.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};e.prototype.emitBuffered=function(){var h;for(h=0;h<this.receiveBuffer.length;h++)a.apply(this,this.receiveBuffer[h]);this.receiveBuffer=[];for(h=0;h<this.sendBuffer.length;h++)this.packet(this.sendBuffer[h]);this.sendBuffer=[]};e.prototype.ondisconnect=function(){r("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};e.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};e.prototype.close=e.prototype.disconnect=function(){this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:m.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(d,g,b){(function(e){var m=d("parseuri"),c=d("debug")("socket.io-client:url");g.exports=function(b,d){var r=b;d=d||e.location;null==b&&(b=d.protocol+"//"+d.hostname);"string"==typeof b&&("/"==b.charAt(0)&&(b="/"==b.charAt(1)?d.protocol+b:d.hostname+b),/^(https?|wss?):\/\//.test(b)||(c("protocol-less url %s",b),b="undefined"!=typeof d?d.protocol+"//"+b:"https://"+b),c("parse %s",b),r=m(b));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&
(r.port="443"));r.path=r.path||"/";r.id=r.protocol+"://"+r.host+":"+r.port;r.href=r.protocol+"://"+r.host+(d&&d.port==r.port?"":":"+r.port);return r}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(d,g,b){var e=[].slice;g.exports=function(m,c){"string"==typeof c&&(c=m[c]);if("function"!=typeof c)throw Error("bind() requires a function");var b=e.call(arguments,2);return function(){return c.apply(m,b.concat(e.call(arguments)))}}},
{}],8:[function(d,g,b){function e(m){if(m){for(var c in e.prototype)m[c]=e.prototype[c];return m}}g.exports=e;e.prototype.on=e.prototype.addEventListener=function(e,c){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(c);return this};e.prototype.once=function(e,c){function b(){d.off(e,b);c.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};b.fn=c;this.on(e,b);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=
e.prototype.removeEventListener=function(e,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[e];if(!b)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var d,r=0;r<b.length;r++)if(d=b[r],d===c||d.fn===c){b.splice(r,1);break}return this};e.prototype.emit=function(e){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[e];if(b)for(var b=b.slice(0),d=0,r=b.length;d<r;++d)b[d].apply(this,
c);return this};e.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};e.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(d,g,b){function e(b){return e.enabled(b)?function(c){c instanceof Error&&(c=c.stack||c.message);var d=new Date,l=d-(e[b]||d);e[b]=d;c=b+" "+c+" +"+e.humanize(l);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=e;e.names=[];e.skips=
[];e.enable=function(b){try{localStorage.debug=b}catch(d){}for(var c=(b||"").split(/[\s,]+/),n=c.length,l=0;l<n;l++)b=c[l].replace("*",".*?"),"-"===b[0]?e.skips.push(new RegExp("^"+b.substr(1)+"$")):e.names.push(new RegExp("^"+b+"$"))};e.disable=function(){e.enable("")};e.humanize=function(e){return 36E5<=e?(e/36E5).toFixed(1)+"h":6E4<=e?(e/6E4).toFixed(1)+"m":1E3<=e?(e/1E3|0)+"s":e+"ms"};e.enabled=function(b){for(var c=0,d=e.skips.length;c<d;c++)if(e.skips[c].test(b))return!1;c=0;for(d=e.names.length;c<
d;c++)if(e.names[c].test(b))return!0;return!1};try{window.localStorage&&e.enable(localStorage.debug)}catch(m){}},{}],10:[function(d,g,b){g.exports=d("./lib/")},{"./lib/":11}],11:[function(d,g,b){g.exports=d("./socket");g.exports.parser=d("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(d,g,b){(function(e){function b(a,c){if(!(this instanceof b))return new b(a,c);c=c||{};a&&"object"==typeof a&&(c=a,a=null);a&&(a=y(a),c.host=a.host,c.secure="https"==a.protocol||"wss"==a.protocol,
c.port=a.port,a.query&&(c.query=a.query));this.secure=null!=c.secure?c.secure:e.location&&"https:"==location.protocol;if(c.host){var E=c.host.split(":");c.hostname=E.shift();E.length&&(c.port=E.pop())}this.agent=c.agent||!1;this.hostname=c.hostname||(e.location?location.hostname:"localhost");this.port=c.port||(e.location&&location.port?location.port:this.secure?443:80);this.query=c.query||{};"string"==typeof this.query&&(this.query=h.decode(this.query));this.upgrade=!1!==c.upgrade;this.path=(c.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!c.forceJSONP;this.jsonp=!1!==c.jsonp;this.forceBase64=!!c.forceBase64;this.enablesXDR=!!c.enablesXDR;this.timestampParam=c.timestampParam||"t";this.timestampRequests=c.timestampRequests;this.transports=c.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=c.policyPort||843;this.rememberUpgrade=c.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=c.onlyBinaryUpgrades}
var c=d("./transports"),n=d("component-emitter"),l=d("debug")("engine.io-client:socket"),r=d("indexof"),w=d("engine.io-parser"),y=d("parseuri"),a=d("parsejson"),h=d("parseqs");g.exports=b;b.priorWebsocketSuccess=!1;n(b.prototype);b.protocol=w.protocol;b.Socket=b;b.Transport=d("./transport");b.transports=d("./transports");b.parser=d("engine.io-parser");b.prototype.createTransport=function(a){l('creating transport "%s"',a);var e=this.query,h={},b;for(b in e)e.hasOwnProperty(b)&&(h[b]=e[b]);h.EIO=w.protocol;
h.transport=a;this.id&&(h.sid=this.id);return new c[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:h,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};b.prototype.open=function(){var a;if(this.rememberUpgrade&&b.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var h=this;setTimeout(function(){h.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(c){this.transports.shift();this.open();return}a.open();this.setTransport(a)};b.prototype.setTransport=function(a){l("setting transport %s",a.name);var h=this;this.transport&&(l("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){h.onDrain()}).on("packet",function(a){h.onPacket(a)}).on("error",function(a){h.onError(a)}).on("close",function(){h.onClose("transport close")})};b.prototype.probe=function(a){function h(){if(p.onlyBinaryUpgrades){var f=!this.supportsBinary&&p.transport.supportsBinary;B=B||f}B||(l('probe transport "%s" opened',a),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(f){B||("pong"==f.type&&"probe"==f.data?(l('probe transport "%s" pong',a),p.upgrading=!0,p.emit("upgrading",u),u&&
(b.priorWebsocketSuccess="websocket"==u.name,l('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){B||"closed"==p.readyState||(l("changing transport and sending upgrade packet"),C(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())}))):(l('probe transport "%s" failed',a),f=Error("probe error"),f.transport=u.name,p.emit("upgradeError",f)))}))}function c(){B||(B=!0,C(),u.close(),u=null)}function e(f){var k=Error("probe error: "+
f);k.transport=u.name;c();l('probe transport "%s" failed because of error: %s',a,f);p.emit("upgradeError",k)}function f(){e("transport closed")}function v(){e("socket closed")}function k(a){u&&a.name!=u.name&&(l('"%s" works - aborting "%s"',a.name,u.name),c())}function C(){u.removeListener("open",h);u.removeListener("error",e);u.removeListener("close",f);p.removeListener("close",v);p.removeListener("upgrading",k)}l('probing transport "%s"',a);var u=this.createTransport(a,{probe:1}),B=!1,p=this;b.priorWebsocketSuccess=
!1;u.once("open",h);u.once("error",e);u.once("close",f);this.once("close",v);this.once("upgrading",k);u.open()};b.prototype.onOpen=function(){l("socket open");this.readyState="open";b.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){l("starting upgrade probes");for(var a=0,h=this.upgrades.length;a<h;a++)this.probe(this.upgrades[a])}};b.prototype.onPacket=function(x){if("opening"==this.readyState||
"open"==this.readyState)switch(l('socket receive: type "%s", data "%s"',x.type,x.data),this.emit("packet",x),this.emit("heartbeat"),x.type){case "open":this.onHandshake(a(x.data));break;case "pong":this.setPing();break;case "error":var h=Error("server error");h.code=x.data;this.emit("error",h);break;case "message":this.emit("data",x.data),this.emit("message",x.data)}else l('packet received with socket readyState "%s"',this.readyState)};b.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};b.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var h=this;h.pingTimeoutTimer=setTimeout(function(){if("closed"!=h.readyState)h.onClose("ping timeout")},a||h.pingInterval+h.pingTimeout)};
b.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){l("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};b.prototype.ping=function(){this.sendPacket("ping")};b.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};b.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(l("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};b.prototype.write=b.prototype.send=function(a,h){this.sendPacket("message",a,h);return this};b.prototype.sendPacket=function(a,h,e){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:h},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(e),this.flush())};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){c.once("upgrade",h);c.once("upgradeError",h)},h=function(){c.removeListener("upgrade",h);c.removeListener("upgradeError",h);e()},e=function(){c.onClose("forced close");l("socket closing - telling transport to close");c.transport.close()};this.readyState=
"closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():e()});else this.upgrading?a():e()}return this};b.prototype.onError=function(a){l("socket error %j",a);b.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};b.prototype.onClose=function(a,h){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){l('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){c.writeBuffer=[];c.callbackBuffer=[];c.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,h)}};b.prototype.filterUpgrades=function(a){for(var h=[],c=0,e=a.length;c<e;c++)~r(this.transports,a[c])&&h.push(a[c]);return h}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(d,g,b){function e(c){this.path=c.path;this.hostname=c.hostname;this.port=c.port;this.secure=c.secure;this.query=c.query;this.timestampParam=c.timestampParam;this.timestampRequests=c.timestampRequests;this.readyState="";this.agent=c.agent||!1;this.socket=c.socket;this.enablesXDR=c.enablesXDR}var m=d("engine.io-parser");d=d("component-emitter");g.exports=e;d(e.prototype);e.timestamps=0;e.prototype.onError=function(c,
e){var b=Error(c);b.type="TransportError";b.description=e;this.emit("error",b);return this};e.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};e.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};e.prototype.send=function(c){if("open"==this.readyState)this.write(c);else throw Error("Transport not open");};e.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};e.prototype.onData=function(c){c=m.decodePacket(c,this.socket.binaryType);this.onPacket(c)};e.prototype.onPacket=function(c){this.emit("packet",c)};e.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(d,g,b){(function(e){var m=d("xmlhttprequest"),c=d("./polling-xhr"),n=d("./polling-jsonp"),l=d("./websocket");b.polling=function(b){var d=!1,l=!1,a=!1!==b.jsonp;e.location&&(l=
"https:"==location.protocol,(d=location.port)||(d=l?443:80),d=b.hostname!=location.hostname||d!=b.port,l=b.secure!=l);b.xdomain=d;b.xscheme=l;if("open"in new m(b)&&!b.forceJSONP)return new c(b);if(!a)throw Error("JSONP disabled");return new n(b)};b.websocket=l}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,g,b){(function(e){function b(){}function c(a){n.call(this,a);this.query=
this.query||{};y||(e.___eio||(e.___eio=[]),y=e.___eio);this.index=y.length;var h=this;y.push(function(a){h.onData(a)});this.query.j=this.index;e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){h.script&&(h.script.onerror=b)},!1)}var n=d("./polling"),l=d("component-inherit");g.exports=c;var r=/\n/g,w=/\\n/g,y;l(c,n);c.prototype.supportsBinary=!1;c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);n.prototype.doClose.call(this)};c.prototype.doPoll=function(){var a=this,h=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);h.async=!0;h.src=this.uri();h.onerror=function(h){a.onError("jsonp poll error",h)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(h,c);this.script=h;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};c.prototype.doWrite=function(a,h){function c(){e();h()}function e(){if(b.iframe)try{b.form.removeChild(b.iframe)}catch(a){b.onError("jsonp polling iframe removal error",a)}try{k=document.createElement('<iframe src="javascript:0" name="'+b.iframeId+'">')}catch(a){k=document.createElement("iframe"),k.name=b.iframeId,k.src="javascript:0"}k.id=b.iframeId;b.form.appendChild(k);b.iframe=k}var b=this;if(!this.form){var d=document.createElement("form"),
f=document.createElement("textarea"),v=this.iframeId="eio_iframe_"+this.index,k;d.className="socketio";d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";d.target=v;d.method="POST";d.setAttribute("accept-charset","utf-8");f.name="d";d.appendChild(f);document.body.appendChild(d);this.form=d;this.area=f}this.form.action=this.uri();e();a=a.replace(w,"\\\n");this.area.value=a.replace(r,"\\n");try{this.form.submit()}catch(C){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==b.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,g,b){(function(b){function m(){}function c(a){w.call(this,a);if(b.location){var h="https:"==location.protocol,c=location.port;c||(c=h?443:80);this.xd=a.hostname!=b.location.hostname||c!=a.port;this.xs=a.secure!=h}}function n(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function l(){for(var a in n.requests)n.requests.hasOwnProperty(a)&&n.requests[a].abort()}var r=d("xmlhttprequest"),w=d("./polling"),y=d("component-emitter"),a=d("component-inherit"),h=d("debug")("engine.io-client:polling-xhr");g.exports=c;g.exports.Request=n;a(c,w);c.prototype.supportsBinary=!0;c.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new n(a)};c.prototype.doWrite=function(a,h){var b=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;b.on("success",h);b.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=b};c.prototype.doPoll=function(){h("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};y(n.prototype);n.prototype.create=function(){var a=this.xhr=new r({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),c=this;try{h("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(d){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){c.onLoad()},a.onerror=function(){c.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)c.onLoad();else setTimeout(function(){c.onError(a.status)},0)};h("xhr data %s",this.data);a.send(this.data)}catch(d){setTimeout(function(){c.onError(d)},0);return}b.document&&(this.index=n.requestsCount++,n.requests[this.index]=this)};n.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
n.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};n.prototype.onError=function(a){this.emit("error",a);this.cleanup()};n.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=m:this.xhr.onreadystatechange=m;try{this.xhr.abort()}catch(a){}b.document&&delete n.requests[this.index];this.xhr=null}};n.prototype.onLoad=function(){var a;try{var h;try{h=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(b){}a=
"application/octet-stream"===h?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(b){this.onError(b)}if(null!=a)this.onData(a)};n.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};n.prototype.abort=function(){this.cleanup()};b.document&&(n.requestsCount=0,n.requests={},b.attachEvent?b.attachEvent("onunload",l):b.addEventListener&&b.addEventListener("beforeunload",l,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(d,g,b){function e(b){var c=b&&b.forceBase64;if(!r||c)this.supportsBinary=!1;m.call(this,b)}var m=d("../transport"),c=d("parseqs"),n=d("engine.io-parser");b=d("component-inherit");var l=d("debug")("engine.io-client:polling");g.exports=e;var r=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;b(e,m);e.prototype.name="polling";e.prototype.doOpen=function(){this.poll()};e.prototype.pause=
function(b){function c(){l("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var h=0;this.polling&&(l("we are currently polling - waiting to pause"),h++,this.once("pollComplete",function(){l("pre-pause polling complete");--h||c()}));this.writable||(l("we are currently writing - waiting to pause"),h++,this.once("drain",function(){l("pre-pause writing complete");--h||c()}))}else c()};e.prototype.poll=function(){l("polling");this.polling=!0;this.doPoll();
this.emit("poll")};e.prototype.onData=function(b){var c=this;l("polling got data %s",b);n.decodePayload(b,this.socket.binaryType,function(a,b,e){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))};e.prototype.doClose=function(){function b(){l("writing close packet");c.write([{type:"close"}])}
var c=this;"open"==this.readyState?(l("transport open - closing"),b()):(l("transport not open - deferring close"),this.once("open",b))};e.prototype.write=function(b){var c=this;this.writable=!1;var a=function(){c.writable=!0;c.emit("drain")},c=this;n.encodePayload(b,this.supportsBinary,function(b){c.doWrite(b,a)})};e.prototype.uri=function(){var b=this.query||{},e=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+m.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=c.encode(b);this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return e+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(d,g,b){function e(b){b&&b.forceBase64&&(this.supportsBinary=!1);m.call(this,b)}var m=d("../transport"),c=d("engine.io-parser"),n=d("parseqs");b=d("component-inherit");var l=d("debug")("engine.io-client:websocket"),
r=d("ws");g.exports=e;b(e,m);e.prototype.name="websocket";e.prototype.supportsBinary=!0;e.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new r(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};e.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(c){b.onData(c.data)};this.ws.onerror=
function(c){b.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(e.prototype.onData=function(b){var c=this;setTimeout(function(){m.prototype.onData.call(c,b)},0)});e.prototype.write=function(b){var e=this;this.writable=!1;for(var a=0,h=b.length;a<h;a++)c.encodePacket(b[a],this.supportsBinary,function(a){try{e.ws.send(a)}catch(b){l("websocket closed before onclose event")}});setTimeout(function(){e.writable=!0;e.emit("drain")},0)};e.prototype.onClose=
function(){m.prototype.onClose.call(this)};e.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};e.prototype.uri=function(){var b=this.query||{},c=this.secure?"wss":"ws",a="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=n.encode(b);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b};e.prototype.check=function(){return!!r&&!("__initialize"in
r&&this.name===e.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(d,g,b){var e=d("has-cors");g.exports=function(b){var c=b.xdomain,d=b.xscheme;b=b.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||e))return new XMLHttpRequest}catch(l){}try{if("undefined"!=typeof XDomainRequest&&!d&&b)return new XDomainRequest}catch(l){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(l){}}},{"has-cors":37}],20:[function(d,
g,b){g.exports=function(b,d){var c=function(){};c.prototype=d.prototype;b.prototype=new c;b.prototype.constructor=b}},{}],21:[function(d,g,b){function e(){var b;try{b=localStorage.debug}catch(c){}return b}b=g.exports=d("./debug");b.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};b.formatArgs=function(){var e=arguments,c=this.useColors;e[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+e[0]+(c?"%c ":" ")+"+"+b.humanize(this.diff);
if(!c)return e;var c="color: "+this.color,e=[e[0],c,"color: inherit"].concat(Array.prototype.slice.call(e,1)),d=0,l=0;e[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(d++,"%c"===b&&(l=d))});e.splice(l,0,c);return e};b.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(c){}};b.load=e;b.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};b.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");b.formatters.j=function(b){return JSON.stringify(b)};b.enable(e())},{"./debug":22}],22:[function(d,g,b){b=g.exports=function(c){function d(){}function l(){var c=+new Date;l.diff=c-(m||c);l.prev=m;m=l.curr=c;null==l.useColors&&(l.useColors=b.useColors());null==l.color&&l.useColors&&(l.color=b.colors[e++%b.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=b.coerce(d[0]);
"string"!==typeof d[0]&&(d=["%o"].concat(d));var a=0;d[0]=d[0].replace(/%([a-z%])/g,function(c,e){if("%"===c)return c;a++;var n=b.formatters[e];"function"===typeof n&&(c=n.call(l,d[a]),d.splice(a,1),a--);return c});"function"===typeof b.formatArgs&&(d=b.formatArgs.apply(l,d));(l.log||b.log||console.log.bind(console)).apply(l,d)}d.enabled=!1;l.enabled=!0;var g=b.enabled(c)?l:d;g.namespace=c;return g};b.coerce=function(b){return b instanceof Error?b.stack||b.message:b};b.disable=function(){b.enable("")};
b.enable=function(c){b.save(c);for(var e=(c||"").split(/[\s,]+/),d=e.length,m=0;m<d;m++)e[m]&&(c=e[m].replace(/\*/g,".*?"),"-"===c[0]?b.skips.push(new RegExp("^"+c.substr(1)+"$")):b.names.push(new RegExp("^"+c+"$")))};b.enabled=function(c){var e,d;e=0;for(d=b.skips.length;e<d;e++)if(b.skips[e].test(c))return!1;e=0;for(d=b.names.length;e<d;e++)if(b.names[e].test(c))return!0;return!1};b.humanize=d("ms");b.names=[];b.skips=[];b.formatters={};var e=0,m},{ms:23}],23:[function(d,g,b){function e(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var e=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*e;case "days":case "day":case "d":return 864E5*e;case "hours":case "hour":case "h":return 36E5*e;case "minutes":case "minute":case "m":return 6E4*e;case "seconds":case "second":case "s":return 1E3*e;case "ms":return e}}}function m(b,e,d){if(!(b<e))return b<1.5*e?Math.floor(b/e)+" "+d:Math.ceil(b/e)+" "+d+"s"}
g.exports=function(b,d){d=d||{};return"string"==typeof b?e(b):d["long"]?m(b,864E5,"day")||m(b,36E5,"hour")||m(b,6E4,"minute")||m(b,1E3,"second")||b+" ms":864E5<=b?Math.round(b/864E5)+"d":36E5<=b?Math.round(b/36E5)+"h":6E4<=b?Math.round(b/6E4)+"m":1E3<=b?Math.round(b/1E3)+"s":b+"ms"}},{}],24:[function(d,g,b){(function(e){function m(a,f,v){if(!f)return b.encodeBase64Packet(a,v);var k=new FileReader;k.onload=function(){a.data=k.result;b.encodePacket(a,f,!0,v)};return k.readAsArrayBuffer(a.data)}function c(a,
f,b){var k=Array(a.length);b=w(a.length,b);for(var e=function(a,b,v){f(b,function(f,b){k[a]=b;v(f,k)})},c=0;c<a.length;c++)e(c,a[c],b)}var n=d("./keys"),l=d("arraybuffer.slice"),g=d("base64-arraybuffer"),w=d("after"),y=d("utf8"),a=navigator.userAgent.match(/Android/i);b.protocol=3;var h=b.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},x=n(h),D={type:"error",data:"parser error"},E=d("blob");b.encodePacket=function(c,f,v,k){"function"==typeof f&&(k=f,f=!1);"function"==typeof v&&(k=
v,v=null);var C=void 0===c.data?void 0:c.data.buffer||c.data;if(e.ArrayBuffer&&C instanceof ArrayBuffer){if(f){v=c.data;f=new Uint8Array(v);v=new Uint8Array(1+v.byteLength);v[0]=h[c.type];for(c=0;c<f.length;c++)v[c+1]=f[c];c=k(v.buffer)}else c=b.encodeBase64Packet(c,k);return c}if(E&&C instanceof e.Blob)return f?a?c=m(c,f,k):(f=new Uint8Array(1),f[0]=h[c.type],c=new E([f.buffer,c.data]),c=k(c)):c=b.encodeBase64Packet(c,k),c;f=h[c.type];void 0!==c.data&&(f+=v?y.encode(String(c.data)):String(c.data));
return k(""+f)};b.encodeBase64Packet=function(a,f){var c="b"+b.packets[a.type];if(E&&a.data instanceof E){var k=new FileReader;k.onload=function(){var a=k.result.split(",")[1];f(c+a)};return k.readAsDataURL(a.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(d){h=new Uint8Array(a.data);for(var u=Array(h.length),B=0;B<h.length;B++)u[B]=h[B];h=String.fromCharCode.apply(null,u)}c+=e.btoa(h);return f(c)};b.decodePacket=function(a,f,c){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return b.decodeBase64Packet(a.substr(1),f);if(c)try{a=y.decode(a)}catch(k){return D}c=a.charAt(0);return Number(c)==c&&x[c]?1<a.length?{type:x[c],data:a.substring(1)}:{type:x[c]}:D}c=(new Uint8Array(a))[0];a=l(a,1);E&&"blob"===f&&(a=new E([a]));return{type:x[c],data:a}};b.decodeBase64Packet=function(a,f){var b=x[a.charAt(0)];if(!e.ArrayBuffer)return{type:b,data:{base64:!0,data:a.substr(1)}};var k=g.decode(a.substr(1));"blob"===f&&E&&(k=new E([k]));return{type:b,data:k}};b.encodePayload=
function(e,f,v){"function"==typeof f&&(v=f,f=null);if(f)return E&&!a?b.encodePayloadAsBlob(e,v):b.encodePayloadAsArrayBuffer(e,v);if(!e.length)return v("0:");c(e,function(a,c){b.encodePacket(a,f,!0,function(a){c(null,a.length+":"+a)})},function(a,f){return v(f.join(""))})};b.decodePayload=function(a,f,c){if("string"!=typeof a)return b.decodePayloadAsBinary(a,f,c);"function"===typeof f&&(c=f,f=null);var k;if(""==a)return c(D,0,1);k="";for(var e,h,d=0,p=a.length;d<p;d++)if(h=a.charAt(d),":"!=h)k+=h;
else{if(""==k||k!=(e=Number(k)))return c(D,0,1);h=a.substr(d+1,e);if(k!=h.length)return c(D,0,1);if(h.length){k=b.decodePacket(h,f,!0);if(D.type==k.type&&D.data==k.data)return c(D,0,1);if(!1===c(k,d+e,p))return}d+=e;k=""}if(""!=k)return c(D,0,1)};b.encodePayloadAsArrayBuffer=function(a,f){if(!a.length)return f(new ArrayBuffer(0));c(a,function(a,f){b.encodePacket(a,!0,!0,function(a){return f(null,a)})},function(a,b){var c=b.reduce(function(a,f){var b;b="string"===typeof f?f.length:f.byteLength;return a+
b.toString().length+b+2},0),e=new Uint8Array(c),h=0;b.forEach(function(a){var f="string"===typeof a,b=a;if(f){for(var b=new Uint8Array(a.length),k=0;k<a.length;k++)b[k]=a.charCodeAt(k);b=b.buffer}f?e[h++]=0:e[h++]=1;a=b.byteLength.toString();for(k=0;k<a.length;k++)e[h++]=parseInt(a[k]);e[h++]=255;b=new Uint8Array(b);for(k=0;k<b.length;k++)e[h++]=b[k]});return f(e.buffer)})};b.encodePayloadAsBlob=function(a,f){c(a,function(a,f){b.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);b[0]=1;if("string"===
typeof a){for(var c=new Uint8Array(a.length),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);a=c.buffer;b[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),h=new Uint8Array(c.length+1),e=0;e<c.length;e++)h[e]=parseInt(c[e]);h[c.length]=255;E&&(a=new E([b.buffer,h.buffer,a]),f(null,a))})},function(a,b){return f(new E(b))})};b.decodePayloadAsBinary=function(a,f,c){"function"===typeof f&&(c=f,f=null);for(var k=[],e=!1;0<a.byteLength;){for(var h=new Uint8Array(a),d=0===h[0],x="",z=1;255!=
h[z];z++){if(310<x.length){e=!0;break}x+=h[z]}if(e)return c(D,0,1);a=l(a,2+x.length);x=parseInt(x);h=l(a,0,x);if(d)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){for(d=new Uint8Array(h),h="",z=0;z<d.length;z++)h+=String.fromCharCode(d[z])}k.push(h);a=l(a,x)}var q=k.length;k.forEach(function(a,k){c(b.decodePacket(a,f,!0),k,q)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(d,g,b){g.exports=Object.keys||function(b){var d=[],c=Object.prototype.hasOwnProperty,n;for(n in b)c.call(b,n)&&d.push(n);return d}},{}],26:[function(d,g,b){function e(){}g.exports=function(b,c,d){function l(b,e){if(0>=l.count)throw Error("after called too many times");--l.count;b?(g=!0,c(b),c=d):0!==l.count||g||c(null,e)}var g=!1;d=d||e;l.count=b;return 0===b?c():l}},{}],27:[function(d,g,b){g.exports=function(b,d,c){var n=b.byteLength;d=d||0;c=c||n;if(b.slice)return b.slice(d,
c);0>d&&(d+=n);0>c&&(c+=n);c>n&&(c=n);if(d>=n||d>=c||0===n)return new ArrayBuffer(0);b=new Uint8Array(b);for(var n=new Uint8Array(c-d),l=0;d<c;d++,l++)n[l]=b[d];return n.buffer}},{}],28:[function(d,g,b){(function(e){b.encode=function(b){b=new Uint8Array(b);var c,d=b.length,l="";for(c=0;c<d;c+=3)l+=e[b[c]>>2],l+=e[(b[c]&3)<<4|b[c+1]>>4],l+=e[(b[c+1]&15)<<2|b[c+2]>>6],l+=e[b[c+2]&63];2===d%3?l=l.substring(0,l.length-1)+"=":1===d%3&&(l=l.substring(0,l.length-2)+"==");return l};b.decode=function(b){var c=
.75*b.length,d=b.length,l=0,g,w,y,a;"="===b[b.length-1]&&(c--,"="===b[b.length-2]&&c--);for(var h=new ArrayBuffer(c),x=new Uint8Array(h),c=0;c<d;c+=4)g=e.indexOf(b[c]),w=e.indexOf(b[c+1]),y=e.indexOf(b[c+2]),a=e.indexOf(b[c+3]),x[l++]=g<<2|w>>4,x[l++]=(w&15)<<4|y>>2,x[l++]=(y&3)<<6|a&63;return h}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(d,g,b){(function(b){function d(b,e){e=e||{};for(var l=new c,a=0;a<b.length;a++)l.append(b[a]);return e.type?l.getBlob(e.type):
l.getBlob()}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,n;try{n=2==(new Blob(["hi"])).size}catch(r){n=!1}var l=c&&c.prototype.append&&c.prototype.getBlob;b=n?b.Blob:l?d:void 0;g.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(d,g,b){(function(e){(function(d){function c(a){for(var b=[],c=0,k=a.length,h,e;c<k;)h=a.charCodeAt(c++),55296<=h&&56319>=h&&c<k?(e=a.charCodeAt(c++),56320==(e&64512)?b.push(((h&1023)<<
10)+(e&1023)+65536):(b.push(h),c--)):b.push(h);return b}function n(){if(D>=x)throw Error("Invalid byte index");var a=h[D]&255;D++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function l(){var a,b,c,k;if(D>x)throw Error("Invalid byte index");if(D==x)return!1;a=h[D]&255;D++;if(0==(a&128))return a;if(192==(a&224)){b=n();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=n();c=n();a=(a&15)<<12|b<<6|c;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=n(),c=n(),k=n(),a=(a&15)<<18|b<<12|c<<6|k,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var r="object"==typeof b&&b,w="object"==typeof g&&g&&g.exports==r&&g,y="object"==typeof e&&e;if(y.global===y||y.window===y)d=y;var a=String.fromCharCode,h,x,D,y={version:"2.0.0",encode:function(b){b=c(b);for(var f=b.length,h=-1,k,e="";++h<f;){k=b[h];if(0==(k&4294967168))k=a(k);else{var d="";0==(k&4294965248)?d=a(k>>6&31|192):0==(k&4294901760)?(d=a(k>>12&15|224),d+=a(k>>
6&63|128)):0==(k&4292870144)&&(d=a(k>>18&7|240),d+=a(k>>12&63|128),d+=a(k>>6&63|128));k=d+=a(k&63|128)}e+=k}return e},decode:function(b){h=c(b);x=h.length;D=0;b=[];for(var f;!1!==(f=l());)b.push(f);f=b.length;for(var e=-1,k,d="";++e<f;)k=b[e],65535<k&&(k-=65536,d+=a(k>>>10&1023|55296),k=56320|k&1023),d+=a(k);return d}};if(r&&!r.nodeType)if(w)w.exports=y;else{d={}.hasOwnProperty;for(var E in y)d.call(y,E)&&(r[E]=y[E])}else d.utf8=y})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(d,g,b){(function(b){var d=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,l=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,w=/\s+$/;g.exports=function(g){if("string"!=typeof g||!g)return null;g=g.replace(r,"").replace(w,"");if(b.JSON&&JSON.parse)return JSON.parse(g);if(d.test(g.replace(c,"@").replace(n,"]").replace(l,"")))return(new Function("return "+g))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(d,g,b){b.encode=function(b){var d="",c;for(c in b)b.hasOwnProperty(c)&&(d.length&&(d+="&"),d+=encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return d};b.decode=function(b){var d={};b=b.split("&");for(var c=0,n=b.length;c<n;c++){var l=b[c].split("=");d[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return d}},{}],33:[function(d,g,b){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
m="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(b){var d=b,l=b.indexOf("["),g=b.indexOf("]");-1!=l&&-1!=g&&(b=b.substring(0,l)+b.substring(l,g).replace(/:/g,";")+b.substring(g,b.length));b=e.exec(b||"");for(var w={},y=14;y--;)w[m[y]]=b[y]||"";-1!=l&&-1!=g&&(w.source=d,w.host=w.host.substring(1,w.host.length-1).replace(/;/g,":"),w.authority=w.authority.replace("[","").replace("]","").replace(/;/g,":"),w.ipv6uri=
!0);return w}},{}],34:[function(d,g,b){function e(b,e,d){return e?new m(b,e):new m(b)}d=function(){return this}();var m=d.WebSocket||d.MozWebSocket;g.exports=m?e:null;m&&(e.prototype=m.prototype)},{}],35:[function(d,g,b){(function(b){var m=d("isarray");g.exports=function(c){function d(c){if(!c)return!1;if(b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(m(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&
"object"==typeof c)for(g in c.toJSON&&(c=c.toJSON()),c)if(c.hasOwnProperty(g)&&d(c[g]))return!0;return!1}return d(c)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(d,g,b){g.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(d,g,b){d=d("global");try{g.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(e){g.exports=!1}},{global:38}],38:[function(d,g,
b){g.exports=function(){return this}()},{}],39:[function(d,g,b){var e=[].indexOf;g.exports=function(b,c){if(e)return b.indexOf(c);for(var d=0;d<b.length;++d)if(b[d]===c)return d;return-1}},{}],40:[function(d,g,b){var e=Object.prototype.hasOwnProperty;b.keys=Object.keys||function(b){var c=[],d;for(d in b)e.call(b,d)&&c.push(d);return c};b.values=function(b){var c=[],d;for(d in b)e.call(b,d)&&c.push(b[d]);return c};b.merge=function(b,c){for(var d in c)e.call(c,d)&&(b[d]=c[d]);return b};b.length=function(e){return b.keys(e).length};
b.isEmpty=function(e){return 0==b.length(e)}},{}],41:[function(d,g,b){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,m="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(b){b=e.exec(b||"");for(var d={},g=14;g--;)d[m[g]]=b[g]||
"";return d}},{}],42:[function(d,g,b){(function(e){var g=d("isarray"),c=d("./is-buffer");b.deconstructPacket=function(b){function e(b){if(!b)return b;if(c(b)){var n={_placeholder:!0,num:d.length};d.push(b);return n}if(g(b)){for(var n=Array(b.length),a=0;a<b.length;a++)n[a]=e(b[a]);return n}if("object"==typeof b&&!(b instanceof Date)){n={};for(a in b)n[a]=e(b[a]);return n}return b}var d=[];b.data=e(b.data);b.attachments=d.length;return{packet:b,buffers:d}};b.reconstructPacket=function(b,c){function e(b){if(b&&
b._placeholder)return c[b.num];if(g(b))for(var d=0;d<b.length;d++)b[d]=e(b[d]);else if(b&&"object"==typeof b)for(d in b)b[d]=e(b[d]);return b}b.data=e(b.data);b.attachments=void 0;return b};b.removeBlobs=function(b,d){function r(a,b,x){if(!a)return a;if(e.Blob&&a instanceof Blob||e.File&&a instanceof File){w++;var D=new FileReader;D.onload=function(){x?x[b]=this.result:y=this.result;--w||d(y)};D.readAsArrayBuffer(a)}else if(g(a))for(D=0;D<a.length;D++)r(a[D],D,a);else if(a&&"object"==typeof a&&!c(a))for(D in a)r(a[D],
D,a)}var w=0,y=b;r(y);w||d(y)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(d,g,b){function e(){}function m(a){var c,e=!1;c=""+a.type;if(b.BINARY_EVENT==a.type||b.BINARY_ACK==a.type)c+=a.attachments,c+="-";a.nsp&&"/"!=a.nsp&&(e=!0,c+=a.nsp);null!=a.id&&(e&&(c+=",",e=!1),c+=a.id);null!=a.data&&(e&&(c+=","),c+=w.stringify(a.data));r("encoded %j as %s",a,c);return c}function c(a,b){y.removeBlobs(a,function(a){var c=y.deconstructPacket(a);
a=m(c.packet);c=c.buffers;c.unshift(a);b(c)})}function n(){this.reconstructor=null}function l(a){this.reconPack=a;this.buffers=[]}var r=d("debug")("socket.io-parser"),w=d("json3");d("isarray");g=d("component-emitter");var y=d("./binary"),a=d("./is-buffer");b.protocol=4;b.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");b.CONNECT=0;b.DISCONNECT=1;b.EVENT=2;b.ACK=3;b.ERROR=4;b.BINARY_EVENT=5;b.BINARY_ACK=6;b.Encoder=e;b.Decoder=n;e.prototype.encode=function(a,e){r("encoding packet %j",
a);if(b.BINARY_EVENT==a.type||b.BINARY_ACK==a.type)c(a,e);else{var d=m(a);e([d])}};g(n.prototype);n.prototype.add=function(c){if("string"==typeof c){a:{var e={},d=0;e.type=Number(c.charAt(0));if(null==b.types[e.type])c={type:b.ERROR,data:"parser error"};else{if(b.BINARY_EVENT==e.type||b.BINARY_ACK==e.type){for(e.attachments="";"-"!=c.charAt(++d);)e.attachments+=c.charAt(d);e.attachments=Number(e.attachments)}if("/"==c.charAt(d+1))for(e.nsp="";++d;){var E=c.charAt(d);if(","==E)break;e.nsp+=E;if(d+
1==c.length)break}else e.nsp="/";E=c.charAt(d+1);if(""!=E&&Number(E)==E){for(e.id="";++d;){E=c.charAt(d);if(null==E||Number(E)!=E){--d;break}e.id+=c.charAt(d);if(d+1==c.length)break}e.id=Number(e.id)}if(c.charAt(++d))try{e.data=w.parse(c.substr(d))}catch(g){c={type:b.ERROR,data:"parser error"};break a}r("decoded %s as %j",c,e);c=e}}b.BINARY_EVENT==c.type||b.BINARY_ACK==c.type?(this.reconstructor=new l(c),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c)}else if(a(c)||
c.base64)if(this.reconstructor){if(c=this.reconstructor.takeBinaryData(c))this.reconstructor=null,this.emit("decoded",c)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+c);};n.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};l.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=y.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};l.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(d,g,b){(function(b){g.exports=function(d){return b.Buffer&&b.Buffer.isBuffer(d)||b.ArrayBuffer&&d instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(d,g,b){g.exports=d(36)},{}],46:[function(d,g,b){(function(e){function d(b){if(d[b]!==r)return d[b];
var f;if("bug-string-char-index"==b)f=!1;else if("json"==b)f=d("json-stringify")&&d("json-parse");else{var k;if("json-stringify"==b){f=y.stringify;var e="function"==typeof f&&a;if(e){(k=function(){return 1}).toJSON=k;try{e="0"===f(0)&&"0"===f(new Number)&&'""'==f(new String)&&f(c)===r&&f(r)===r&&f()===r&&"1"===f(k)&&"[1]"==f([k])&&"[null]"==f([r])&&"null"==f(null)&&"[null,null,null]"==f([r,c,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==f({a:[k,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===
f(null,k)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new Date(-1))}catch(h){e=!1}}f=e}if("json-parse"==b){f=y.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){k=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var v=5==k.a.length&&1===k.a[0];if(v){try{v=!f('"\t"')}catch(h){}if(v)try{v=1!==f("01")}catch(h){}if(v)try{v=
1!==f("1.")}catch(h){}}}}catch(h){v=!1}f=v}}return d[b]=!!f}var c={}.toString,g,l,r,w="object"==typeof JSON&&JSON,y="object"==typeof b&&b&&!b.nodeType&&b;y&&w?(y.stringify=w.stringify,y.parse=w.parse):y=e.JSON=w||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(I){}if(!d("json")){var h=d("bug-string-char-index");if(!a)var x=Math.floor,D=
[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+x((a-1969+(b=+(1<b)))/4)-x((a-1901+b)/100)+x((a-1601+b)/400)};(g={}.hasOwnProperty)||(g=function(a){var b={},f;(b.__proto__=null,b.__proto__={toString:1},b).toString!=c?g=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(f=b.constructor,g=function(a){var b=(this.constructor||f).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return g.call(this,a)});var M=
{"boolean":1,number:1,string:1,undefined:1};l=function(a,b){var f=0,k,e,d;(k=function(){this.valueOf=0}).prototype.valueOf=0;e=new k;for(d in e)g.call(e,d)&&f++;k=e=null;f?l=2==f?function(a,b){var f={},k="[object Function]"==c.call(a),e;for(e in a)k&&"prototype"==e||g.call(f,e)||!(f[e]=1)||!g.call(a,e)||b(e)}:function(a,b){var f="[object Function]"==c.call(a),k,e;for(k in a)f&&"prototype"==k||!g.call(a,k)||(e="constructor"===k)||b(k);(e||g.call(a,k="constructor"))&&b(k)}:(e="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
l=function(a,b){var f="[object Function]"==c.call(a),k,d;if(d=!f&&"function"!=typeof a.constructor)d=typeof a.hasOwnProperty,d="object"==d?!!a.hasOwnProperty:!M[d];d=d?a.hasOwnProperty:g;for(k in a)f&&"prototype"==k||!d.call(a,k)||b(k);for(f=e.length;k=e[--f];d.call(a,k)&&b(k));});return l(a,b)};if(!d("json-stringify")){var f={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},v=function(a,b){return("000000"+(b||0)).slice(-a)},k=function(a){var b='"',c=0,k=a.length,e=10<k&&h,d;for(e&&
(d=a.split(""));c<k;c++){var G=a.charCodeAt(c);switch(G){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=f[G];break;default:b=32>G?b+("\\u00"+v(2,G.toString(16))):b+(e?d[c]:h?a.charAt(c):a[c])}}return b+'"'},C=function(a,b,f,e,d,h,G){var t,q,u,B,z,p,L,J,D;try{t=b[a]}catch(m){}if("object"==typeof t&&t)if(q=c.call(t),"[object Date]"!=q||g.call(t,"toJSON"))"function"==typeof t.toJSON&&("[object Number]"!=q&&"[object String]"!=q&&"[object Array]"!=q||g.call(t,"toJSON"))&&(t=t.toJSON(a));else if(t>
-1/0&&t<1/0){if(E){B=x(t/864E5);for(q=x(B/365.2425)+1970-1;E(q+1,0)<=B;q++);for(u=x((B-E(q,0))/30.42);E(q,u+1)<=B;u++);B=1+B-E(q,u);z=(t%864E5+864E5)%864E5;p=x(z/36E5)%24;L=x(z/6E4)%60;J=x(z/1E3)%60;z%=1E3}else q=t.getUTCFullYear(),u=t.getUTCMonth(),B=t.getUTCDate(),p=t.getUTCHours(),L=t.getUTCMinutes(),J=t.getUTCSeconds(),z=t.getUTCMilliseconds();t=(0>=q||1E4<=q?(0>q?"-":"+")+v(6,0>q?-q:q):v(4,q))+"-"+v(2,u+1)+"-"+v(2,B)+"T"+v(2,p)+":"+v(2,L)+":"+v(2,J)+"."+v(3,z)+"Z"}else t=null;f&&(t=f.call(b,
a,t));if(null===t)return"null";q=c.call(t);if("[object Boolean]"==q)return""+t;if("[object Number]"==q)return t>-1/0&&t<1/0?""+t:"null";if("[object String]"==q)return k(""+t);if("object"==typeof t){for(a=G.length;a--;)if(G[a]===t)throw TypeError();G.push(t);D=[];b=h;h+=d;if("[object Array]"==q){u=0;for(a=t.length;u<a;u++)q=C(u,t,f,e,d,h,G),D.push(q===r?"null":q);a=D.length?d?"[\n"+h+D.join(",\n"+h)+"\n"+b+"]":"["+D.join(",")+"]":"[]"}else l(e||t,function(a){var b=C(a,t,f,e,d,h,G);b!==r&&D.push(k(a)+
":"+(d?" ":"")+b)}),a=D.length?d?"{\n"+h+D.join(",\n"+h)+"\n"+b+"}":"{"+D.join(",")+"}":"{}";G.pop();return a}};y.stringify=function(a,b,f){var k,e,d,h;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(h=c.call(b)))e=b;else if("[object Array]"==h){d={};for(var G=0,v=b.length,t;G<v;t=b[G++],(h=c.call(t),"[object String]"==h||"[object Number]"==h)&&(d[t]=1));}if(f)if("[object Number]"==(h=c.call(f))){if(0<(f-=f%1))for(k="",10<f&&(f=10);k.length<f;k+=" ");}else"[object String]"==
h&&(k=10>=f.length?f:f.slice(0,10));return C("",(t={},t[""]=a,t),e,d,k,"",[])}}if(!d("json-parse")){var u=String.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,z,q=function(){p=z=null;throw SyntaxError();},t=function(){for(var a=z,b=a.length,f,c,k,e,d;p<b;)switch(d=a.charCodeAt(p),d){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return f=h?a.charAt(p):a[p],p++,f;case 34:f="@";for(p++;p<b;)if(d=a.charCodeAt(p),32>d)q();
else if(92==d)switch(d=a.charCodeAt(++p),d){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:f+=B[d];p++;break;case 117:c=++p;for(k=p+4;p<k;p++)d=a.charCodeAt(p),48<=d&&57>=d||97<=d&&102>=d||65<=d&&70>=d||q();f+=u("0x"+a.slice(c,p));break;default:q()}else{if(34==d)break;d=a.charCodeAt(p);for(c=p;32<=d&&92!=d&&34!=d;)d=a.charCodeAt(++p);f+=a.slice(c,p)}if(34==a.charCodeAt(p))return p++,f;q();default:c=p;45==d&&(e=!0,d=a.charCodeAt(++p));if(48<=d&&57>=d){for(48==d&&(d=a.charCodeAt(p+
1),48<=d&&57>=d)&&q();p<b&&(d=a.charCodeAt(p),48<=d&&57>=d);p++);if(46==a.charCodeAt(p)){for(k=++p;k<b&&(d=a.charCodeAt(k),48<=d&&57>=d);k++);k==p&&q();p=k}d=a.charCodeAt(p);if(101==d||69==d){d=a.charCodeAt(++p);43!=d&&45!=d||p++;for(k=p;k<b&&(d=a.charCodeAt(k),48<=d&&57>=d);k++);k==p&&q();p=k}return+a.slice(c,p)}e&&q();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,null;q()}return"$"},J=function(a){var b,f;"$"==a&&q();if("string"==
typeof a){if("@"==(h?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;f||(f=!0)){a=t();if("]"==a)break;f&&(","==a?(a=t(),"]"==a&&q()):q());","==a&&q();b.push(J(a))}return b}if("{"==a){for(b={};;f||(f=!0)){a=t();if("}"==a)break;f&&(","==a?(a=t(),"}"==a&&q()):q());","!=a&&"string"==typeof a&&"@"==(h?a.charAt(0):a[0])&&":"==t()||q();b[a.slice(1)]=J(t())}return b}q()}return a},G=function(a,b,f){f=L(a,b,f);f===r?delete a[b]:a[b]=f},L=function(a,b,f){var k=a[b],d;if("object"==typeof k&&k)if("[object Array]"==
c.call(k))for(d=k.length;d--;)G(k,d,f);else l(k,function(a){G(k,a,f)});return f.call(a,b,k)};y.parse=function(a,b){var f,k;p=0;z=""+a;f=J(t());"$"!=t()&&q();p=z=null;return b&&"[object Function]"==c.call(b)?L((k={},k[""]=f,k),"",b):f}}}})(this)},{}],47:[function(d,g,b){g.exports=function(b,d){for(var c=[],g=(d=d||0)||0;g<b.length;g++)c[g-d]=b[g];return c}},{}]},{},[1])(1)});var QRCode;
!function(){function A(a){this.mode=c.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];a=[];for(var b=0,d=this.data.length;d>b;b++){var e=this.data.charCodeAt(b);65536<e?(a[0]=240|(1835008&e)>>>18,a[1]=128|(258048&e)>>>12,a[2]=128|(4032&e)>>>6,a[3]=128|63&e):2048<e?(a[0]=224|(61440&e)>>>12,a[1]=128|(4032&e)>>>6,a[2]=128|63&e):128<e?(a[0]=192|(1984&e)>>>6,a[1]=128|63&e):a[0]=e;this.parsedData=this.parsedData.concat(a)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function d(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function g(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function b(a,b){this.totalCount=a;this.dataCount=b}function e(){this.buffer=[];this.length=0}function m(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&
(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}A.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}};d.prototype={addData:function(a){a=new A(a);this.dataList.push(a);this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[c][e]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,
b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=d.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,
c);var d=l.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-
8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=l.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var v=-2;2>=v;v++)this.modules[d+f][e+v]=-2==f||2==f||-2==v||2==v||0==f&&0==v?!0:!1}},setupTypeNumber:function(a){for(var b=l.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-
8-3]=d}for(c=0;18>c;c++)d=!a&&1==(1&b>>c),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=l.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(1&c>>d);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(1&c>>d),8>d?this.modules[8][this.moduleCount-d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,
b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,v=this.moduleCount-1;0<v;v-=2)for(6==v&&v--;;){for(var k=0;2>k;k++)if(null==this.modules[d][v-k]){var C=!1;f<a.length&&(C=1==(1&a[f]>>>e));l.getMask(b,d,v-k)&&(C=!C);this.modules[d][v-k]=C;e--; -1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};d.PAD0=236;d.PAD1=17;d.createData=function(a,c,g){c=b.getRSBlocks(a,c);for(var E=new e,n=0;n<g.length;n++){var f=g[n];E.put(f.mode,4);E.put(f.getLength(),l.getLengthInBits(f.mode,a));f.write(E)}for(n=
a=0;n<c.length;n++)a+=c[n].dataCount;if(E.getLengthInBits()>8*a)throw Error("code length overflow. ("+E.getLengthInBits()+">"+8*a+")");for(E.getLengthInBits()+4<=8*a&&E.put(0,4);0!=E.getLengthInBits()%8;)E.putBit(!1);for(;!(E.getLengthInBits()>=8*a||(E.put(d.PAD0,8),E.getLengthInBits()>=8*a));)E.put(d.PAD1,8);return d.createBytes(E,c)};d.createBytes=function(a,b){for(var c=0,d=0,e=0,f=Array(b.length),v=Array(b.length),k=0;k<b.length;k++){var C=b[k].dataCount,u=b[k].totalCount-C,d=Math.max(d,C),e=
Math.max(e,u);f[k]=Array(C);for(var B=0;B<f[k].length;B++)f[k][B]=255&a.buffer[B+c];c+=C;B=l.getErrorCorrectPolynomial(u);C=(new g(f[k],B.getLength()-1)).mod(B);v[k]=Array(B.getLength()-1);for(B=0;B<v[k].length;B++)u=B+C.getLength()-v[k].length,v[k][B]=0<=u?C.get(u):0}for(B=k=0;B<b.length;B++)k+=b[B].totalCount;c=Array(k);for(B=C=0;d>B;B++)for(k=0;k<b.length;k++)B<f[k].length&&(c[C++]=f[k][B]);for(B=0;e>B;B++)for(k=0;k<b.length;k++)B<v[k].length&&(c[C++]=v[k][B]);return c};for(var c={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=l.getBCHDigit(b)-l.getBCHDigit(l.G15);)b^=l.G15<<l.getBCHDigit(b)-l.getBCHDigit(l.G15);return(a<<10|b)^l.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=l.getBCHDigit(b)-l.getBCHDigit(l.G18);)b^=l.G18<<l.getBCHDigit(b)-
l.getBCHDigit(l.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return l.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var b=
new g([1],0),c=0;a>c;c++)b=b.multiply(new g([1,r.gexp(c)],0));return b},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else{if(!(41>b))throw Error("type:"+b);switch(a){case c.MODE_NUMBER:return 14;
case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw Error("mode:"+a);}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,v=a.isDark(d,e),k=-1;1>=k;k++)if(!(0>d+k||d+k>=b))for(var C=-1;1>=C;C++)0>e+C||e+C>=b||(0!=k||0!=C)&&v==a.isDark(d+k,e+C)&&f++;5<f&&(c+=3+f-5)}for(d=0;b-1>d;d++)for(e=0;b-1>e;e++)f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0!=f&&
4!=f||(c+=3);for(d=0;b>d;d++)for(e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;b>e;e++)for(d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;b>e;e++)for(d=0;b>d;d++)a.isDark(d,e)&&f++;return c+Math.abs(100*f/b/b-50)/5*10}},r={glog:function(a){if(1>a)throw Error("glog("+a+")");return r.LOG_TABLE[a]},
gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return r.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},w=0;8>w;w++)r.EXP_TABLE[w]=1<<w;for(w=8;256>w;w++)r.EXP_TABLE[w]=r.EXP_TABLE[w-4]^r.EXP_TABLE[w-5]^r.EXP_TABLE[w-6]^r.EXP_TABLE[w-8];for(w=0;255>w;w++)r.LOG_TABLE[r.EXP_TABLE[w]]=w;g.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=
0;d<a.getLength();d++)b[c+d]^=r.gexp(r.glog(this.get(c))+r.glog(a.get(d)));return new g(b,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var b=r.glog(this.get(0))-r.glog(a.get(0)),c=Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(d=0;d<a.getLength();d++)c[d]^=r.gexp(r.glog(a.get(d))+b);return(new g(c,0)).mod(a)}};b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];b.getRSBlocks=function(a,c){var d=b.getRsBlockTable(a,c);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);for(var e=d.length/3,g=[],f=0;e>f;f++)for(var v=d[3*f+0],k=d[3*f+1],C=d[3*f+2],u=0;v>u;u++)g.push(new b(k,C));return g};b.getRsBlockTable=function(a,
c){switch(c){case n.L:return b.RS_BLOCK_TABLE[4*(a-1)+0];case n.M:return b.RS_BLOCK_TABLE[4*(a-1)+1];case n.Q:return b.RS_BLOCK_TABLE[4*(a-1)+2];case n.H:return b.RS_BLOCK_TABLE[4*(a-1)+3]}};e.prototype={get:function(a){return 1==(1&this.buffer[Math.floor(a/8)]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=
128>>>this.length%8);this.length++}};var y=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,
805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){function b(a,c){var f=document.createElementNS("http://www.w3.org/2000/svg",a),d;for(d in c)c.hasOwnProperty(d)&&f.setAttribute(d,
c[d]);return f}var c=this._htOption,d=this._el,f=a.getModuleCount();Math.floor(c.width/f);Math.floor(c.height/f);this.clear();var e=b("svg",{viewBox:"0 0 "+String(f)+" "+String(f),width:"100%",height:"100%",fill:c.colorLight});e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");d.appendChild(e);e.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(c=0;f>c;c++)for(d=0;f>d;d++)if(a.isDark(c,d)){var k=b("use",{x:String(c),y:String(d)});
k.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");e.appendChild(k)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),a="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"!=typeof CanvasRenderingContext2D?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function b(a,c){var d=this;if(d._fFail=c,d._fSuccess=
a,null===d._bSupportDataURI){var e=document.createElement("img"),u=function(){d._bSupportDataURI=!1;d._fFail&&_fFail.call(d)};return e.onabort=u,e.onerror=u,e.onload=function(){d._bSupportDataURI=!0;d._fSuccess&&d._fSuccess.call(d)},e.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0}!0===d._bSupportDataURI&&d._fSuccess?d._fSuccess.call(d):!1===d._bSupportDataURI&&d._fFail&&d._fFail.call(d)}if(this._android&&
2.1>=this._android){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,C,u,B,p,z){if("nodeName"in a&&/img/i.test(a.nodeName))for(var q=arguments.length-1;1<=q;q--)arguments[q]*=c;else"undefined"==typeof z&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1;this._android=m();this._htOption=b;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=b.width;this._elCanvas.height=b.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),B=d.width/e,p=d.height/e,z=Math.round(B),q=Math.round(p);b.style.display="none";
this.clear();for(b=0;e>b;b++)for(var t=0;e>t;t++){var h=a.isDark(b,t),G=t*B,L=b*p;c.strokeStyle=h?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=h?d.colorDark:d.colorLight;c.fillRect(G,L,B,p);c.strokeRect(Math.floor(G)+.5,Math.floor(L)+.5,z,q);c.strokeRect(Math.ceil(G)-.5,Math.ceil(L)-.5,z,q)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a},e}():function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),f=Math.floor(b.width/d),e=Math.floor(b.height/d),k=['<table style="border:0;border-collapse:collapse;">'],C=0;d>C;C++){k.push("<tr>");for(var u=0;d>u;u++)k.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
f+"px;height:"+e+"px;background-color:"+(a.isDark(C,u)?b.colorDark:b.colorLight)+';"></td>');k.push("</tr>")}k.push("</table>");c.innerHTML=k.join("");a=c.childNodes[0];c=(b.width-a.offsetWidth)/2;b=(b.height-a.offsetHeight)/2;0<c&&0<b&&(a.style.margin=b+"px "+c+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(b,c){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"==typeof c&&(c={text:c}),c)for(var d in c)this._htOption[d]=
c[d];"string"==typeof b&&(b=document.getElementById(b));this._android=m();this._el=b;this._oQRCode=null;this._oDrawing=new a(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(a){var b=this._htOption.correctLevel,c=1,e;e=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");e=e.length+(e.length!=a?3:0);for(var g=0,f=y.length;f>=g;g++){var v=0;switch(b){case n.L:v=y[g][0];break;case n.M:v=y[g][1];break;case n.Q:v=y[g][2];break;case n.H:v=
y[g][3]}if(v>=e)break;c++}if(c>y.length)throw Error("Too long data");this._oQRCode=new d(c,this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._el.title=a;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=n}();
(function(){(function(A){var d=this||(0,eval)("this"),g=d.document,b=d.navigator,e=d.jQuery,m=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(c,n){function l(a,b){return null===a||typeof a in h?a===b:!1}function r(a,b){var c;return function(){c||(c=setTimeout(function(){c=A;a()},b))}}function w(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function y(b,c,d,e){a.bindingHandlers[b]={init:function(b,f,p,z,q){var t,g;a.computed(function(){var G=a.utils.unwrapObservable(f()),z=!d!==!G,I=!g;if(I||c||z!==t)I&&a.computedContext.getDependenciesCount()&&(g=a.utils.cloneNodes(a.virtualElements.childNodes(b),!0)),z?(I||a.virtualElements.setDomNodeChildren(b,a.utils.cloneNodes(g)),a.applyBindingsToDescendants(e?e(q,G):q,b)):a.virtualElements.emptyNode(b),t=z},null,{disposeWhenNodeIsRemoved:b});return{controlsDescendantBindings:!0}}};
a.expressionRewriting.bindingRewriteValidators[b]=!1;a.virtualElements.allowedBindings[b]=!0}var a="undefined"!==typeof c?c:{};a.exportSymbol=function(b,c){for(var d=b.split("."),e=a,u=0;u<d.length-1;u++)e=e[d[u]];e[d[d.length-1]]=c};a.exportProperty=function(a,b,c){a[b]=c};a.version="3.3.0";a.exportSymbol("version",a.version);a.utils=function(){function c(a,b){for(var d in a)a.hasOwnProperty(d)&&b(d,a[d])}function v(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,
b){a.__proto__=b;return a}function C(b,c,d,f){var e=b[c].match(h)||[];a.utils.arrayForEach(d.match(h),function(b){a.utils.addOrRemoveItem(e,b,f)});b[c]=e.join(" ")}var u={__proto__:[]}instanceof Array,B={},p={},z=b&&/Firefox\/2/i.test(b.userAgent)?"KeyboardEvent":"UIEvents";B[z]=["keyup","keydown","keypress"];B.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");c(B,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)p[b[c]]=a});var q=
{propertychange:!0},t=g&&function(){for(var a=3,b=g.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:A}(),h=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<
d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,f=a.length;d<f;d++)if(b.call(c,a[d],d))return a[d];return null},arrayRemoveItem:function(b,c){var d=a.utils.arrayIndexOf(b,c);0<d?b.splice(d,1):0===d&&b.shift()},arrayGetDistinctValues:function(b){b=b||[];for(var c=[],d=0,f=b.length;d<f;d++)0>a.utils.arrayIndexOf(c,b[d])&&c.push(b[d]);return c},arrayMap:function(a,b){a=a||[];for(var c=[],d=0,f=a.length;d<f;d++)c.push(b(a[d],d));return c},arrayFilter:function(a,b){a=a||[];
for(var c=[],d=0,f=a.length;d<f;d++)b(a[d],d)&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(b,c,d){var f=a.utils.arrayIndexOf(a.utils.peekObservable(b),c);0>f?d&&b.push(c):d||b.splice(f,1)},canSetPrototype:u,extend:v,setPrototypeOf:k,setPrototypeOfOrExtend:u?k:v,objectForEach:c,objectMap:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],
d,a));return c},emptyDomNode:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},moveCleanedNodesToContainerElement:function(b){b=a.utils.makeArray(b);for(var c=(b[0]&&b[0].ownerDocument||g).createElement("div"),d=0,f=b.length;d<f;d++)c.appendChild(a.cleanNode(b[d]));return c},cloneNodes:function(b,c){for(var d=0,f=b.length,e=[];d<f;d++){var k=b[d].cloneNode(!0);e.push(c?a.cleanNode(k):k)}return e},setDomNodeChildren:function(b,c){a.utils.emptyDomNode(b);if(c)for(var d=0,f=c.length;d<f;d++)b.appendChild(c[d])},
replaceDomNodes:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var f=d[0],e=f.parentNode,k=0,v=c.length;k<v;k++)e.insertBefore(c[k],f);k=0;for(v=d.length;k<v;k++)a.removeNode(d[k])}},fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){7>t?a.setAttribute("selected",
b):a.selected=b},stringTrim:function(a){return null===a||a===A?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(b){return a.utils.domNodeIsContainedBy(b,
b.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(b){return!!a.utils.arrayFirst(b,a.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(b,c,d){var f=t&&q[c];if(!f&&e)e(b).bind(c,d);else if(f||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){d.call(b,a)},v="on"+c;b.attachEvent(v,k);a.utils.domNodeDisposal.addDisposeCallback(b,function(){b.detachEvent(v,
k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,d,!1)},triggerEvent:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;"input"===a.utils.tagNameLower(b)&&b.type?"click"!=c.toLowerCase()?f=!1:(f=b.type,f="checkbox"==f||"radio"==f):f=!1;if(e&&!f)e(b).trigger(c);else if("function"==typeof g.createEvent)if("function"==typeof b.dispatchEvent)f=g.createEvent(p[c]||"HTMLEvents"),f.initEvent(c,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if(f&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(b){return a.isObservable(b)?b():b},peekObservable:function(b){return a.isObservable(b)?b.peek():b},toggleDomNodeCssClass:function(b,c,d){var f;c&&("object"===typeof b.classList?(f=b.classList[d?"add":
"remove"],a.utils.arrayForEach(c.match(h),function(a){f.call(b.classList,a)})):"string"===typeof b.className.baseVal?C(b.className,"baseVal",c,d):C(b,"className",c,d))},setTextContent:function(b,c){var d=a.utils.unwrapObservable(c);if(null===d||d===A)d="";var f=a.virtualElements.firstChild(b);!f||3!=f.nodeType||a.virtualElements.nextSibling(f)?a.virtualElements.setDomNodeChildren(b,[b.ownerDocument.createTextNode(d)]):f.data=d;a.utils.forceRefresh(b)},setElementName:function(a,b){a.name=b;if(7>=t)try{a.mergeAttributes(g.createElement("<input name='"+
a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){9<=t&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ensureSelectElementIsRenderedCorrectly:function(a){if(t){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,c){b=a.utils.unwrapObservable(b);c=a.utils.unwrapObservable(c);for(var d=[],f=b;f<=c;f++)d.push(f);return d},makeArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:6===t,isIe7:7===t,ieVersion:t,getFormFields:function(b,
c){for(var d=a.utils.makeArray(b.getElementsByTagName("input")).concat(a.utils.makeArray(b.getElementsByTagName("textarea"))),f="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},e=[],k=d.length-1;0<=k;k--)f(d[k])&&e.push(d[k]);return e},parseJson:function(b){return"string"==typeof b&&(b=a.utils.stringTrim(b))?m&&m.parse?m.parse(b):(new Function("return "+b))():null},stringifyJson:function(b,c,d){if(!m||!m.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return m.stringify(a.utils.unwrapObservable(b),c,d)},postJson:function(b,d,e){e=e||{};var k=e.params||{},v=e.includeFields||this.fieldsIncludedWithJsonPost,t=b;if("object"==typeof b&&"form"===a.utils.tagNameLower(b))for(var t=b.action,C=v.length-1;0<=C;C--)for(var q=a.utils.getFormFields(b,v[C]),u=q.length-1;0<=u;u--)k[q[u].name]=q[u].value;d=a.utils.unwrapObservable(d);var B=g.createElement("form");B.style.display="none";B.action=t;B.method="post";for(var z in d)b=g.createElement("input"),b.type=
"hidden",b.name=z,b.value=a.utils.stringifyJson(a.utils.unwrapObservable(d[z])),B.appendChild(b);c(k,function(a,b){var c=g.createElement("input");c.type="hidden";c.name=a;c.value=b;B.appendChild(c)});g.body.appendChild(B);e.submitter?e.submitter(B):B.submit();setTimeout(function(){B.parentNode.removeChild(B)},0)}}}();a.exportSymbol("utils",a.utils);a.exportSymbol("utils.arrayForEach",a.utils.arrayForEach);a.exportSymbol("utils.arrayFirst",a.utils.arrayFirst);a.exportSymbol("utils.arrayFilter",a.utils.arrayFilter);
a.exportSymbol("utils.arrayGetDistinctValues",a.utils.arrayGetDistinctValues);a.exportSymbol("utils.arrayIndexOf",a.utils.arrayIndexOf);a.exportSymbol("utils.arrayMap",a.utils.arrayMap);a.exportSymbol("utils.arrayPushAll",a.utils.arrayPushAll);a.exportSymbol("utils.arrayRemoveItem",a.utils.arrayRemoveItem);a.exportSymbol("utils.extend",a.utils.extend);a.exportSymbol("utils.fieldsIncludedWithJsonPost",a.utils.fieldsIncludedWithJsonPost);a.exportSymbol("utils.getFormFields",a.utils.getFormFields);a.exportSymbol("utils.peekObservable",
a.utils.peekObservable);a.exportSymbol("utils.postJson",a.utils.postJson);a.exportSymbol("utils.parseJson",a.utils.parseJson);a.exportSymbol("utils.registerEventHandler",a.utils.registerEventHandler);a.exportSymbol("utils.stringifyJson",a.utils.stringifyJson);a.exportSymbol("utils.range",a.utils.range);a.exportSymbol("utils.toggleDomNodeCssClass",a.utils.toggleDomNodeCssClass);a.exportSymbol("utils.triggerEvent",a.utils.triggerEvent);a.exportSymbol("utils.unwrapObservable",a.utils.unwrapObservable);
a.exportSymbol("utils.objectForEach",a.utils.objectForEach);a.exportSymbol("utils.addOrRemoveItem",a.utils.addOrRemoveItem);a.exportSymbol("utils.setTextContent",a.utils.setTextContent);a.exportSymbol("unwrap",a.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return b.apply(a,
d)}});a.utils.domData=new function(){function a(f,e){var p=f[c];if(!p||"null"===p||!d[p]){if(!e)return A;p=f[c]="ko"+b++;d[p]={}}return d[p]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===A?A:d[c]},set:function(b,c,d){if(d!==A||a(b,!1)!==A)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},nextKey:function(){return b++ +c}}};a.exportSymbol("utils.domData",a.utils.domData);a.exportSymbol("utils.domData.clear",a.utils.domData.clear);
a.utils.domNodeDisposal=new function(){function b(c,f){var e=a.utils.domData.get(c,d);e===A&&f&&(e=[],a.utils.domData.set(c,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](d);a.utils.domData.clear(d);a.utils.domNodeDisposal.cleanExternalData(d);if(u[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.utils.domData.nextKey(),C={1:!0,8:!0,9:!0},u={1:!0,9:!0};return{addDisposeCallback:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");
b(a,!0).push(c)},removeDisposeCallback:function(c,e){var v=b(c,!1);v&&(a.utils.arrayRemoveItem(v,e),0==v.length&&a.utils.domData.set(c,d,A))},cleanNode:function(b){if(C[b.nodeType]&&(c(b),u[b.nodeType])){var d=[];a.utils.arrayPushAll(d,b.getElementsByTagName("*"));for(var f=0,e=d.length;f<e;f++)c(d[f])}return b},removeNode:function(b){a.cleanNode(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){e&&"function"==typeof e.cleanData&&e.cleanData([a])}}};a.cleanNode=a.utils.domNodeDisposal.cleanNode;
a.removeNode=a.utils.domNodeDisposal.removeNode;a.exportSymbol("cleanNode",a.cleanNode);a.exportSymbol("removeNode",a.removeNode);a.exportSymbol("utils.domNodeDisposal",a.utils.domNodeDisposal);a.exportSymbol("utils.domNodeDisposal.addDisposeCallback",a.utils.domNodeDisposal.addDisposeCallback);a.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",a.utils.domNodeDisposal.removeDisposeCallback);(function(){a.utils.parseHtmlFragment=function(b,c){var k;if(e)if(e.parseHTML)k=e.parseHTML(b,c)||
[];else{if((k=e.clean([b],c))&&k[0]){for(var C=k[0];C.parentNode&&11!==C.parentNode.nodeType;)C=C.parentNode;C.parentNode&&C.parentNode.removeChild(C)}}else{(C=c)||(C=g);k=C.parentWindow||C.defaultView||d;var u=a.utils.stringTrim(b).toLowerCase(),C=C.createElement("div"),u=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],B="ignored<div>"+
u[1]+b+u[2]+"</div>";for("function"==typeof k.innerShiv?C.appendChild(k.innerShiv(B)):C.innerHTML=B;u[0]--;)C=C.lastChild;k=a.utils.makeArray(C.lastChild.childNodes)}return k};a.utils.setHtml=function(b,c){a.utils.emptyDomNode(b);c=a.utils.unwrapObservable(c);if(null!==c&&c!==A)if("string"!=typeof c&&(c=c.toString()),e)e(b).html(c);else for(var d=a.utils.parseHtmlFragment(c,b.ownerDocument),C=0;C<d.length;C++)b.appendChild(d[C])}})();a.exportSymbol("utils.parseHtmlFragment",a.utils.parseHtmlFragment);
a.exportSymbol("utils.setHtml",a.utils.setHtml);a.memoization=function(){function b(c,d){if(c)if(8==c.nodeType){var e=a.memoization.parseMemoText(c.nodeValue);null!=e&&d.push({domNode:c,memoId:e})}else if(1==c.nodeType)for(var e=0,v=c.childNodes,g=v.length;e<g;e++)b(v[e],d)}var c={};return{memoize:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|
0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},unmemoize:function(a,b){var d=c[a];if(d===A)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},unmemoizeDomNodeAndDescendants:function(c,d){var e=[];b(c,e);for(var v=0,g=e.length;v<g;v++){var z=e[v].domNode,q=[z];d&&a.utils.arrayPushAll(q,d);a.memoization.unmemoize(e[v].memoId,q);z.nodeValue="";z.parentNode&&z.parentNode.removeChild(z)}},
parseMemoText:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.exportSymbol("memoization",a.memoization);a.exportSymbol("memoization.memoize",a.memoization.memoize);a.exportSymbol("memoization.unmemoize",a.memoization.unmemoize);a.exportSymbol("memoization.parseMemoText",a.memoization.parseMemoText);a.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",a.memoization.unmemoizeDomNodeAndDescendants);a.extenders={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.dependentObservable({read:b,
write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?w:r;a.limit(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:l}};var h={undefined:1,"boolean":1,number:1,string:1};a.exportSymbol("extenders",a.extenders);a.subscription=function(b,c,d){this._target=b;this.callback=c;this.disposeCallback=d;this.isDisposed=!1;a.exportProperty(this,"dispose",
this.dispose)};a.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};a.subscribable=function(){a.utils.setPrototypeOfOrExtend(this,a.subscribable.fn);this._subscriptions={};this._versionNumber=1};var x={subscribe:function(b,c,d){var e=this;d=d||"change";b=c?b.bind(c):b;var u=new a.subscription(e,b,function(){a.utils.arrayRemoveItem(e._subscriptions[d],u);e.afterSubscriptionRemove&&e.afterSubscriptionRemove(d)});e.beforeSubscriptionAdd&&e.beforeSubscriptionAdd(d);e._subscriptions[d]||
(e._subscriptions[d]=[]);e._subscriptions[d].push(u);return u},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.updateVersion();if(this.hasSubscriptionsForEvent(c))try{a.dependencyDetection.begin();for(var d=this._subscriptions[c].slice(0),e=0,u;u=d[e];++e)u.isDisposed||u.callback(b)}finally{a.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(b){var c=
this,d=a.isObservable(c),e,u,g;c._origNotifySubscribers||(c._origNotifySubscribers=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c._rateLimitedBeforeChange(a):c._origNotifySubscribers(a,b):c._rateLimitedChange(a)});var h=b(function(){d&&g===c&&(g=c());e=!1;c.isDifferent(u,g)&&c._origNotifySubscribers(u=g)});c._rateLimitedChange=function(a){e=!0;g=a;h()};c._rateLimitedBeforeChange=function(a){e||(u=a,c._origNotifySubscribers(a,"beforeChange"))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&
this._subscriptions[a].length},getSubscriptionsCount:function(b){if(b)return this._subscriptions[b]&&this._subscriptions[b].length||0;var c=0;a.utils.objectForEach(this._subscriptions,function(a,b){c+=b.length});return c},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.utils.objectForEach(b,function(b,d){var e=a.extenders[b];"function"==typeof e&&(c=e(c,d)||c)});return c}};a.exportProperty(x,"subscribe",x.subscribe);a.exportProperty(x,
"extend",x.extend);a.exportProperty(x,"getSubscriptionsCount",x.getSubscriptionsCount);a.utils.canSetPrototype&&a.utils.setPrototypeOf(x,Function.prototype);a.subscribable.fn=x;a.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.exportSymbol("subscribable",a.subscribable);a.exportSymbol("isSubscribable",a.isSubscribable);a.computedContext=a.dependencyDetection=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],
e,u=0;return{begin:b,end:c,registerDependency:function(b){if(e){if(!a.isSubscribable(b))throw Error("Only subscribable things can act as dependencies");e.callback(b,b._id||(b._id=++u))}},ignore:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},getDependenciesCount:function(){if(e)return e.computed.getDependenciesCount()},isInitial:function(){if(e)return e.isInitial}}}();a.exportSymbol("computedContext",a.computedContext);a.exportSymbol("computedContext.getDependenciesCount",a.computedContext.getDependenciesCount);
a.exportSymbol("computedContext.isInitial",a.computedContext.isInitial);a.exportSymbol("computedContext.isSleeping",a.computedContext.isSleeping);a.exportSymbol("ignoreDependencies",a.ignoreDependencies=a.dependencyDetection.ignore);a.observable=function(b){function c(){if(0<arguments.length)return c.isDifferent(d,arguments[0])&&(c.valueWillMutate(),d=arguments[0],c._latestValue=d,c.valueHasMutated()),this;a.dependencyDetection.registerDependency(c);return d}var d=b;a.subscribable.call(c);a.utils.setPrototypeOfOrExtend(c,
a.observable.fn);c._latestValue=d;c.peek=function(){return d};c.valueHasMutated=function(){c.notifySubscribers(d)};c.valueWillMutate=function(){c.notifySubscribers(d,"beforeChange")};a.exportProperty(c,"peek",c.peek);a.exportProperty(c,"valueHasMutated",c.valueHasMutated);a.exportProperty(c,"valueWillMutate",c.valueWillMutate);return c};a.observable.fn={equalityComparer:l};var D=a.observable.protoProperty="__ko_proto__";a.observable.fn[D]=a.observable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observable.fn,
a.subscribable.fn);a.hasPrototype=function(b,c){return null===b||b===A||b[D]===A?!1:b[D]===c?!0:a.hasPrototype(b[D],c)};a.isObservable=function(b){return a.hasPrototype(b,a.observable)};a.isWriteableObservable=function(b){return"function"==typeof b&&b[D]===a.observable||"function"==typeof b&&b[D]===a.dependentObservable&&b.hasWriteFunction?!0:!1};a.exportSymbol("observable",a.observable);a.exportSymbol("isObservable",a.isObservable);a.exportSymbol("isWriteableObservable",a.isWriteableObservable);
a.exportSymbol("isWritableObservable",a.isWriteableObservable);a.observableArray=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.observable(b);a.utils.setPrototypeOfOrExtend(b,a.observableArray.fn);return b.extend({trackArrayChanges:!0})};a.observableArray.fn={remove:function(b){for(var c=this.peek(),d=[],e="function"!=typeof b||a.isObservable(b)?function(a){return a===
b}:b,u=0;u<c.length;u++){var g=c[u];e(g)&&(0===d.length&&this.valueWillMutate(),d.push(g),c.splice(u,1),u--)}d.length&&this.valueHasMutated();return d},removeAll:function(b){if(b===A){var c=this.peek(),d=c.slice(0);this.valueWillMutate();c.splice(0,c.length);this.valueHasMutated();return d}return b?this.remove(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},destroy:function(b){var c=this.peek(),d="function"!=typeof b||a.isObservable(b)?function(a){return a===b}:b;this.valueWillMutate();for(var e=
c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.valueHasMutated()},destroyAll:function(b){return b===A?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.utils.arrayIndexOf(b,c)}):[]},indexOf:function(b){var c=this();return a.utils.arrayIndexOf(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}};a.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(b){a.observableArray.fn[b]=
function(){var a=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(a,b,arguments);a=a[b].apply(a,arguments);this.valueHasMutated();return a}});a.utils.arrayForEach(["slice"],function(b){a.observableArray.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observableArray.fn,a.observable.fn);a.exportSymbol("observableArray",a.observableArray);a.extenders.trackArrayChanges=function(b){function c(){if(!d){d=!0;var q=b.notifySubscribers;
b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return q.apply(this,arguments)};var t=[].concat(b.peek()||[]);e=null;u=b.subscribe(function(c){c=[].concat(c||[]);if(b.hasSubscriptionsForEvent("arrayChange")){var d;if(!e||1<g)e=a.utils.compareArrays(t,c,{sparse:!0});d=e}t=c;e=null;g=0;d&&d.length&&b.notifySubscribers(d,"arrayChange")})}}if(!b.cacheDiffForKnownOperation){var d=!1,e=null,u,g=0,h=b.beforeSubscriptionAdd,z=b.afterSubscriptionRemove;b.beforeSubscriptionAdd=function(a){h&&h.call(b,
a);"arrayChange"===a&&c()};b.afterSubscriptionRemove=function(a){z&&z.call(b,a);"arrayChange"!==a||b.hasSubscriptionsForEvent("arrayChange")||(u.dispose(),d=!1)};b.cacheDiffForKnownOperation=function(b,c,f){function v(a,b,c){return u[u.length]={status:a,value:b,index:c}}if(d&&!g){var u=[],z=b.length,h=f.length,p=0;switch(c){case "push":p=z;case "unshift":for(c=0;c<h;c++)v("added",f[c],p+c);break;case "pop":p=z-1;case "shift":z&&v("deleted",b[p],p);break;case "splice":c=Math.min(Math.max(0,0>f[0]?
z+f[0]:f[0]),z);for(var z=1===h?z:Math.min(c+(f[1]||0),z),h=c+h-2,p=Math.max(z,h),l=[],n=[],m=2;c<p;++c,++m)c<z&&n.push(v("deleted",b[c],c)),c<h&&l.push(v("added",f[m],c));a.utils.findMovesInArrayComparison(n,l);break;default:return}e=u}}}};a.computed=a.dependentObservable=function(b,c,d){function e(a,b,c){if(x&&b===q)throw Error("A 'pure' computed must not be called recursively");H[a]=c;c._order=K++;c._version=b.getVersion()}function u(){var a,b;for(a in H)if(H.hasOwnProperty(a)&&(b=H[a],b._target.hasChanged(b._version)))return!0}
function g(){!w&&H&&a.utils.objectForEach(H,function(a,b){b.dispose&&b.dispose()});H=null;K=0;r=!0;w=I=!1}function h(){var a=q.throttleEvaluation;a&&0<=a?(clearTimeout(W),W=setTimeout(function(){z(!0)},a)):q._evalRateLimited?q._evalRateLimited():z(!0)}function z(b){if(!U&&!r){if(Q&&Q()){if(!m){R();return}}else m=!1;U=!0;try{var d=H,f=K,k=x?A:!K;a.dependencyDetection.begin({callback:function(a,b){r||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):H[b]||e(b,a,w?{_target:a}:a.subscribe(h)))},computed:q,isInitial:k});
H={};K=0;try{var t=c?y.call(c):y()}finally{a.dependencyDetection.end(),f&&!w&&a.utils.objectForEach(d,function(a,b){b.dispose&&b.dispose()}),I=!1}q.isDifferent(n,t)&&(w||l(n,"beforeChange"),n=t,q._latestValue=n,w?q.updateVersion():b&&l(n));k&&l(n,"awake")}finally{U=!1}K||R()}}function q(){if(0<arguments.length){if("function"===typeof E)E.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.dependencyDetection.registerDependency(q);(I||w&&u())&&z();return n}function t(){(I&&!K||w&&u())&&z();return n}function J(){return I||0<K}function l(a,b){q.notifySubscribers(a,b)}var n,I=!0,U=!1,m=!1,r=!1,y=b,x=!1,w=!1;y&&"object"==typeof y?(d=y,y=d.read):(d=d||{},y||(y=d.read));if("function"!=typeof y)throw Error("Pass a function that returns the value of the ko.computed");var E=d.write,D=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,O=d.disposeWhen||d.disposeWhen,Q=
O,R=g,H={},K=0,W=null;c||(c=d.owner);a.subscribable.call(q);a.utils.setPrototypeOfOrExtend(q,a.dependentObservable.fn);q.peek=t;q.getDependenciesCount=function(){return K};q.hasWriteFunction="function"===typeof E;q.dispose=function(){R()};q.isActive=J;var X=q.limit;q.limit=function(a){X.call(q,a);q._evalRateLimited=function(){q._rateLimitedBeforeChange(n);I=!0;q._rateLimitedChange(q)}};d.pure?(w=x=!0,q.beforeSubscriptionAdd=function(b){if(!r&&w&&"change"==b){w=!1;if(I||u())H=null,K=0,I=!0,z();else{var c=
[];a.utils.objectForEach(H,function(a,b){c[b._order]=a});a.utils.arrayForEach(c,function(a,b){var c=H[a],d=c._target.subscribe(h);d._order=b;d._version=c._version;H[a]=d})}r||l(n,"awake")}},q.afterSubscriptionRemove=function(b){r||"change"!=b||q.hasSubscriptionsForEvent("change")||(a.utils.objectForEach(H,function(a,b){b.dispose&&(H[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),w=!0,l(A,"asleep"))},q._originalGetVersion=q.getVersion,q.getVersion=function(){w&&(I||u())&&
z();return q._originalGetVersion()}):d.deferEvaluation&&(q.beforeSubscriptionAdd=function(a){"change"!=a&&"beforeChange"!=a||t()});a.exportProperty(q,"peek",q.peek);a.exportProperty(q,"dispose",q.dispose);a.exportProperty(q,"isActive",q.isActive);a.exportProperty(q,"getDependenciesCount",q.getDependenciesCount);D&&(m=!0,D.nodeType&&(Q=function(){return!a.utils.domNodeIsAttachedToDocument(D)||O&&O()}));w||d.deferEvaluation||z();D&&J()&&D.nodeType&&(R=function(){a.utils.domNodeDisposal.removeDisposeCallback(D,
R);g()},a.utils.domNodeDisposal.addDisposeCallback(D,R));return q};a.isComputed=function(b){return a.hasPrototype(b,a.dependentObservable)};x=a.observable.protoProperty;a.dependentObservable[x]=a.observable;a.dependentObservable.fn={equalityComparer:l};a.dependentObservable.fn[x]=a.dependentObservable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.dependentObservable.fn,a.subscribable.fn);a.exportSymbol("dependentObservable",a.dependentObservable);a.exportSymbol("computed",a.dependentObservable);
a.exportSymbol("isComputed",a.isComputed);a.pureComputed=function(b,c){if("function"===typeof b)return a.computed(b,c,{pure:!0});b=a.utils.extend({},b);b.pure=!0;return a.computed(b,c)};a.exportSymbol("pureComputed",a.pureComputed);(function(){function b(a,e,g){g=g||new d;a=e(a);if("object"!=typeof a||null===a||a===A||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=
d;break;case "object":case "undefined":var k=g.get(d);h[c]=k!==A?k:b(d,e,g)}});return h}function c(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.values=[]}a.toJS=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.isObservable(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.toJS(b);return a.utils.stringifyJson(b,
c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.utils.arrayIndexOf(this.keys,b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.utils.arrayIndexOf(this.keys,b);return 0<=b?this.values[b]:A}}})();a.exportSymbol("toJS",a.toJS);a.exportSymbol("toJSON",a.toJSON);(function(){a.selectExtensions={readValue:function(b){switch(a.utils.tagNameLower(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.utils.domData.get(b,a.bindingHandlers.options.optionValueDomDataKey):
7>=a.utils.ieVersion?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex]):A;default:return b.value}},writeValue:function(b,c,d){switch(a.utils.tagNameLower(b)){case "option":switch(typeof c){case "string":a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,A);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;
default:a.utils.domData.set(b,a.bindingHandlers.options.optionValueDomDataKey,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=A;for(var e=-1,g=0,h=b.options.length,p;g<h;++g)if(p=a.selectExtensions.readValue(b.options[g]),p==c||""==p&&c===A){e=g;break}if(d||0<=e||c===A&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===A)c="";b.value=c}}}})();a.exportSymbol("selectExtensions",a.selectExtensions);a.exportSymbol("selectExtensions.readValue",
a.selectExtensions.readValue);a.exportSymbol("selectExtensions.writeValue",a.selectExtensions.writeValue);a.expressionRewriting=function(){function b(c){c=a.utils.stringTrim(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],f=c.match(e),k,v=[],p=0;if(f){f.push(",");for(var l=0,n;n=f[l];++l){var m=n.charCodeAt(0);if(44===m){if(0>=p){d.push(k&&v.length?{key:k,value:v.join("")}:{unknown:k||v.join("")});k=p=0;v=[];continue}}else if(58===m){if(!p&&!k&&1===v.length){k=v.pop();continue}}else 47===m&&
l&&1<n.length?(m=f[l-1].match(g))&&!h[m[0]]&&(c=c.substr(c.indexOf(n)+1),f=c.match(e),f.push(","),l=-1,n="/"):40===m||123===m||91===m?++p:41===m||125===m||93===m?--p:k||v.length||34!==m&&39!==m||(n=n.slice(1,-1));v.push(n)}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),g=/[\])"'A-Za-z0-9_$]+$/,h=
{"in":1,"return":1,"typeof":1},p={};return{bindingRewriteValidators:[],twoWayBindings:p,parseObjectLiteral:b,preProcessBindings:function(e,q){function t(b,e){var f;if(!C){var q=a.getBindingHandler(b);if(q&&q.preprocess&&!(e=q.preprocess(e,b,t)))return;if(q=p[b])f=e,0<=a.utils.arrayIndexOf(c,f)?f=!1:(q=f.match(d),f=null===q?!1:q[1]?"Object("+q[1]+")"+q[2]:f),q=f;q&&h.push("'"+b+"':function(_z){"+f+"=_z}")}u&&(e="function(){return "+e+" }");g.push("'"+b+"':"+e)}q=q||{};var g=[],h=[],u=q.valueAccessors,
C=q.bindingParams,l="string"===typeof e?b(e):e;a.utils.arrayForEach(l,function(a){t(a.key||a.unknown,a.value)});h.length&&t("_ko_property_writers","{"+h.join(",")+" }");return g.join(",")},keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(b,c,d,e,f){if(b&&a.isObservable(b))!a.isWriteableObservable(b)||f&&b.peek()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.exportSymbol("expressionRewriting",
a.expressionRewriting);a.exportSymbol("expressionRewriting.bindingRewriteValidators",a.expressionRewriting.bindingRewriteValidators);a.exportSymbol("expressionRewriting.parseObjectLiteral",a.expressionRewriting.parseObjectLiteral);a.exportSymbol("expressionRewriting.preProcessBindings",a.expressionRewriting.preProcessBindings);a.exportSymbol("expressionRewriting._twoWayBindings",a.expressionRewriting.twoWayBindings);a.exportSymbol("jsonExpressionRewriting",a.expressionRewriting);a.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",
a.expressionRewriting.preProcessBindings);(function(){function b(a){return 8==a.nodeType&&l.test(h?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&p.test(h?a.text:a.nodeValue)}function d(a,e){for(var k=a,g=1,h=[];k=k.nextSibling;){if(c(k)&&(g--,0===g))return h;h.push(k);b(k)&&g++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var h=g&&"\x3c!--test--\x3e"===
g.createComment("test").text,l=h?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,p=h?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,z={ul:!0,ol:!0};a.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?d(a):a.childNodes},emptyNode:function(c){if(b(c)){c=a.virtualElements.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.utils.emptyDomNode(c)},setDomNodeChildren:function(c,d){if(b(c)){a.virtualElements.emptyNode(c);for(var e=c.nextSibling,
k=0,g=d.length;k<g;k++)e.parentNode.insertBefore(d[k],e)}else a.utils.setDomNodeChildren(c,d)},prepend:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},insertAfter:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.virtualElements.prepend(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},
nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},hasBindingValue:b,virtualNodeBindingValue:function(a){return(a=(h?a.text:a.nodeValue).match(l))?a[1]:null},normaliseVirtualElementDomStructure:function(d){if(z[a.utils.tagNameLower(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var g;g=k.firstChild;var h=null;if(g){do if(h)h.push(g);else if(b(g)){var u=e(g,!0);u?g=u:h=[g]}else c(g)&&(h=[g]);while(g=g.nextSibling)}if(g=h)for(h=k.nextSibling,u=0;u<
g.length;u++)h?d.insertBefore(g[u],h):d.appendChild(g[u])}while(k=k.nextSibling)}}}}})();a.exportSymbol("virtualElements",a.virtualElements);a.exportSymbol("virtualElements.allowedBindings",a.virtualElements.allowedBindings);a.exportSymbol("virtualElements.emptyNode",a.virtualElements.emptyNode);a.exportSymbol("virtualElements.insertAfter",a.virtualElements.insertAfter);a.exportSymbol("virtualElements.prepend",a.virtualElements.prepend);a.exportSymbol("virtualElements.setDomNodeChildren",a.virtualElements.setDomNodeChildren);
(function(){a.bindingProvider=function(){this.bindingCache={}};a.utils.extend(a.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.components.getComponentNameForNode(b);case 8:return a.virtualElements.hasBindingValue(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.components.addBindingsForCustomElement(d,b,c,!1)},getBindingAccessors:function(b,
c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.components.addBindingsForCustomElement(d,b,c,!0)},getBindingsString:function(b,c){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.virtualElements.virtualNodeBindingValue(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.bindingCache,h=b+(e&&e.valueAccessors||""),p;if(!(p=g[h])){var z,q=a.expressionRewriting.preProcessBindings(b,e);z=new Function("$context",
"$element","with($context){with($data||{}){return{"+q+"}}}");p=g[h]=z}return p(c,d)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+t.message,t;}}});a.bindingProvider.instance=new a.bindingProvider})();a.exportSymbol("bindingProvider",a.bindingProvider);(function(){function b(a){return function(){return a}}function c(a){return a()}function k(b){return a.utils.objectMap(a.dependencyDetection.ignore(b),function(a,c){return function(){return b()[c]}})}function g(c,
d,e){return"function"===typeof c?k(c.bind(null,d,e)):a.utils.objectMap(c,b)}function h(a,b){return k(this.getBindings.bind(this,a,b))}function l(b,c,d){var e,f=a.virtualElements.firstChild(c),k=a.bindingProvider.instance,t=k.preprocessNode;if(t){for(;e=f;)f=a.virtualElements.nextSibling(e),t.call(k,e);f=a.virtualElements.firstChild(c)}for(;e=f;)f=a.virtualElements.nextSibling(e),p(b,e,d)}function p(b,c,d){var e=!0,f=1===c.nodeType;f&&a.virtualElements.normaliseVirtualElementDomStructure(c);if(f&&
d||a.bindingProvider.instance.nodeHasBindings(c))e=q(c,null,b,d).shouldBindDescendants;e&&!n[a.utils.tagNameLower(c)]&&l(b,c,!f)}function z(b){var c=[],d={},e=[];a.utils.objectForEach(b,function S(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.utils.arrayForEach(k.after,function(c){if(b[c]){if(-1!==a.utils.arrayIndexOf(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));S(c)}}),e.length--),c.push({key:f,handler:k}));
d[f]=!0}});return c}function q(b,d,e,f){var k=a.utils.domData.get(b,m);if(!d){if(k)throw Error("You cannot apply bindings multiple times to the same element.");a.utils.domData.set(b,m,!0)}!k&&f&&a.storedBindingContextForNode(b,e);var t;if(d&&"function"!==typeof d)t=d;else{var g=a.bindingProvider.instance,q=g.getBindingAccessors||h,p=a.dependentObservable(function(){(t=d?d(e,b):q.call(g,b,e))&&e._subscribable&&e._subscribable();return t},null,{disposeWhenNodeIsRemoved:b});t&&p.isActive()||(p=null)}var C;
if(t){var l=function(){return a.utils.objectMap(p?p():t,c)},B=p?function(a){return function(){return(0,p()[a])()}}:function(a){return t[a]};l.get=function(a){return t[a]&&B(a)()};l.has=function(a){return a in t};f=z(t);a.utils.arrayForEach(f,function(c){var d=c.handler.init,f=c.handler.update,k=c.key;if(8===b.nodeType&&!a.virtualElements.allowedBindings[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");try{"function"==typeof d&&a.dependencyDetection.ignore(function(){var a=
d(b,B(k),l,e.$data,e);if(a&&a.controlsDescendantBindings){if(C!==A)throw Error("Multiple bindings ("+C+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");C=k}}),"function"==typeof f&&a.dependentObservable(function(){f(b,B(k),l,e.$data,e)},null,{disposeWhenNodeIsRemoved:b})}catch(g){throw g.message='Unable to process binding "'+k+": "+t[k]+'"\nMessage: '+g.message,g;}})}return{shouldBindDescendants:C===A}}function t(b){return b&&
b instanceof a.bindingContext?b:new a.bindingContext(b)}a.bindingHandlers={};var n={script:!0,textarea:!0};a.getBindingHandler=function(b){return a.bindingHandlers[b]};a.bindingContext=function(b,c,d,e){var f=this,k="function"==typeof b&&!a.isObservable(b),t,g=a.dependentObservable(function(){var t=k?b():b,h=a.utils.unwrapObservable(t);c?(c._subscribable&&c._subscribable(),a.utils.extend(f,c),g&&(f._subscribable=g)):(f.$parents=[],f.$root=h,f.ko=a);f.$rawData=t;f.$data=h;d&&(f[d]=h);e&&e(f,c,h);return f.$data},
null,{disposeWhen:function(){return t&&!a.utils.anyDomNodeIsAttachedToDocument(t)},disposeWhenNodeIsRemoved:!0});g.isActive()&&(f._subscribable=g,g.equalityComparer=null,t=[],g._addNode=function(b){t.push(b);a.utils.domNodeDisposal.addDisposeCallback(b,function(b){a.utils.arrayRemoveItem(t,b);t.length||(g.dispose(),f._subscribable=g=A)})})};a.bindingContext.prototype.createChildContext=function(b,c,d){return new a.bindingContext(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=
(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.bindingContext.prototype.extend=function(b){return new a.bindingContext(this._subscribable||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.utils.extend(c,"function"==typeof b?b():b)})};var m=a.utils.domData.nextKey(),y=a.utils.domData.nextKey();a.storedBindingContextForNode=function(b,c){if(2==arguments.length)a.utils.domData.set(b,y,c),c._subscribable&&c._subscribable._addNode(b);else return a.utils.domData.get(b,y)};
a.applyBindingAccessorsToNode=function(b,c,d){1===b.nodeType&&a.virtualElements.normaliseVirtualElementDomStructure(b);return q(b,c,t(d),!0)};a.applyBindingsToNode=function(b,c,d){d=t(d);return a.applyBindingAccessorsToNode(b,g(c,d,b),d)};a.applyBindingsToDescendants=function(a,b){1!==b.nodeType&&8!==b.nodeType||l(t(a),b,!0)};a.applyBindings=function(a,b){!e&&d.jQuery&&(e=d.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");
b=b||d.document.body;p(t(a),b,!0)};a.contextFor=function(b){switch(b.nodeType){case 1:case 8:var c=a.storedBindingContextForNode(b);if(c)return c;if(b.parentNode)return a.contextFor(b.parentNode)}return A};a.dataFor=function(b){return(b=a.contextFor(b))?b.$data:A};a.exportSymbol("bindingHandlers",a.bindingHandlers);a.exportSymbol("applyBindings",a.applyBindings);a.exportSymbol("applyBindingsToDescendants",a.applyBindingsToDescendants);a.exportSymbol("applyBindingAccessorsToNode",a.applyBindingAccessorsToNode);
a.exportSymbol("applyBindingsToNode",a.applyBindingsToNode);a.exportSymbol("contextFor",a.contextFor);a.exportSymbol("dataFor",a.dataFor)})();(function(b){function c(a,d){return a.hasOwnProperty(d)?a[d]:b}function d(b,f){var k=c(h,b),g;k?k.subscribe(f):(k=h[b]=new a.subscribable,k.subscribe(f),e(b,function(a,c){var d=!(!c||!c.synchronous);p[b]={definition:a,isSynchronousComponent:d};delete h[b];g||d?k.notifySubscribers(a):setTimeout(function(){k.notifySubscribers(a)},0)}),g=!0)}function e(a,b){g("getConfig",
[a],function(c){c?g("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function g(c,d,e,k){k||(k=a.components.loaders.slice(0));var h=k.shift();if(h){var v=h[c];if(v){var p=!1;if(v.apply(h,d.concat(function(a){p?e(null):null!==a?e(a):g(c,d,e,k)}))!==b&&(p=!0,!h.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else g(c,d,e,k)}else e(null)}var h={},p={};a.components={get:function(b,e){var f=c(p,b);
f?f.isSynchronousComponent?a.dependencyDetection.ignore(function(){e(f.definition)}):setTimeout(function(){e(f.definition)},0):d(b,e)},clearCachedDefinition:function(a){delete p[a]},_getFirstResultFromLoaders:g};a.components.loaders=[];a.exportSymbol("components",a.components);a.exportSymbol("components.get",a.components.get);a.exportSymbol("components.clearCachedDefinition",a.components.clearCachedDefinition)})();(function(b){function c(b,d,e,f){var k={},g=2,h=function(){0===--g&&f(k)},v=e.template;
e=e.viewModel;v?l(d,v,function(c){a.components._getFirstResultFromLoaders("loadTemplate",[b,c],function(a){k.template=a;h()})}):h();e?l(d,e,function(c){a.components._getFirstResultFromLoaders("loadViewModel",[b,c],function(a){k[q]=a;h()})}):h()}function e(a,b,c){if("function"===typeof b)c(function(a){return new b(a)});else if("function"===typeof b[q])c(b[q]);else if("instance"in b){var d=b.instance;c(function(a,b){return d})}else"viewModel"in b?e(a,b.viewModel,c):a("Unknown viewModel value: "+b)}
function h(b){switch(a.utils.tagNameLower(b)){case "script":return a.utils.parseHtmlFragment(b.text);case "textarea":return a.utils.parseHtmlFragment(b.value);case "template":if(u(b.content))return a.utils.cloneNodes(b.content.childNodes)}return a.utils.cloneNodes(b.childNodes)}function u(a){return d.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function l(a,b,c){"string"===typeof b.require?n||d.require?(n||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):
c(b)}function p(a){return function(b){throw Error("Component '"+a+"': "+b);}}var z={};a.components.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.components.isRegistered(b))throw Error("Component "+b+" is already registered");z[b]=c};a.components.isRegistered=function(a){return a in z};a.components.unregister=function(b){delete z[b];a.components.clearCachedDefinition(b)};a.components.defaultLoader={getConfig:function(a,b){var c=z.hasOwnProperty(a)?z[a]:null;b(c)},loadComponent:function(a,
b,d){var e=p(a);l(e,b,function(b){c(a,e,b,d)})},loadTemplate:function(b,c,e){b=p(b);if("string"===typeof c)e(a.utils.parseHtmlFragment(c));else if(c instanceof Array)e(c);else if(u(c))e(a.utils.makeArray(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)e(h(c));else if("string"===typeof c){var f=g.getElementById(c);f?e(h(f)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+c)},
loadViewModel:function(a,b,c){e(p(a),b,c)}};var q="createViewModel";a.exportSymbol("components.register",a.components.register);a.exportSymbol("components.isRegistered",a.components.isRegistered);a.exportSymbol("components.unregister",a.components.unregister);a.exportSymbol("components.defaultLoader",a.components.defaultLoader);a.components.loaders.push(a.components.defaultLoader);a.components._allRegisteredComponents=z})();(function(b){function c(b,e){var f=b.getAttribute("params");if(f){var f=d.parseBindingsString(f,
e,b,{valueAccessors:!0,bindingParams:!0}),f=a.utils.objectMap(f,function(c,d){return a.computed(c,null,{disposeWhenNodeIsRemoved:b})}),g=a.utils.objectMap(f,function(c,d){var e=c.peek();return c.isActive()?a.computed({read:function(){return a.utils.unwrapObservable(c())},write:a.isWriteableObservable(e)&&function(a){c()(a)},disposeWhenNodeIsRemoved:b}):e});g.hasOwnProperty("$raw")||(g.$raw=f);return g}return{$raw:{}}}a.components.getComponentNameForNode=function(b){b=a.utils.tagNameLower(b);return a.components.isRegistered(b)&&
b};a.components.addBindingsForCustomElement=function(b,d,e,f){if(1===d.nodeType){var k=a.components.getComponentNameForNode(d);if(k){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var g={name:k,params:c(d,e)};b.component=f?function(){return g}:g}}return b};var d=new a.bindingProvider;9>a.utils.ieVersion&&(a.components.register=function(a){return function(b){g.createElement(b);return a.apply(this,arguments)}}(a.components.register),
g.createDocumentFragment=function(b){return function(){var c=b(),d=a.components._allRegisteredComponents,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(g.createDocumentFragment))})();(function(b){function c(b,d,e){d=d.template;if(!d)throw Error("Component '"+b+"' has no template");b=a.utils.cloneNodes(d);a.virtualElements.setDomNodeChildren(e,b)}function d(a,b,c,e){var f=a.createViewModel;return f?f.call(a,e,{element:b,templateNodes:c}):e}var e=0;a.bindingHandlers.component={init:function(g,
h,p,l,q){var t,n,m=function(){var a=t&&t.dispose;"function"===typeof a&&a.call(t);n=null},y=a.utils.makeArray(a.virtualElements.childNodes(g));a.utils.domNodeDisposal.addDisposeCallback(g,m);a.computed(function(){var p=a.utils.unwrapObservable(h()),l,z;"string"===typeof p?l=p:(l=a.utils.unwrapObservable(p.name),z=a.utils.unwrapObservable(p.params));if(!l)throw Error("No component name specified");var r=n=++e;a.components.get(l,function(e){if(n===r){m();if(!e)throw Error("Unknown component '"+l+"'");
c(l,e,g);var h=d(e,g,y,z);e=q.createChildContext(h,b,function(a){a.$component=h;a.$componentTemplateNodes=y});t=h;a.applyBindingsToDescendants(e,g)}})},null,{disposeWhenNodeIsRemoved:g});return{controlsDescendantBindings:!0}}};a.virtualElements.allowedBindings.component=!0})();var E={"class":"className","for":"htmlFor"};a.bindingHandlers.attr={update:function(b,c,d){c=a.utils.unwrapObservable(c())||{};a.utils.objectForEach(c,function(c,d){d=a.utils.unwrapObservable(d);var e=!1===d||null===d||d===
A;e&&b.removeAttribute(c);8>=a.utils.ieVersion&&c in E?(c=E[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.utils.setElementName(b,e?"":d.toString())})}};(function(){a.bindingHandlers.checked={after:["value","attr"],init:function(b,c,d){function e(){var g=b.checked,p=n?h():g;if(!a.computedContext.isInitial()&&(!l||g)){var u=a.dependencyDetection.ignore(c);q?t!==p?(g&&(a.utils.addOrRemoveItem(u,p,!0),a.utils.addOrRemoveItem(u,t,!1)),t=p):a.utils.addOrRemoveItem(u,
p,g):a.expressionRewriting.writeValueToProperty(u,d,"checked",p,!0)}}function g(){var d=a.utils.unwrapObservable(c());b.checked=q?0<=a.utils.arrayIndexOf(d,h()):p?d:h()===d}var h=a.pureComputed(function(){return d.has("checkedValue")?a.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?a.utils.unwrapObservable(d.get("value")):b.value}),p="checkbox"==b.type,l="radio"==b.type;if(p||l){var q=p&&a.utils.unwrapObservable(c())instanceof Array,t=q?h():A,n=l||q;l&&!b.name&&a.bindingHandlers.uniqueName.init(b,
function(){return!0});a.computed(e,null,{disposeWhenNodeIsRemoved:b});a.utils.registerEventHandler(b,"click",e);a.computed(g,null,{disposeWhenNodeIsRemoved:b})}}};a.expressionRewriting.twoWayBindings.checked=!0;a.bindingHandlers.checkedValue={update:function(b,c){b.value=a.utils.unwrapObservable(c())}}})();a.bindingHandlers.css={update:function(b,c){var d=a.utils.unwrapObservable(c());null!==d&&"object"==typeof d?a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);a.utils.toggleDomNodeCssClass(b,
c,d)}):(d=String(d||""),a.utils.toggleDomNodeCssClass(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.utils.toggleDomNodeCssClass(b,d,!0))}};a.bindingHandlers.enable={update:function(b,c){var d=a.utils.unwrapObservable(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.bindingHandlers.disable={update:function(b,c){a.bindingHandlers.enable.update(b,function(){return!a.utils.unwrapObservable(c())})}};a.bindingHandlers.event={init:function(b,c,d,e,g){var h=c()||{};a.utils.objectForEach(h,
function(h){"string"==typeof h&&a.utils.registerEventHandler(b,h,function(b){var f,t=c()[h];if(t){try{var l=a.utils.makeArray(arguments);e=g.$data;l.unshift(e);f=t.apply(e,l)}finally{!0!==f&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(h+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.bindingHandlers.foreach={makeTemplateValueAccessor:function(b){return function(){var c=b(),d=a.utils.peekObservable(c);if(!d||"number"==typeof d.length)return{foreach:c,
templateEngine:a.nativeTemplateEngine.instance};a.utils.unwrapObservable(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.nativeTemplateEngine.instance}}},init:function(b,c,d,e,g){return a.bindingHandlers.template.init(b,a.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(b,c,d,e,g){return a.bindingHandlers.template.update(b,
a.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,g)}};a.expressionRewriting.bindingRewriteValidators.foreach=!1;a.virtualElements.allowedBindings.foreach=!0;a.bindingHandlers.hasfocus={init:function(b,c,d){var e=function(e){b.__ko_hasfocusUpdating=!0;var g=b.ownerDocument;if("activeElement"in g){var h;try{h=g.activeElement}catch(l){h=g.body}e=h===b}g=c();a.expressionRewriting.writeValueToProperty(g,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1},g=e.bind(null,!0),
e=e.bind(null,!1);a.utils.registerEventHandler(b,"focus",g);a.utils.registerEventHandler(b,"focusin",g);a.utils.registerEventHandler(b,"blur",e);a.utils.registerEventHandler(b,"focusout",e)},update:function(b,c){var d=!!a.utils.unwrapObservable(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,d?"focusin":"focusout"]))}};a.expressionRewriting.twoWayBindings.hasfocus=!0;a.bindingHandlers.hasFocus=a.bindingHandlers.hasfocus;
a.expressionRewriting.twoWayBindings.hasFocus=!0;a.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.utils.setHtml(b,c())}};y("if");y("ifnot",!1,!0);y("with",!0,!1,function(a,b){return a.createChildContext(b)});var M={};a.bindingHandlers.options={init:function(b){if("select"!==a.utils.tagNameLower(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,
c,d){function e(){return a.utils.arrayFilter(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,e){if(r&&t)a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0);else if(y.length){var g=0<=a.utils.arrayIndexOf(y,a.selectExtensions.readValue(e[0]));a.utils.setOptionNodeSelectionState(e[0],g);r&&!g&&a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,"change"])}}var l=b.multiple,z=0!=b.length&&
l?b.scrollTop:null,q=a.utils.unwrapObservable(c()),t=d.get("valueAllowUnset")&&d.has("value"),n=d.get("optionsIncludeDestroyed");c={};var m,y=[];t||(l?y=a.utils.arrayMap(e(),a.selectExtensions.readValue):0<=b.selectedIndex&&y.push(a.selectExtensions.readValue(b.options[b.selectedIndex])));q&&("undefined"==typeof q.length&&(q=[q]),m=a.utils.arrayFilter(q,function(b){return n||b===A||null===b||!a.utils.unwrapObservable(b._destroy)}),d.has("optionsCaption")&&(q=a.utils.unwrapObservable(d.get("optionsCaption")),
null!==q&&q!==A&&m.unshift(M)));var r=!1;c.beforeRemove=function(a){b.removeChild(a)};q=h;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(q=function(b,c){h(b,c);a.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[c[0],b!==M?b:A])});a.utils.setDomNodeChildrenFromArrayMapping(b,m,function(c,e,h){h.length&&(y=!t&&h[0].selected?[a.selectExtensions.readValue(h[0])]:[],r=!0);e=b.ownerDocument.createElement("option");c===M?(a.utils.setTextContent(e,d.get("optionsCaption")),
a.selectExtensions.writeValue(e,A)):(h=g(c,d.get("optionsValue"),c),a.selectExtensions.writeValue(e,a.utils.unwrapObservable(h)),c=g(c,d.get("optionsText"),h),a.utils.setTextContent(e,c));return[e]},c,q);a.dependencyDetection.ignore(function(){t?a.selectExtensions.writeValue(b,a.utils.unwrapObservable(d.get("value")),!0):(l?y.length&&e().length<y.length:y.length&&0<=b.selectedIndex?a.selectExtensions.readValue(b.options[b.selectedIndex])!==y[0]:y.length||0<=b.selectedIndex)&&a.utils.triggerEvent(b,
"change")});a.utils.ensureSelectElementIsRenderedCorrectly(b);z&&20<Math.abs(z-b.scrollTop)&&(b.scrollTop=z)}};a.bindingHandlers.options.optionValueDomDataKey=a.utils.domData.nextKey();a.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.utils.registerEventHandler(b,"change",function(){var e=c(),g=[];a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.selectExtensions.readValue(b))});a.expressionRewriting.writeValueToProperty(e,d,
"selectedOptions",g)})},update:function(b,c){if("select"!=a.utils.tagNameLower(b))throw Error("values binding applies only to SELECT elements");var d=a.utils.unwrapObservable(c());d&&"number"==typeof d.length&&a.utils.arrayForEach(b.getElementsByTagName("option"),function(b){var c=0<=a.utils.arrayIndexOf(d,a.selectExtensions.readValue(b));a.utils.setOptionNodeSelectionState(b,c)})}};a.expressionRewriting.twoWayBindings.selectedOptions=!0;a.bindingHandlers.style={update:function(b,c){var d=a.utils.unwrapObservable(c()||
{});a.utils.objectForEach(d,function(c,d){d=a.utils.unwrapObservable(d);if(null===d||d===A||!1===d)d="";b.style[c]=d})}};a.bindingHandlers.submit={init:function(b,c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.utils.registerEventHandler(b,"submit",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.utils.setTextContent(b,c())}};a.virtualElements.allowedBindings.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,g=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=b(e.match(/Firefox\/([^ ]*)/));if(10>a.utils.ieVersion)var l=a.utils.domData.nextKey(),p=a.utils.domData.nextKey(),z=function(b){var c=this.activeElement;(c=c&&a.utils.domData.get(c,p))&&c(b)},
q=function(b,c){var d=b.ownerDocument;a.utils.domData.get(d,l)||(a.utils.domData.set(d,l,!0),a.utils.registerEventHandler(d,"selectionchange",z));a.utils.domData.set(b,p,c)};a.bindingHandlers.textInput={init:function(b,d,e){var f=b.value,k,l,p=function(c){clearTimeout(k);l=k=A;var g=b.value;f!==g&&(c&&(b._ko_textInputProcessedEvent=c.type),f=g,a.expressionRewriting.writeValueToProperty(d(),e,"textInput",g))},z=function(a){k||(l=b.value,a=p.bind(b,{type:a.type}),k=setTimeout(a,4))},n=function(){var c=
a.utils.unwrapObservable(d());if(null===c||c===A)c="";l!==A&&c===l?setTimeout(n,4):b.value!==c&&(f=c,b.value=c)},m=function(c,d){a.utils.registerEventHandler(b,c,d)};a.bindingHandlers.textInput._forceUpdateOn?a.utils.arrayForEach(a.bindingHandlers.textInput._forceUpdateOn,function(a){"after"==a.slice(0,5)?m(a.slice(5),z):m(a,p)}):10>a.utils.ieVersion?(m("propertychange",function(a){"value"===a.propertyName&&p(a)}),8==a.utils.ieVersion&&(m("keyup",p),m("keydown",p)),8<=a.utils.ieVersion&&(q(b,p),m("dragend",
z))):(m("input",p),5>g&&"textarea"===a.utils.tagNameLower(b)?(m("keydown",z),m("paste",z),m("cut",z)):11>c?m("keydown",z):4>h&&(m("DOMAutoComplete",p),m("dragdrop",p),m("drop",p)));m("change",p);a.computed(n,null,{disposeWhenNodeIsRemoved:b})}};a.expressionRewriting.twoWayBindings.textInput=!0;a.bindingHandlers.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.bindingHandlers.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.bindingHandlers.uniqueName.currentIndex;a.utils.setElementName(b,
d)}}};a.bindingHandlers.uniqueName.currentIndex=0;a.bindingHandlers.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],g=d.get("valueUpdate"),h=!1,l=null;g&&("string"==typeof g&&(g=[g]),a.utils.arrayPushAll(e,g),e=a.utils.arrayGetDistinctValues(e));var z=function(){l=null;h=!1;var e=c(),g=a.selectExtensions.readValue(b);a.expressionRewriting.writeValueToProperty(e,d,"value",g)};!a.utils.ieVersion||"input"!=
b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.utils.arrayIndexOf(e,"propertychange")||(a.utils.registerEventHandler(b,"propertychange",function(){h=!0}),a.utils.registerEventHandler(b,"focus",function(){h=!1}),a.utils.registerEventHandler(b,"blur",function(){h&&z()}));a.utils.arrayForEach(e,function(c){var d=z;a.utils.stringStartsWith(c,"after")&&(d=function(){l=a.selectExtensions.readValue(b);setTimeout(z,0)},c=c.substring(5));a.utils.registerEventHandler(b,
c,d)});var q=function(){var e=a.utils.unwrapObservable(c()),g=a.selectExtensions.readValue(b);if(null!==l&&e===l)setTimeout(q,0);else if(e!==g)if("select"===a.utils.tagNameLower(b)){var h=d.get("valueAllowUnset"),g=function(){a.selectExtensions.writeValue(b,e,h)};g();h||e===a.selectExtensions.readValue(b)?setTimeout(g,0):a.dependencyDetection.ignore(a.utils.triggerEvent,null,[b,"change"])}else a.selectExtensions.writeValue(b,e)};a.computed(q,null,{disposeWhenNodeIsRemoved:b})}else a.applyBindingAccessorsToNode(b,
{checkedValue:c})},update:function(){}};a.expressionRewriting.twoWayBindings.value=!0;a.bindingHandlers.visible={update:function(b,c){var d=a.utils.unwrapObservable(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.bindingHandlers[b]={init:function(c,d,e,g,h){return a.bindingHandlers.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,h)}}})("click");a.templateEngine=function(){};a.templateEngine.prototype.renderTemplateSource=function(a,
b,c,d){throw Error("Override renderTemplateSource");};a.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw Error("Override createJavaScriptEvaluatorBlock");};a.templateEngine.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||g;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.templateSources.domElement(d)}if(1==b.nodeType||8==b.nodeType)return new a.templateSources.anonymousTemplate(b);throw Error("Unknown template type: "+
b);};a.templateEngine.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c,d)};a.templateEngine.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.templateEngine.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.exportSymbol("templateEngine",a.templateEngine);a.templateRewriting=
function(){function b(c,d,e,f){c=a.expressionRewriting.parseObjectLiteral(c);for(var k=a.expressionRewriting.bindingRewriteValidators,g=0;g<c.length;g++){var h=c[g].key;if(k.hasOwnProperty(h)){var l=k[h];if("function"===typeof l){if(h=l(c[g].value))throw Error(h);}else if(!l)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.expressionRewriting.preProcessBindings(c,{valueAccessors:!0})+
" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.templateRewriting.memoizeBindingAttributeSyntax(b,c)},d)},memoizeBindingAttributeSyntax:function(a,e){return a.replace(c,function(a,
c,d,k,g){return b(g,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},applyMemoizedBindingsToNextSibling:function(b,c){return a.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.applyBindingAccessorsToNode(f,b,e)})}}}();a.exportSymbol("__tr_ambtns",a.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){a.templateSources={};a.templateSources.domElement=function(a){this.domElement=a};a.templateSources.domElement.prototype.text=
function(){var b=a.utils.tagNameLower(this.domElement),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.domElement[b];var c=arguments[0];"innerHTML"===b?a.utils.setHtml(this.domElement,c):this.domElement[b]=c};var b=a.utils.domData.nextKey()+"_";a.templateSources.domElement.prototype.data=function(c){if(1===arguments.length)return a.utils.domData.get(this.domElement,b+c);a.utils.domData.set(this.domElement,b+c,arguments[1])};var c=a.utils.domData.nextKey();
a.templateSources.anonymousTemplate=function(a){this.domElement=a};a.templateSources.anonymousTemplate.prototype=new a.templateSources.domElement;a.templateSources.anonymousTemplate.prototype.constructor=a.templateSources.anonymousTemplate;a.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var b=a.utils.domData.get(this.domElement,c)||{};b.textData===A&&b.containerData&&(b.textData=b.containerData.innerHTML);return b.textData}a.utils.domData.set(this.domElement,
c,{textData:arguments[0]})};a.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length)return(a.utils.domData.get(this.domElement,c)||{}).containerData;a.utils.domData.set(this.domElement,c,{containerData:arguments[0]})};a.exportSymbol("templateSources",a.templateSources);a.exportSymbol("templateSources.domElement",a.templateSources.domElement);a.exportSymbol("templateSources.anonymousTemplate",a.templateSources.anonymousTemplate)})();(function(){function b(c,d,e){var f;for(d=
a.virtualElements.nextSibling(d);c&&(f=c)!==d;)c=a.virtualElements.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var g=d[0],k=d[d.length-1],h=g.parentNode,l=a.bindingProvider.instance,p=l.preprocessNode;if(p){b(g,k,function(a,b){var c=a.previousSibling,d=p.call(l,a);d&&(a===g&&(g=d[0]||b),a===k&&(k=d[d.length-1]||c))});d.length=0;if(!g)return;g===k?d.push(g):(d.push(g,k),a.utils.fixUpContinuousNodeArray(d,h))}b(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.applyBindings(e,b)});b(g,k,function(b){1!==
b.nodeType&&8!==b.nodeType||a.memoization.unmemoizeDomNodeAndDescendants(b,[e])});a.utils.fixUpContinuousNodeArray(d,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,f,g,l,p){p=p||{};var n=(b&&d(b)||g||{}).ownerDocument,m=p.templateEngine||h;a.templateRewriting.ensureTemplateIsRewritten(g,m,n);g=m.renderTemplate(g,l,p,n);if("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(f){case "replaceChildren":a.virtualElements.setDomNodeChildren(b,
g);n=!0;break;case "replaceNode":a.utils.replaceDomNodes(b,g);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+f);}n&&(c(g,l),p.afterRender&&a.dependencyDetection.ignore(p.afterRender,null,[g,l.$data]));return g}function g(b,c,d){return a.isObservable(b)?b():"function"===typeof b?b(c,d):b}var h;a.setTemplateEngine=function(b){if(b!=A&&!(b instanceof a.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");h=b};a.renderTemplate=function(b,
c,f,l,p){f=f||{};if((f.templateEngine||h)==A)throw Error("Set a template engine before calling renderTemplate");p=p||"replaceChildren";if(l){var n=d(l);return a.dependentObservable(function(){var h=c&&c instanceof a.bindingContext?c:new a.bindingContext(a.utils.unwrapObservable(c)),m=g(b,h.$data,h),h=e(l,p,m,h,f);"replaceNode"==p&&(l=h,n=d(l))},null,{disposeWhen:function(){return!n||!a.utils.domNodeIsAttachedToDocument(n)},disposeWhenNodeIsRemoved:n&&"replaceNode"==p?n.parentNode:n})}return a.memoization.memoize(function(d){a.renderTemplate(b,
c,f,d,"replaceNode")})};a.renderTemplateForEach=function(b,d,f,k,h){var l,p=function(a,c){l=h.createChildContext(a,f.as,function(a){a.$index=c});var d=g(b,a,l);return e(null,"ignoreTargetNode",d,l,f)},n=function(a,b,d){c(b,l);f.afterRender&&f.afterRender(b,a);l=null};return a.dependentObservable(function(){var b=a.utils.unwrapObservable(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.utils.arrayFilter(b,function(b){return f.includeDestroyed||b===A||null===b||!a.utils.unwrapObservable(b._destroy)});
a.dependencyDetection.ignore(a.utils.setDomNodeChildrenFromArrayMapping,null,[k,b,p,f,n])},null,{disposeWhenNodeIsRemoved:k})};var l=a.utils.domData.nextKey();a.bindingHandlers.template={init:function(b,c){var d=a.utils.unwrapObservable(c());if("string"==typeof d||d.name)a.virtualElements.emptyNode(b);else{if("nodes"in d){if(d=d.nodes||[],a.isObservable(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.virtualElements.childNodes(b);d=a.utils.moveCleanedNodesToContainerElement(d);
(new a.templateSources.anonymousTemplate(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),k;c=a.utils.unwrapObservable(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.utils.unwrapObservable(c["if"])),d&&"ifnot"in c&&(d=!a.utils.unwrapObservable(c.ifnot)),k=a.utils.unwrapObservable(c.data));"foreach"in c?e=a.renderTemplateForEach(g||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=a.renderTemplate(g||b,f,c,b)):a.virtualElements.emptyNode(b);
f=e;(k=a.utils.domData.get(b,l))&&"function"==typeof k.dispose&&k.dispose();a.utils.domData.set(b,l,f&&f.isActive()?f:A)}};a.expressionRewriting.bindingRewriteValidators.template=function(b){b=a.expressionRewriting.parseObjectLiteral(b);return 1==b.length&&b[0].unknown||a.expressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.virtualElements.allowedBindings.template=!0})();a.exportSymbol("setTemplateEngine",
a.setTemplateEngine);a.exportSymbol("renderTemplate",a.renderTemplate);a.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,g,h,l;for(d=e=0;(!c||d<c)&&(h=a[e]);++e){for(g=0;l=b[g];++g)if(h.value===l.value){h.moved=l.index;l.moved=h.index;b.splice(g,1);d=g=0;break}d+=g}}};a.utils.compareArrays=function(){function b(c,d,e,f,g){var h=Math.min,l=Math.max,n=[],m,y=c.length,r,w=d.length,x=w-y||1,A=y+w+1,E,D,P;for(m=0;m<=y;m++)for(D=E,n.push(E=[]),P=h(w,m+x),r=l(0,m-1);r<=P;r++)E[r]=
r?m?c[m-1]===d[r-1]?D[r-1]:h(D[r]||A,E[r-1]||A)+1:r+1:m+1;h=[];l=[];x=[];m=y;for(r=w;m||r;)w=n[m][r]-1,r&&w===n[m][r-1]?l.push(h[h.length]={status:e,value:d[--r],index:r}):m&&w===n[m-1][r]?x.push(h[h.length]={status:f,value:c[--m],index:m}):(--r,--m,g.sparse||h.push({status:"retained",value:d[r]}));a.utils.findMovesInArrayComparison(l,x,10*y);return h.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",
d):b(c,a,"deleted","added",d)}}();a.exportSymbol("utils.compareArrays",a.utils.compareArrays);(function(){function b(c,d,e,f,g){var h=[],l=a.dependentObservable(function(){var b=d(e,g,a.utils.fixUpContinuousNodeArray(h,c))||[];0<h.length&&(a.utils.replaceDomNodes(h,b),f&&a.dependencyDetection.ignore(f,null,[e,b,g]));h.length=0;a.utils.arrayPushAll(h,b)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!a.utils.anyDomNodeIsAttachedToDocument(h)}});return{mappedNodes:h,dependentObservable:l.isActive()?
l:A}}var c=a.utils.domData.nextKey();a.utils.setDomNodeChildrenFromArrayMapping=function(d,e,g,h,l){function n(b,c){F=y[c];M!==c&&(S[b]=F);F.indexObservable(M++);a.utils.fixUpContinuousNodeArray(F.mappedNodes,d);E.push(F);P.push(F)}function m(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.utils.arrayForEach(c[d].mappedNodes,function(a){b(a,d,c[d].arrayEntry)})}e=e||[];h=h||{};var r=a.utils.domData.get(d,c)===A,y=a.utils.domData.get(d,c)||[],w=a.utils.arrayMap(y,function(a){return a.arrayEntry}),
x=a.utils.compareArrays(w,e,h.dontLimitMoves),E=[],D=0,M=0,V=[],P=[];e=[];for(var S=[],w=[],F,N=0,T,O;T=x[N];N++)switch(O=T.moved,T.status){case "deleted":O===A&&(F=y[D],F.dependentObservable&&F.dependentObservable.dispose(),V.push.apply(V,a.utils.fixUpContinuousNodeArray(F.mappedNodes,d)),h.beforeRemove&&(e[N]=F,P.push(F)));D++;break;case "retained":n(N,D++);break;case "added":O!==A?n(N,O):(F={arrayEntry:T.value,indexObservable:a.observable(M++)},E.push(F),P.push(F),r||(w[N]=F))}m(h.beforeMove,S);
a.utils.arrayForEach(V,h.beforeRemove?a.cleanNode:a.removeNode);for(var N=0,r=a.virtualElements.firstChild(d),Q;F=P[N];N++){F.mappedNodes||a.utils.extend(F,b(d,g,F.arrayEntry,l,F.indexObservable));for(D=0;x=F.mappedNodes[D];r=x.nextSibling,Q=x,D++)x!==r&&a.virtualElements.insertAfter(d,x,Q);!F.initialized&&l&&(l(F.arrayEntry,F.mappedNodes,F.indexObservable),F.initialized=!0)}m(h.beforeRemove,e);m(h.afterMove,S);m(h.afterAdd,w);a.utils.domData.set(d,c,E)}})();a.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",
a.utils.setDomNodeChildrenFromArrayMapping);a.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};a.nativeTemplateEngine.prototype=new a.templateEngine;a.nativeTemplateEngine.prototype.constructor=a.nativeTemplateEngine;a.nativeTemplateEngine.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.utils.ieVersion?0:b.nodes)?b.nodes():null)return a.utils.makeArray(c.cloneNode(!0).childNodes);b=b.text();return a.utils.parseHtmlFragment(b,e)};a.nativeTemplateEngine.instance=new a.nativeTemplateEngine;
a.setTemplateEngine(a.nativeTemplateEngine.instance);a.exportSymbol("nativeTemplateEngine",a.nativeTemplateEngine);(function(){a.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(!e||!e.tmpl)return 0;try{if(0<=e.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,d,f){f=f||g;d=d||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");
h||(h=b.text()||"",h=e.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[c.$data];c=e.extend({koBindingContext:c},d.templateOptions);c=e.tmpl(h,b,c);c.appendTo(f.createElement("div"));e.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(e.tmpl.tag.ko_code={open:"__.push($1 || '');"},
e.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.jqueryTmplTemplateEngine.prototype=new a.templateEngine;a.jqueryTmplTemplateEngine.prototype.constructor=a.jqueryTmplTemplateEngine;var b=new a.jqueryTmplTemplateEngine;0<b.jQueryTmplVersion&&a.setTemplateEngine(b);a.exportSymbol("jqueryTmplTemplateEngine",a.jqueryTmplTemplateEngine)})()})})()})();
(function(A){var d={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=16*Math.random()|0;return("x"===d?b:b&3|8).toString(16)})},base64Id:function(d){for(var b="",e,m=0;m<d;m++)e=62*Math.random()|0,b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[e];return b},createCookie:function(d,b,e){var m="";e&&(m=new Date,m.setTime(m.getTime()+864E5*e),m="; expires="+m.toGMTString());document.cookie=d+"="+b+m+"; path=/"},readCookie:function(d){d+=
"=";for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var m=b[e];" "===m.charAt(0);)m=m.substring(1,m.length);if(0===m.indexOf(d))return m.substring(d.length,m.length)}return null},eraseCookie:function(g){d.createCookie(g,"",-1)},safeMailtoHref:function(d,b){return"mailto:?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(b)},bootstrapDropdowns:function(){var d=document.querySelectorAll(".dropdown-toggle"),b=document.querySelectorAll(".dropdown-menu"),e=function(b){b.addEventListener("click",
function(){this.parentNode.classList.toggle("open")})};Array.prototype.forEach.call(b,e);Array.prototype.forEach.call(d,e)},init:function(){d.bootstrapDropdowns()}};"undefined"!==typeof module&&module.exports?module.exports=d:(A.EP=A.EP||{},A.EP.Tools=d)})(this);
(function(A,d){A.User=function(g,b){var e=this;e.uuid=b||A.Tools.uuid();e.name=d.observable("");e.displayName=d.pureComputed(function(){return e.name()||"new user"});e.estimation=d.observable(!1);e.broadcast=function(){g.emit("update",d.toJSON(e))};e.loadFromCookie=function(){A.Tools.readCookie("ep.user.name")&&A.Tools.readCookie("ep.user.uuid")&&(e.name(A.Tools.readCookie("ep.user.name")),e.uuid=A.Tools.readCookie("ep.user.uuid"))};e.saveToCookie=function(){A.Tools.createCookie("ep.user.name",e.name());
A.Tools.createCookie("ep.user.uuid",e.uuid)};e.isConnected=d.observable(!1);e.isWatcher=d.observable(!1);e.isWatcher.subscribe(function(b){!0===b&&e.estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(A,d){A.PokerView=function(g){var b=this,e=function(){return b.users().concat(b.localUser()).filter(function(b){return!0!==b.isWatcher()}).map(function(b){return b.estimation()}).filter(function(b){return!1!==b})},m=function(c){return b.users().filter(function(a){return a.uuid===c})[0]},c=io.connect("/");b.pokerValues=d.observableArray([0,1,2,3,5,8,13,20,40,100]);var n=b.pokerValues.subscribe(function(){r()});b.pokerValueSets=[{title:"Scrum",values:[0,1,2,3,5,8,13,20,40,100]},{title:"T-Shirt sizes",
values:["S","M","L","XL"]}];b.initNewRound=function(){b.localUser().estimation(!1);c.emit("new round")};b.setPokerValues=function(d){c.emit("set poker values",JSON.stringify(d));b.initNewRound();b.pokerValues(d.values)};b.localUser=d.observable(new A.User(c));b.localUser().loadFromCookie();b.localUser().name.subscribe(function(){b.localUser().broadcast();b.localUser().saveToCookie()});b.localUser().estimation.subscribe(function(){b.localUser().broadcast()});b.localUser().isWatcher.subscribe(function(){b.localUser().broadcast()});
c.emit("join",{groupName:g,userUuid:b.localUser().uuid});b.localUser().broadcast();b.users=d.observableArray([]);b.storyTitle=d.observable("");var l=b.storyTitle.subscribe(function(){r()});b.highestEstimation=d.computed(function(){var b=e(),b=Math.max.apply(null,b);return-Infinity===b?!1:b});b.lowestEstimation=d.computed(function(){var b=e(),b=Math.min.apply(null,b);return Infinity===b?!1:b});b.estimationsComplete=d.computed(function(){return 0===b.users().concat(b.localUser()).filter(function(b){return!0!==
b.isWatcher()&&!1===b.estimation()}).length&&0<e().length});b.roundIsInProgress=d.computed(function(){return 0<e().length&&!b.estimationsComplete()});b.statusTitle=d.computed(function(){var c="";b.estimationsComplete()&&(c="\u2713 ");return c+"Estimation Poker"});b.mailtoHref=d.pureComputed(function(){return A.Tools.safeMailtoHref("Estimation Poker URL",window.location)});b.displaySharingQrCode=d.observable(!1);b.toggleDisplaySharingQrCode=function(){b.displaySharingQrCode(!b.displaySharingQrCode())};
b.toggleWatcher=function(){b.localUser().isWatcher(!b.localUser().isWatcher())};var r=function(){var d={storyTitle:b.storyTitle(),pokerValues:b.pokerValues()};c.emit("update",JSON.stringify(d))},w=function(c){var a=b.users().filter(function(a){return a.uuid!==c});b.users(a)};c.on("connect",function(){b.localUser().isConnected(!0)});c.on("disconnect",function(){b.localUser().isConnected(!1)});c.on("reconnect",function(){b.localUser().isConnected(!0)});c.on("update",function(d){d=JSON.parse(d);if(void 0!==
d.uuid){if(d.uuid!==b.localUser().uuid){var a=m(d.uuid);a||(a=new A.User(c,d.uuid),b.users.push(a));a.name(d.name);a.estimation(d.estimation);a.isWatcher(d.isWatcher)}}else l.isDisposed=!0,n.isDisposed=!0,b.storyTitle(d.storyTitle),b.pokerValues(d.pokerValues),l.isDisposed=!1,n.isDisposed=!1});c.on("who is there",function(){b.localUser().broadcast();r()});c.on("reconnect",function(){c.emit("join",{groupName:g,userUuid:b.localUser().uuid});b.localUser().broadcast();r()});c.on("user disconnected",function(b){w(b)});
c.on("new round",function(){b.localUser().estimation(!1)})}})(window.EP=window.EP||{},window.ko);
(function(A){A.bindingHandlers.estimationSelect={init:function(d,g){var b=g().value,e=g().valueSet;d.classList.add("estimation-select");d.addEventListener("click",function(c){c.target.classList.contains("active")?b(!1):b(+c.target.getAttribute("data-index"))});var m=function(c){var d;!1===b()?(1===c&&(d=0),-1===c&&(d=e().length-1)):d=b()+c;0<=d&&d<=e().length-1&&b(d)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"!==b.key&&43!==b.keyCode||
m(1),"-"!==b.key&&45!==b.keyCode||m(-1))})},update:function(d,g){for(var b=g().value,e=g().valueSet(),m="",c=0;c<e.length;c++)m+='<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+c+'" data-index="'+c+'">'+e[c]+"</button>";d.innerHTML="";d.insertAdjacentHTML("beforeend",m);e=d.querySelectorAll("button");for(c=0;c<e.length;c++)+e[c].getAttribute("data-index")===b()?e[c].classList.add("active"):e[c].classList.remove("active")}}})(window.ko);
(function(A){A.bindingHandlers.editableText={init:function(d,g){d.classList.add("editable-text");d.innerHTML='<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>';d.querySelector(".et-form").style.display="none";var b=function(){d.classList.remove("editing");d.querySelector(".et-display").style.display="";d.querySelector(".et-form").style.display=
"none";g()(d.querySelector("input").value)};d.querySelector(".et-display").addEventListener("click",function(){d.classList.add("editing");d.querySelector(".et-display").style.display="none";d.querySelector(".et-form").style.display="";d.querySelector(".et-form input").focus()});d.querySelector("button").addEventListener("click",b);d.querySelector("input").addEventListener("keypress",function(d){13===d.keyCode&&b()});d.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&
(d.classList.remove("editing"),d.querySelector(".et-display").style.display="",d.querySelector(".et-form").style.display="none")});d.querySelector("input").addEventListener("blur",b)},update:function(d,g){var b=g();d.querySelector(".et-label").textContent=b();d.querySelector("input").value=b();b()?d.querySelector(".et-hint").style.display="none":(d.querySelector(".et-hint").textContent=d.getAttribute("data-edit-hint")||"edit",d.querySelector(".et-hint").style.display="")}}})(window.ko);
(function(A){A.bindingHandlers.pageTitle={update:function(d,g){var b=g();document.title=b()}}})(window.ko);(function(A,d,g){""===location.hash&&(location.hash=A.Tools.base64Id(8));var b=new A.PokerView(location.hash);d.components.register("card",{template:{element:"card"}});d.applyBindings(b);new g(document.getElementById("sharing-qr-code"),location+"");A.Tools.init();document.querySelector("body").classList.remove("uninitialised")})(window.EP=window.EP||{},window.ko,window.QRCode);

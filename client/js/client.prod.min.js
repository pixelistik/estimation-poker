!function(v){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=v();else if("function"==typeof define&&define.amd)define([],v);else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=v()}}(function(){return function d(g,c,b){function r(f,x){if(!c[f]){if(!g[f]){var n="function"==typeof require&&require;if(!x&&n)return n(f,!0);if(e)return e(f,!0);throw Error("Cannot find module '"+f+"'");}n=c[f]={exports:{}};g[f][0].call(n.exports,
function(b){var a=g[f][1][b];return r(a?a:b)},n,n.exports,d,g,c,b)}return c[f].exports}for(var e="function"==typeof require&&require,f=0;f<b.length;f++)r(b[f]);return r}({1:[function(d,g,c){g.exports=d("./lib/")},{"./lib/":2}],2:[function(d,g,c){function b(b,e){"object"==typeof b&&(e=b,b=void 0);e=e||{};var a=r(b),c=a.source,z=a.id;e.forceNew||e["force new connection"]||!1===e.multiplex?(m("ignoring socket cache for %s",c),c=f(c,e)):(x[z]||(m("new io instance for %s",c),x[z]=f(c,e)),c=x[z]);return c.socket(a.path)}
var r=d("./url"),e=d("socket.io-parser"),f=d("./manager"),m=d("debug")("socket.io-client");g.exports=c=b;var x=c.managers={};c.protocol=e.protocol;c.connect=b;c.Manager=d("./manager");c.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(d,g,c){function b(a,e){if(!(this instanceof b))return new b(a,e);a&&"object"==typeof a&&(e=a,a=void 0);e=e||{};e.path=e.path||"/socket.io";this.nsps={};this.subs=[];this.opts=e;this.reconnection(!1!==e.reconnection);
this.reconnectionAttempts(e.reconnectionAttempts||Infinity);this.reconnectionDelay(e.reconnectionDelay||1E3);this.reconnectionDelayMax(e.reconnectionDelayMax||5E3);this.timeout(null==e.timeout?2E4:e.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new f.Encoder;this.decoder=new f.Decoder;(this.autoConnect=!1!==e.autoConnect)&&this.open()}d("./url");var r=d("engine.io-client"),e=d("./socket");c=d("component-emitter");
var f=d("socket.io-parser"),m=d("./on"),x=d("component-bind");d("object-component");var n=d("debug")("socket.io-client:manager"),w=d("indexof");g.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};c(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){n("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;n("opening %s",this.uri);var b=this.engine=r(this.uri,this.opts),e=this;this.readyState="opening";this.skipReconnect=!1;var f=m(b,"open",function(){e.onopen();a&&a()}),c=m(b,"error",function(l){n("connect_error");e.cleanup();e.readyState="closed";e.emitAll("connect_error",l);if(a){var k=
Error("Connection error");k.data=l;a(k)}e.maybeReconnectOnOpen()});if(!1!==this._timeout){var d=this._timeout;n("connect attempt will timeout after %d",d);var l=setTimeout(function(){n("connect attempt timed out after %d",d);f.destroy();b.close();b.emit("error","timeout");e.emitAll("connect_timeout",d)},d);this.subs.push({destroy:function(){clearTimeout(l)}})}this.subs.push(f);this.subs.push(c);return this};b.prototype.onopen=function(){n("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(m(a,"data",x(this,"ondata")));this.subs.push(m(this.decoder,"decoded",x(this,"ondecoded")));this.subs.push(m(a,"error",x(this,"onerror")));this.subs.push(m(a,"close",x(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){n("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new e(this,a);this.nsps[a]=b;var z=this;b.on("connect",
function(){~w(z.connected,b)||z.connected.push(b)})}return b};b.prototype.destroy=function(a){a=w(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};b.prototype.packet=function(a){n("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var e=0;e<a.length;e++)b.engine.write(a[e]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){n("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)n("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());n("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var e=setTimeout(function(){a.skipReconnect||(n("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(b){b?(n("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(n("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(e)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(d,g,c){g.exports=function(b,r,e){b.on(r,e);return{destroy:function(){b.removeListener(r,e)}}}},{}],5:[function(d,g,c){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var r=d("socket.io-parser");c=d("component-emitter");var e=d("to-array"),f=d("./on"),m=d("component-bind"),x=d("debug")("socket.io-client:socket"),n=d("has-binary");g.exports=b;var w=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=c.prototype.emit;c(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[f(a,"open",m(this,"onopen")),f(a,"packet",m(this,"onpacket")),f(a,"close",m(this,"onclose"))]}};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};b.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(w.hasOwnProperty(b))return a.apply(this,arguments),this;var z=e(arguments),f=r.EVENT;n(z)&&(f=r.BINARY_EVENT);f={type:f,data:z};"function"==typeof z[z.length-1]&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=z.pop(),f.id=this.ids++);this.connected?this.packet(f):this.sendBuffer.push(f);return this};b.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};b.prototype.onopen=function(){x("transport is open - connecting");"/"!=this.nsp&&this.packet({type:r.CONNECT})};b.prototype.onclose=function(a){x("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(a);break;case r.BINARY_EVENT:this.onevent(a);break;case r.ACK:this.onack(a);break;case r.BINARY_ACK:this.onack(a);
break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(b){var e=b.data||[];x("emitting event %j",e);null!=b.id&&(x("attaching ack callback to event"),e.push(this.ack(b.id)));this.connected?a.apply(this,e):this.receiveBuffer.push(e)};b.prototype.ack=function(a){var b=this,f=!1;return function(){if(!f){f=!0;var c=e(arguments);x("sending ack %j",c);var d=n(c)?r.BINARY_ACK:r.ACK;b.packet({type:d,id:a,data:c})}}};b.prototype.onack=function(a){x("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var b;for(b=0;b<this.receiveBuffer.length;b++)a.apply(this,this.receiveBuffer[b]);this.receiveBuffer=[];for(b=0;b<this.sendBuffer.length;b++)this.packet(this.sendBuffer[b]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(d,g,c){(function(b){var r=d("parseuri"),e=d("debug")("socket.io-client:url");g.exports=function(f,c){var d=f;c=c||b.location;null==f&&(f=c.protocol+"//"+c.hostname);"string"==typeof f&&("/"==f.charAt(0)&&(f="/"==f.charAt(1)?c.protocol+f:c.hostname+f),/^(https?|wss?):\/\//.test(f)||(e("protocol-less url %s",f),f="undefined"!=typeof c?c.protocol+"//"+f:"https://"+f),e("parse %s",f),d=r(f));d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&
(d.port="443"));d.path=d.path||"/";d.id=d.protocol+"://"+d.host+":"+d.port;d.href=d.protocol+"://"+d.host+(c&&c.port==d.port?"":":"+d.port);return d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(d,g,c){var b=[].slice;g.exports=function(r,e){"string"==typeof e&&(e=r[e]);if("function"!=typeof e)throw Error("bind() requires a function");var f=b.call(arguments,2);return function(){return e.apply(r,f.concat(b.call(arguments)))}}},
{}],8:[function(d,g,c){function b(r){if(r){for(var e in b.prototype)r[e]=b.prototype[e];return r}}g.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(e);return this};b.prototype.once=function(b,e){function f(){c.off(b,f);e.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};f.fn=e;this.on(b,f);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var f=this._callbacks[b];if(!f)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,d=0;d<f.length;d++)if(c=f[d],c===e||c.fn===e){f.splice(d,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),f=this._callbacks[b];if(f)for(var f=f.slice(0),c=0,d=f.length;c<d;++c)f[c].apply(this,
e);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(d,g,c){function b(e){return b.enabled(e)?function(f){f instanceof Error&&(f=f.stack||f.message);var c=new Date,d=c-(b[e]||c);b[e]=c;f=e+" "+f+" +"+b.humanize(d);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=b;b.names=[];b.skips=
[];b.enable=function(e){try{localStorage.debug=e}catch(c){}for(var d=(e||"").split(/[\s,]+/),r=d.length,n=0;n<r;n++)e=d[n].replace("*",".*?"),"-"===e[0]?b.skips.push(new RegExp("^"+e.substr(1)+"$")):b.names.push(new RegExp("^"+e+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(e){for(var c=0,d=b.skips.length;c<d;c++)if(b.skips[c].test(e))return!1;c=0;for(d=b.names.length;c<
d;c++)if(b.names[c].test(e))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(r){}},{}],10:[function(d,g,c){g.exports=d("./lib/")},{"./lib/":11}],11:[function(d,g,c){g.exports=d("./socket");g.exports.parser=d("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(d,g,c){(function(b){function c(a,e){if(!(this instanceof c))return new c(a,e);e=e||{};a&&"object"==typeof a&&(e=a,a=null);a&&(a=w(a),e.host=a.host,e.secure="https"==a.protocol||"wss"==a.protocol,
e.port=a.port,a.query&&(e.query=a.query));this.secure=null!=e.secure?e.secure:b.location&&"https:"==location.protocol;if(e.host){var d=e.host.split(":");e.hostname=d.shift();d.length&&(e.port=d.pop())}this.agent=e.agent||!1;this.hostname=e.hostname||(b.location?location.hostname:"localhost");this.port=e.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=e.query||{};"string"==typeof this.query&&(this.query=C.decode(this.query));this.upgrade=!1!==e.upgrade;this.path=(e.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!e.forceJSONP;this.jsonp=!1!==e.jsonp;this.forceBase64=!!e.forceBase64;this.enablesXDR=!!e.enablesXDR;this.timestampParam=e.timestampParam||"t";this.timestampRequests=e.timestampRequests;this.transports=e.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=e.policyPort||843;this.rememberUpgrade=e.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}
var e=d("./transports"),f=d("component-emitter"),m=d("debug")("engine.io-client:socket"),x=d("indexof"),n=d("engine.io-parser"),w=d("parseuri"),a=d("parsejson"),C=d("parseqs");g.exports=c;c.priorWebsocketSuccess=!1;f(c.prototype);c.protocol=n.protocol;c.Socket=c;c.Transport=d("./transport");c.transports=d("./transports");c.parser=d("engine.io-parser");c.prototype.createTransport=function(a){m('creating transport "%s"',a);var b=this.query,c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.EIO=n.protocol;
c.transport=a;this.id&&(c.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(e){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=function(a){m("setting transport %s",a.name);var b=this;this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};c.prototype.probe=function(a){function b(){if(p.onlyBinaryUpgrades){var l=!this.supportsBinary&&p.transport.supportsBinary;f=f||l}f||(m('probe transport "%s" opened',a),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(q){f||("pong"==q.type&&"probe"==q.data?(m('probe transport "%s" pong',a),p.upgrading=!0,p.emit("upgrading",t),t&&
(c.priorWebsocketSuccess="websocket"==t.name,m('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){f||"closed"==p.readyState||(m("changing transport and sending upgrade packet"),F(),p.setTransport(t),t.send([{type:"upgrade"}]),p.emit("upgrade",t),t=null,p.upgrading=!1,p.flush())}))):(m('probe transport "%s" failed',a),q=Error("probe error"),q.transport=t.name,p.emit("upgradeError",q)))}))}function e(){f||(f=!0,F(),t.close(),t=null)}function d(l){var q=Error("probe error: "+
l);q.transport=t.name;e();m('probe transport "%s" failed because of error: %s',a,l);p.emit("upgradeError",q)}function l(){d("transport closed")}function u(){d("socket closed")}function k(a){t&&a.name!=t.name&&(m('"%s" works - aborting "%s"',a.name,t.name),e())}function F(){t.removeListener("open",b);t.removeListener("error",d);t.removeListener("close",l);p.removeListener("close",u);p.removeListener("upgrading",k)}m('probing transport "%s"',a);var t=this.createTransport(a,{probe:1}),f=!1,p=this;c.priorWebsocketSuccess=
!1;t.once("open",b);t.once("error",d);t.once("close",l);this.once("close",u);this.once("upgrading",k);t.open()};c.prototype.onOpen=function(){m("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){m("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(b){if("opening"==this.readyState||
"open"==this.readyState)switch(m('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var e=Error("server error");e.code=b.data;this.emit("error",e);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else m('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};
c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){m("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){this.sendPacket("ping")};c.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(m("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};c.prototype.sendPacket=function(a,b,e){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:b},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(e),this.flush())};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){c.once("upgrade",b);c.once("upgradeError",b)},b=function(){c.removeListener("upgrade",b);c.removeListener("upgradeError",b);e()},e=function(){c.onClose("forced close");m("socket closing - telling transport to close");c.transport.close()};this.readyState=
"closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():e()});else this.upgrading?a():e()}return this};c.prototype.onError=function(a){m("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){m('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){e.writeBuffer=[];e.callbackBuffer=[];e.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};c.prototype.filterUpgrades=function(a){for(var b=[],e=0,c=a.length;e<c;e++)~x(this.transports,a[e])&&b.push(a[e]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(d,g,c){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket;this.enablesXDR=b.enablesXDR}var r=d("engine.io-parser");d=d("component-emitter");g.exports=b;d(b.prototype);b.timestamps=0;b.prototype.onError=function(b,
c){var d=Error(b);d.type="TransportError";d.description=c;this.emit("error",d);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=r.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(d,g,c){(function(b){var r=d("xmlhttprequest"),e=d("./polling-xhr"),f=d("./polling-jsonp"),m=d("./websocket");c.polling=function(c){var d=!1,m=!1,a=!1!==c.jsonp;b.location&&(m=
"https:"==location.protocol,(d=location.port)||(d=m?443:80),d=c.hostname!=location.hostname||d!=c.port,m=c.secure!=m);c.xdomain=d;c.xscheme=m;if("open"in new r(c)&&!c.forceJSONP)return new e(c);if(!a)throw Error("JSONP disabled");return new f(c)};c.websocket=m}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(d,g,c){(function(b){function c(){}function e(a){f.call(this,a);this.query=
this.query||{};w||(b.___eio||(b.___eio=[]),w=b.___eio);this.index=w.length;var e=this;w.push(function(a){e.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=c)},!1)}var f=d("./polling"),m=d("component-inherit");g.exports=e;var x=/\n/g,n=/\\n/g,w;m(e,f);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);f.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(b,e);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,b){function e(){c();b()}function c(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(a){d.onError("jsonp polling iframe removal error",a)}try{k=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(l){k=document.createElement("iframe"),k.name=d.iframeId,k.src="javascript:0"}k.id=d.iframeId;d.form.appendChild(k);d.iframe=k}var d=this;if(!this.form){var f=document.createElement("form"),
l=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,k;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=u;f.method="POST";f.setAttribute("accept-charset","utf-8");l.name="d";f.appendChild(l);document.body.appendChild(f);this.form=f;this.area=l}this.form.action=this.uri();c();a=a.replace(n,"\\\n");this.area.value=a.replace(x,"\\n");try{this.form.submit()}catch(F){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==d.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(d,g,c){(function(b){function c(){}function e(a){n.call(this,a);if(b.location){var e="https:"==location.protocol,c=location.port;c||(c=e?443:80);this.xd=a.hostname!=b.location.hostname||c!=a.port;this.xs=a.secure!=e}}function f(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function m(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var x=d("xmlhttprequest"),n=d("./polling"),w=d("component-emitter"),a=d("component-inherit"),C=d("debug")("engine.io-client:polling-xhr");g.exports=e;g.exports.Request=f;a(e,n);e.prototype.supportsBinary=!0;e.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new f(a)};e.prototype.doWrite=function(a,b){var e=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;e.on("success",b);e.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=e};e.prototype.doPoll=function(){C("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};w(f.prototype);f.prototype.create=function(){var a=this.xhr=new x({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{C("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){e.onLoad()},a.onerror=function(){e.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)e.onLoad();else setTimeout(function(){e.onError(a.status)},0)};C("xhr data %s",this.data);a.send(this.data)}catch(d){setTimeout(function(){e.onError(d)},0);return}b.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)};f.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
f.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};f.prototype.onError=function(a){this.emit("error",a);this.cleanup()};f.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;try{this.xhr.abort()}catch(a){}b.document&&delete f.requests[this.index];this.xhr=null}};f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}a=
"application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};f.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};f.prototype.abort=function(){this.cleanup()};b.document&&(f.requestsCount=0,f.requests={},b.attachEvent?b.attachEvent("onunload",m):b.addEventListener&&b.addEventListener("beforeunload",m,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(d,g,c){function b(b){var e=b&&b.forceBase64;if(!x||e)this.supportsBinary=!1;r.call(this,b)}var r=d("../transport"),e=d("parseqs"),f=d("engine.io-parser");c=d("component-inherit");var m=d("debug")("engine.io-client:polling");g.exports=b;var x=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;c(b,r);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=
function(b){function e(){m("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(m("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){m("pre-pause polling complete");--c||e()}));this.writable||(m("we are currently writing - waiting to pause"),c++,this.once("drain",function(){m("pre-pause writing complete");--c||e()}))}else e()};b.prototype.poll=function(){m("polling");this.polling=!0;this.doPoll();
this.emit("poll")};b.prototype.onData=function(b){var e=this;m("polling got data %s",b);f.decodePayload(b,this.socket.binaryType,function(a,b,c){if("opening"==e.readyState)e.onOpen();if("close"==a.type)return e.onClose(),!1;e.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():m('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){m("writing close packet");e.write([{type:"close"}])}
var e=this;"open"==this.readyState?(m("transport open - closing"),b()):(m("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var e=this;this.writable=!1;var a=function(){e.writable=!0;e.emit("drain")},e=this;f.encodePayload(b,this.supportsBinary,function(b){e.doWrite(b,a)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+r.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=e.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(d,g,c){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);r.call(this,b)}var r=d("../transport"),e=d("engine.io-parser"),f=d("parseqs");c=d("component-inherit");var m=d("debug")("engine.io-client:websocket"),
x=d("ws");g.exports=b;c(b,r);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new x(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(e){b.onData(e.data)};this.ws.onerror=
function(e){b.onError("websocket error",e)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var e=this;setTimeout(function(){r.prototype.onData.call(e,b)},0)});b.prototype.write=function(b){var c=this;this.writable=!1;for(var a=0,d=b.length;a<d;a++)e.encodePacket(b[a],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){m("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};b.prototype.onClose=
function(){r.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},e=this.secure?"wss":"ws",a="";this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=f.encode(b);b.length&&(b="?"+b);return e+"://"+this.hostname+a+this.path+b};b.prototype.check=function(){return!!x&&!("__initialize"in
x&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(d,g,c){var b=d("has-cors");g.exports=function(c){var e=c.xdomain,d=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||b))return new XMLHttpRequest}catch(m){}try{if("undefined"!=typeof XDomainRequest&&!d&&c)return new XDomainRequest}catch(g){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}},{"has-cors":37}],20:[function(d,
g,c){g.exports=function(b,c){var e=function(){};e.prototype=c.prototype;b.prototype=new e;b.prototype.constructor=b}},{}],21:[function(d,g,c){function b(){var b;try{b=localStorage.debug}catch(e){}return b}c=g.exports=d("./debug");c.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var b=arguments,e=this.useColors;b[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+b[0]+(e?"%c ":" ")+"+"+c.humanize(this.diff);
if(!e)return b;var e="color: "+this.color,b=[b[0],e,"color: inherit"].concat(Array.prototype.slice.call(b,1)),d=0,m=0;b[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(d++,"%c"===b&&(m=d))});b.splice(m,0,e);return b};c.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(e){}};c.load=b;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(b){return JSON.stringify(b)};c.enable(b())},{"./debug":22}],22:[function(d,g,c){c=g.exports=function(e){function d(){}function m(){var e=+new Date;m.diff=e-(r||e);m.prev=r;r=m.curr=e;null==m.useColors&&(m.useColors=c.useColors());null==m.color&&m.useColors&&(m.color=c.colors[b++%c.colors.length]);var d=Array.prototype.slice.call(arguments);d[0]=c.coerce(d[0]);
"string"!==typeof d[0]&&(d=["%o"].concat(d));var a=0;d[0]=d[0].replace(/%([a-z%])/g,function(b,e){if("%"===b)return b;a++;var f=c.formatters[e];"function"===typeof f&&(b=f.call(m,d[a]),d.splice(a,1),a--);return b});"function"===typeof c.formatArgs&&(d=c.formatArgs.apply(m,d));(m.log||c.log||console.log.bind(console)).apply(m,d)}d.enabled=!1;m.enabled=!0;var g=c.enabled(e)?m:d;g.namespace=e;return g};c.coerce=function(b){return b instanceof Error?b.stack||b.message:b};c.disable=function(){c.enable("")};
c.enable=function(b){c.save(b);for(var d=(b||"").split(/[\s,]+/),m=d.length,r=0;r<m;r++)d[r]&&(b=d[r].replace(/\*/g,".*?"),"-"===b[0]?c.skips.push(new RegExp("^"+b.substr(1)+"$")):c.names.push(new RegExp("^"+b+"$")))};c.enabled=function(b){var d,m;d=0;for(m=c.skips.length;d<m;d++)if(c.skips[d].test(b))return!1;d=0;for(m=c.names.length;d<m;d++)if(c.names[d].test(b))return!0;return!1};c.humanize=d("ms");c.names=[];c.skips=[];c.formatters={};var b=0,r},{ms:23}],23:[function(d,g,c){function b(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function r(b,c,d){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+d:Math.ceil(b/c)+" "+d+"s"}
g.exports=function(e,c){c=c||{};return"string"==typeof e?b(e):c.long?r(e,864E5,"day")||r(e,36E5,"hour")||r(e,6E4,"minute")||r(e,1E3,"second")||e+" ms":864E5<=e?Math.round(e/864E5)+"d":36E5<=e?Math.round(e/36E5)+"h":6E4<=e?Math.round(e/6E4)+"m":1E3<=e?Math.round(e/1E3)+"s":e+"ms"}},{}],24:[function(d,g,c){(function(b){function r(a,b,e){if(!b)return c.encodeBase64Packet(a,e);var k=new FileReader;k.onload=function(){a.data=k.result;c.encodePacket(a,b,!0,e)};return k.readAsArrayBuffer(a.data)}function e(a,
b,e){var k=Array(a.length);e=n(a.length,e);for(var c=function(a,e,c){b(e,function(b,l){k[a]=l;c(b,k)})},d=0;d<a.length;d++)c(d,a[d],e)}var f=d("./keys"),m=d("arraybuffer.slice"),g=d("base64-arraybuffer"),n=d("after"),w=d("utf8"),a=navigator.userAgent.match(/Android/i);c.protocol=3;var C=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=f(C),A={type:"error",data:"parser error"},B=d("blob");c.encodePacket=function(e,l,u,k){"function"==typeof l&&(k=l,l=!1);"function"==typeof u&&(k=
u,u=null);var d=void 0===e.data?void 0:e.data.buffer||e.data;if(b.ArrayBuffer&&d instanceof ArrayBuffer){if(l){u=e.data;l=new Uint8Array(u);u=new Uint8Array(1+u.byteLength);u[0]=C[e.type];for(e=0;e<l.length;e++)u[e+1]=l[e];e=k(u.buffer)}else e=c.encodeBase64Packet(e,k);return e}if(B&&d instanceof b.Blob)return l?a?e=r(e,l,k):(l=new Uint8Array(1),l[0]=C[e.type],e=new B([l.buffer,e.data]),e=k(e)):e=c.encodeBase64Packet(e,k),e;l=C[e.type];void 0!==e.data&&(l+=u?w.encode(String(e.data)):String(e.data));
return k(""+l)};c.encodeBase64Packet=function(a,l){var e="b"+c.packets[a.type];if(B&&a.data instanceof B){var k=new FileReader;k.onload=function(){var a=k.result.split(",")[1];l(e+a)};return k.readAsDataURL(a.data)}var d;try{d=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(t){d=new Uint8Array(a.data);for(var f=Array(d.length),p=0;p<d.length;p++)f[p]=d[p];d=String.fromCharCode.apply(null,f)}e+=b.btoa(d);return l(e)};c.decodePacket=function(a,b,e){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(e)try{a=w.decode(a)}catch(k){return A}e=a.charAt(0);return Number(e)==e&&z[e]?1<a.length?{type:z[e],data:a.substring(1)}:{type:z[e]}:A}e=(new Uint8Array(a))[0];a=m(a,1);B&&"blob"===b&&(a=new B([a]));return{type:z[e],data:a}};c.decodeBase64Packet=function(a,l){var e=z[a.charAt(0)];if(!b.ArrayBuffer)return{type:e,data:{base64:!0,data:a.substr(1)}};var k=g.decode(a.substr(1));"blob"===l&&B&&(k=new B([k]));return{type:e,data:k}};c.encodePayload=
function(b,l,u){"function"==typeof l&&(u=l,l=null);if(l)return B&&!a?c.encodePayloadAsBlob(b,u):c.encodePayloadAsArrayBuffer(b,u);if(!b.length)return u("0:");e(b,function(a,b){c.encodePacket(a,l,!0,function(a){b(null,a.length+":"+a)})},function(a,b){return u(b.join(""))})};c.decodePayload=function(a,b,e){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,e);"function"===typeof b&&(e=b,b=null);var k;if(""==a)return e(A,0,1);k="";for(var d,t,f=0,p=a.length;f<p;f++)if(t=a.charAt(f),":"!=t)k+=t;
else{if(""==k||k!=(d=Number(k)))return e(A,0,1);t=a.substr(f+1,d);if(k!=t.length)return e(A,0,1);if(t.length){k=c.decodePacket(t,b,!0);if(A.type==k.type&&A.data==k.data)return e(A,0,1);if(!1===e(k,f+d,p))return}f+=d;k=""}if(""!=k)return e(A,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,e){var c=e.reduce(function(a,b){var q;q="string"===typeof b?b.length:b.byteLength;return a+
q.toString().length+q+2},0),d=new Uint8Array(c),f=0;e.forEach(function(a){var b="string"===typeof a,q=a;if(b){for(var q=new Uint8Array(a.length),l=0;l<a.length;l++)q[l]=a.charCodeAt(l);q=q.buffer}b?d[f++]=0:d[f++]=1;a=q.byteLength.toString();for(l=0;l<a.length;l++)d[f++]=parseInt(a[l]);d[f++]=255;q=new Uint8Array(q);for(l=0;l<q.length;l++)d[f++]=q[l]});return b(d.buffer)})};c.encodePayloadAsBlob=function(a,b){e(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var l=new Uint8Array(1);l[0]=1;if("string"===
typeof a){for(var e=new Uint8Array(a.length),c=0;c<a.length;c++)e[c]=a.charCodeAt(c);a=e.buffer;l[0]=0}for(var e=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),d=new Uint8Array(e.length+1),c=0;c<e.length;c++)d[c]=parseInt(e[c]);d[e.length]=255;B&&(a=new B([l.buffer,d.buffer,a]),b(null,a))})},function(a,e){return b(new B(e))})};c.decodePayloadAsBinary=function(a,b,e){"function"===typeof b&&(e=b,b=null);for(var k=[],d=!1;0<a.byteLength;){for(var t=new Uint8Array(a),f=0===t[0],p="",h=1;255!=
t[h];h++){if(310<p.length){d=!0;break}p+=t[h]}if(d)return e(A,0,1);a=m(a,2+p.length);p=parseInt(p);t=m(a,0,p);if(f)try{t=String.fromCharCode.apply(null,new Uint8Array(t))}catch(q){for(f=new Uint8Array(t),t="",h=0;h<f.length;h++)t+=String.fromCharCode(f[h])}k.push(t);a=m(a,p)}var y=k.length;k.forEach(function(a,q){e(c.decodePacket(a,b,!0),q,y)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(d,g,c){g.exports=Object.keys||function(b){var c=[],e=Object.prototype.hasOwnProperty,d;for(d in b)e.call(b,d)&&c.push(d);return c}},{}],26:[function(d,g,c){function b(){}g.exports=function(c,e,d){function m(b,c){if(0>=m.count)throw Error("after called too many times");--m.count;b?(g=!0,e(b),e=d):0!==m.count||g||e(null,c)}var g=!1;d=d||b;m.count=c;return 0===c?e():m}},{}],27:[function(d,g,c){g.exports=function(b,c,e){var d=b.byteLength;c=c||0;e=e||d;if(b.slice)return b.slice(c,
e);0>c&&(c+=d);0>e&&(e+=d);e>d&&(e=d);if(c>=d||c>=e||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);for(var d=new Uint8Array(e-c),m=0;c<e;c++,m++)d[m]=b[c];return d.buffer}},{}],28:[function(d,g,c){(function(b){c.encode=function(c){c=new Uint8Array(c);var e,d=c.length,m="";for(e=0;e<d;e+=3)m+=b[c[e]>>2],m+=b[(c[e]&3)<<4|c[e+1]>>4],m+=b[(c[e+1]&15)<<2|c[e+2]>>6],m+=b[c[e+2]&63];2===d%3?m=m.substring(0,m.length-1)+"=":1===d%3&&(m=m.substring(0,m.length-2)+"==");return m};c.decode=function(c){var e=
.75*c.length,d=c.length,m=0,g,n,w,a;"="===c[c.length-1]&&(e--,"="===c[c.length-2]&&e--);for(var C=new ArrayBuffer(e),z=new Uint8Array(C),e=0;e<d;e+=4)g=b.indexOf(c[e]),n=b.indexOf(c[e+1]),w=b.indexOf(c[e+2]),a=b.indexOf(c[e+3]),z[m++]=g<<2|n>>4,z[m++]=(n&15)<<4|w>>2,z[m++]=(w&3)<<6|a&63;return C}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(d,g,c){(function(b){function c(b,d){d=d||{};for(var a=new e,f=0;f<b.length;f++)a.append(b[f]);return d.type?a.getBlob(d.type):
a.getBlob()}var e=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,d;try{d=2==(new Blob(["hi"])).size}catch(m){d=!1}var x=e&&e.prototype.append&&e.prototype.getBlob;b=d?b.Blob:x?c:void 0;g.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(d,g,c){(function(b){(function(d){function e(a){for(var b=[],e=0,c=a.length,d,t;e<c;)d=a.charCodeAt(e++),55296<=d&&56319>=d&&e<c?(t=a.charCodeAt(e++),56320==(t&64512)?b.push(((d&1023)<<
10)+(t&1023)+65536):(b.push(d),e--)):b.push(d);return b}function f(){if(A>=z)throw Error("Invalid byte index");var a=C[A]&255;A++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function m(){var a,b,e,c;if(A>z)throw Error("Invalid byte index");if(A==z)return!1;a=C[A]&255;A++;if(0==(a&128))return a;if(192==(a&224)){b=f();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=f();e=f();a=(a&15)<<12|b<<6|e;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=f(),e=f(),c=f(),a=(a&15)<<18|b<<12|e<<6|c,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var x="object"==typeof c&&c,n="object"==typeof g&&g&&g.exports==x&&g,w="object"==typeof b&&b;if(w.global===w||w.window===w)d=w;var a=String.fromCharCode,C,z,A,w={version:"2.0.0",encode:function(b){b=e(b);for(var l=b.length,c=-1,d,F="";++c<l;){d=b[c];if(0==(d&4294967168))d=a(d);else{var t="";0==(d&4294965248)?t=a(d>>6&31|192):0==(d&4294901760)?(t=a(d>>12&15|224),t+=a(d>>
6&63|128)):0==(d&4292870144)&&(t=a(d>>18&7|240),t+=a(d>>12&63|128),t+=a(d>>6&63|128));d=t+=a(d&63|128)}F+=d}return F},decode:function(b){C=e(b);z=C.length;A=0;b=[];for(var l;!1!==(l=m());)b.push(l);l=b.length;for(var c=-1,d,F="";++c<l;)d=b[c],65535<d&&(d-=65536,F+=a(d>>>10&1023|55296),d=56320|d&1023),F+=a(d);return F}};if(x&&!x.nodeType)if(n)n.exports=w;else{d={}.hasOwnProperty;for(var B in w)d.call(w,B)&&(x[B]=w[B])}else d.utf8=w})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(d,g,c){(function(b){var c=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,x=/^\s+/,n=/\s+$/;g.exports=function(g){if("string"!=typeof g||!g)return null;g=g.replace(x,"").replace(n,"");if(b.JSON&&JSON.parse)return JSON.parse(g);if(c.test(g.replace(e,"@").replace(d,"]").replace(m,"")))return(new Function("return "+g))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(d,g,c){c.encode=function(b){var c="",e;for(e in b)b.hasOwnProperty(e)&&(c.length&&(c+="&"),c+=encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return c};c.decode=function(b){var c={};b=b.split("&");for(var e=0,d=b.length;e<d;e++){var m=b[e].split("=");c[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return c}},{}],33:[function(d,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(e){var c=e,d=e.indexOf("["),g=e.indexOf("]");-1!=d&&-1!=g&&(e=e.substring(0,d)+e.substring(d,g).replace(/:/g,";")+e.substring(g,e.length));e=b.exec(e||"");for(var n={},w=14;w--;)n[r[w]]=e[w]||"";-1!=d&&-1!=g&&(n.source=c,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=
!0);return n}},{}],34:[function(d,g,c){function b(b,c,d){return c?new r(b,c):new r(b)}d=function(){return this}();var r=d.WebSocket||d.MozWebSocket;g.exports=r?b:null;r&&(b.prototype=r.prototype)},{}],35:[function(d,g,c){(function(b){var c=d("isarray");g.exports=function(e){function d(e){if(!e)return!1;if(b.Buffer&&b.Buffer.isBuffer(e)||b.ArrayBuffer&&e instanceof ArrayBuffer||b.Blob&&e instanceof Blob||b.File&&e instanceof File)return!0;if(c(e))for(var g=0;g<e.length;g++){if(d(e[g]))return!0}else if(e&&
"object"==typeof e)for(g in e.toJSON&&(e=e.toJSON()),e)if(e.hasOwnProperty(g)&&d(e[g]))return!0;return!1}return d(e)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(d,g,c){g.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(d,g,c){d=d("global");try{g.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(b){g.exports=!1}},{global:38}],38:[function(d,g,
c){g.exports=function(){return this}()},{}],39:[function(d,g,c){var b=[].indexOf;g.exports=function(c,e){if(b)return c.indexOf(e);for(var d=0;d<c.length;++d)if(c[d]===e)return d;return-1}},{}],40:[function(d,g,c){var b=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(c){var e=[],d;for(d in c)b.call(c,d)&&e.push(d);return e};c.values=function(c){var e=[],d;for(d in c)b.call(c,d)&&e.push(c[d]);return e};c.merge=function(c,e){for(var d in e)b.call(e,d)&&(c[d]=e[d]);return c};c.length=function(b){return c.keys(b).length};
c.isEmpty=function(b){return 0==c.length(b)}},{}],41:[function(d,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(e){e=b.exec(e||"");for(var c={},d=14;d--;)c[r[d]]=e[d]||
"";return c}},{}],42:[function(d,g,c){(function(b){var g=d("isarray"),e=d("./is-buffer");c.deconstructPacket=function(b){function c(b){if(!b)return b;if(e(b)){var f={_placeholder:!0,num:d.length};d.push(b);return f}if(g(b)){for(var f=Array(b.length),a=0;a<b.length;a++)f[a]=c(b[a]);return f}if("object"==typeof b&&!(b instanceof Date)){f={};for(a in b)f[a]=c(b[a]);return f}return b}var d=[];b.data=c(b.data);b.attachments=d.length;return{packet:b,buffers:d}};c.reconstructPacket=function(b,c){function e(b){if(b&&
b._placeholder)return c[b.num];if(g(b))for(var d=0;d<b.length;d++)b[d]=e(b[d]);else if(b&&"object"==typeof b)for(d in b)b[d]=e(b[d]);return b}b.data=e(b.data);b.attachments=void 0;return b};c.removeBlobs=function(c,d){function x(a,c,f){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){n++;var A=new FileReader;A.onload=function(){f?f[c]=this.result:w=this.result;--n||d(w)};A.readAsArrayBuffer(a)}else if(g(a))for(A=0;A<a.length;A++)x(a[A],A,a);else if(a&&"object"==typeof a&&!e(a))for(A in a)x(a[A],
A,a)}var n=0,w=c;x(w);n||d(w)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(d,g,c){function b(){}function r(a){var b,e=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(e=!0,b+=a.nsp);null!=a.id&&(e&&(b+=",",e=!1),b+=a.id);null!=a.data&&(e&&(b+=","),b+=n.stringify(a.data));x("encoded %j as %s",a,b);return b}function e(a,b){w.removeBlobs(a,function(a){var c=w.deconstructPacket(a);
a=r(c.packet);c=c.buffers;c.unshift(a);b(c)})}function f(){this.reconstructor=null}function m(a){this.reconPack=a;this.buffers=[]}var x=d("debug")("socket.io-parser"),n=d("json3");d("isarray");g=d("component-emitter");var w=d("./binary"),a=d("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=b;c.Decoder=f;b.prototype.encode=function(a,b){x("encoding packet %j",
a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)e(a,b);else{var d=r(a);b([d])}};g(f.prototype);f.prototype.add=function(b){if("string"==typeof b){a:{var e={},d=0;e.type=Number(b.charAt(0));if(null==c.types[e.type])b={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==e.type||c.BINARY_ACK==e.type){for(e.attachments="";"-"!=b.charAt(++d);)e.attachments+=b.charAt(d);e.attachments=Number(e.attachments)}if("/"==b.charAt(d+1))for(e.nsp="";++d;){var f=b.charAt(d);if(","==f)break;e.nsp+=f;if(d+
1==b.length)break}else e.nsp="/";f=b.charAt(d+1);if(""!=f&&Number(f)==f){for(e.id="";++d;){f=b.charAt(d);if(null==f||Number(f)!=f){--d;break}e.id+=b.charAt(d);if(d+1==b.length)break}e.id=Number(e.id)}if(b.charAt(++d))try{e.data=n.parse(b.substr(d))}catch(g){b={type:c.ERROR,data:"parser error"};break a}x("decoded %s as %j",b,e);b=e}}c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new m(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(a(b)||
b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};m.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=w.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};m.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(d,g,c){(function(b){g.exports=function(c){return b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(d,g,c){g.exports=d(36)},{}],46:[function(d,g,c){(function(b){function d(b){if(d[b]!==x)return d[b];
var c;if("bug-string-char-index"==b)c="a"!="a"[0];else if("json"==b)c=d("json-stringify")&&d("json-parse");else{var q;if("json-stringify"==b){c=w.stringify;var l="function"==typeof c&&a;if(l){(q=function(){return 1}).toJSON=q;try{l="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(e)===x&&c(x)===x&&c()===x&&"1"===c(q)&&"[1]"==c([q])&&"[null]"==c([x])&&"null"==c(null)&&"[null,null,null]"==c([x,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[q,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===c(null,q)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(k){l=!1}}c=l}if("json-parse"==b){c=w.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){q=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var y=5==q.a.length&&1===q.a[0];if(y){try{y=!c('"\t"')}catch(u){}if(y)try{y=1!==
c("01")}catch(h){}if(y)try{y=1!==c("1.")}catch(E){}}}}catch(t){y=!1}c=y}}return d[b]=!!c}var e={}.toString,f,g,x,n="object"==typeof JSON&&JSON,w="object"==typeof c&&c&&!c.nodeType&&c;w&&n?(w.stringify=n.stringify,w.parse=n.parse):w=b.JSON=n||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(C){}if(!d("json")){var z=d("bug-string-char-index");
if(!a)var A=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],H=function(a,b){return B[b]+365*(a-1970)+A((a-1969+(b=+(1<b)))/4)-A((a-1901+b)/100)+A((a-1601+b)/400)};(f={}.hasOwnProperty)||(f=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=e?f=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,f=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return f.call(this,
a)});var l={"boolean":1,number:1,string:1,undefined:1};g=function(a,b){var c=0,q,d,k;(q=function(){this.valueOf=0}).prototype.valueOf=0;d=new q;for(k in d)f.call(d,k)&&c++;q=d=null;c?g=2==c?function(a,b){var c={},d="[object Function]"==e.call(a),q;for(q in a)d&&"prototype"==q||f.call(c,q)||!(c[q]=1)||!f.call(a,q)||b(q)}:function(a,b){var c="[object Function]"==e.call(a),q,d;for(q in a)c&&"prototype"==q||!f.call(a,q)||(d="constructor"===q)||b(q);(d||f.call(a,q="constructor"))&&b(q)}:(d="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
g=function(a,b){var c="[object Function]"==e.call(a),q,k;if(k=!c&&"function"!=typeof a.constructor)k=typeof a.hasOwnProperty,k="object"==k?!!a.hasOwnProperty:!l[k];k=k?a.hasOwnProperty:f;for(q in a)c&&"prototype"==q||!k.call(a,q)||b(q);for(c=d.length;q=d[--c];k.call(a,q)&&b(q));});return g(a,b)};if(!d("json-stringify")){var u={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(a,b){return("000000"+(b||0)).slice(-a)},F=function(a){var b='"',c=0,q=a.length,d=10<q&&z,e;for(d&&
(e=a.split(""));c<q;c++){var l=a.charCodeAt(c);switch(l){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=u[l];break;default:if(32>l){b+="\\u00"+k(2,l.toString(16));break}b+=d?e[c]:z?a.charAt(c):a[c]}}return b+'"'},t=function(a,b,c,q,d,l,y){var u,h,E,p,G,N,J,L,n;try{u=b[a]}catch(r){}if("object"==typeof u&&u)if(h=e.call(u),"[object Date]"!=h||f.call(u,"toJSON"))"function"==typeof u.toJSON&&("[object Number]"!=h&&"[object String]"!=h&&"[object Array]"!=h||f.call(u,"toJSON"))&&(u=u.toJSON(a));
else if(u>-1/0&&u<1/0){if(H){p=A(u/864E5);for(h=A(p/365.2425)+1970-1;H(h+1,0)<=p;h++);for(E=A((p-H(h,0))/30.42);H(h,E+1)<=p;E++);p=1+p-H(h,E);G=(u%864E5+864E5)%864E5;N=A(G/36E5)%24;J=A(G/6E4)%60;L=A(G/1E3)%60;G%=1E3}else h=u.getUTCFullYear(),E=u.getUTCMonth(),p=u.getUTCDate(),N=u.getUTCHours(),J=u.getUTCMinutes(),L=u.getUTCSeconds(),G=u.getUTCMilliseconds();u=(0>=h||1E4<=h?(0>h?"-":"+")+k(6,0>h?-h:h):k(4,h))+"-"+k(2,E+1)+"-"+k(2,p)+"T"+k(2,N)+":"+k(2,J)+":"+k(2,L)+"."+k(3,G)+"Z"}else u=null;c&&(u=
c.call(b,a,u));if(null===u)return"null";h=e.call(u);if("[object Boolean]"==h)return""+u;if("[object Number]"==h)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==h)return F(""+u);if("object"==typeof u){for(a=y.length;a--;)if(y[a]===u)throw TypeError();y.push(u);n=[];b=l;l+=d;if("[object Array]"==h){E=0;for(a=u.length;E<a;E++)h=t(E,u,c,q,d,l,y),n.push(h===x?"null":h);a=n.length?d?"[\n"+l+n.join(",\n"+l)+"\n"+b+"]":"["+n.join(",")+"]":"[]"}else g(q||u,function(a){var b=t(a,u,c,q,d,l,y);b!==x&&
n.push(F(a)+":"+(d?" ":"")+b)}),a=n.length?d?"{\n"+l+n.join(",\n"+l)+"\n"+b+"}":"{"+n.join(",")+"}":"{}";y.pop();return a}};w.stringify=function(a,b,c){var q,d,l,k;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(k=e.call(b)))d=b;else if("[object Array]"==k){l={};for(var y=0,u=b.length,h;y<u;h=b[y++],(k=e.call(h),"[object String]"==k||"[object Number]"==k)&&(l[h]=1));}if(c)if("[object Number]"==(k=e.call(c))){if(0<(c-=c%1))for(q="",10<c&&(c=10);q.length<c;q+=" ");}else"[object String]"==
k&&(q=10>=c.length?c:c.slice(0,10));return t("",(h={},h[""]=a,h),d,l,q,"",[])}}if(!d("json-parse")){var J=String.fromCharCode,p={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},h,q,y=function(){h=q=null;throw SyntaxError();},E=function(){for(var a=q,b=a.length,c,d,e,l,k;h<b;)switch(k=a.charCodeAt(h),k){case 9:case 10:case 13:case 32:h++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=z?a.charAt(h):a[h],h++,c;case 34:c="@";for(h++;h<b;)if(k=a.charCodeAt(h),32>k)y();
else if(92==k)switch(k=a.charCodeAt(++h),k){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=p[k];h++;break;case 117:d=++h;for(e=h+4;h<e;h++)k=a.charCodeAt(h),48<=k&&57>=k||97<=k&&102>=k||65<=k&&70>=k||y();c+=J("0x"+a.slice(d,h));break;default:y()}else{if(34==k)break;k=a.charCodeAt(h);for(d=h;32<=k&&92!=k&&34!=k;)k=a.charCodeAt(++h);c+=a.slice(d,h)}if(34==a.charCodeAt(h))return h++,c;y();default:d=h;45==k&&(l=!0,k=a.charCodeAt(++h));if(48<=k&&57>=k){for(48==k&&(k=a.charCodeAt(h+
1),48<=k&&57>=k)&&y();h<b&&(k=a.charCodeAt(h),48<=k&&57>=k);h++);if(46==a.charCodeAt(h)){for(e=++h;e<b&&(k=a.charCodeAt(e),48<=k&&57>=k);e++);e==h&&y();h=e}k=a.charCodeAt(h);if(101==k||69==k){k=a.charCodeAt(++h);43!=k&&45!=k||h++;for(e=h;e<b&&(k=a.charCodeAt(e),48<=k&&57>=k);e++);e==h&&y();h=e}return+a.slice(d,h)}l&&y();if("true"==a.slice(h,h+4))return h+=4,!0;if("false"==a.slice(h,h+5))return h+=5,!1;if("null"==a.slice(h,h+4))return h+=4,null;y()}return"$"},N=function(a){var b,c;"$"==a&&y();if("string"==
typeof a){if("@"==(z?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=E();if("]"==a)break;c&&(","==a?(a=E(),"]"==a&&y()):y());","==a&&y();b.push(N(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=E();if("}"==a)break;c&&(","==a?(a=E(),"}"==a&&y()):y());","!=a&&"string"==typeof a&&"@"==(z?a.charAt(0):a[0])&&":"==E()||y();b[a.slice(1)]=N(E())}return b}y()}return a},G=function(a,b,c){c=L(a,b,c);c===x?delete a[b]:a[b]=c},L=function(a,b,c){var q=a[b],d;if("object"==typeof q&&q)if("[object Array]"==
e.call(q))for(d=q.length;d--;)G(q,d,c);else g(q,function(a){G(q,a,c)});return c.call(a,b,q)};w.parse=function(a,b){var c,d;h=0;q=""+a;c=N(E());"$"!=E()&&y();h=q=null;return b&&"[object Function]"==e.call(b)?L((d={},d[""]=c,d),"",b):c}}}})(this)},{}],47:[function(d,g,c){g.exports=function(b,c){for(var d=[],f=(c=c||0)||0;f<b.length;f++)d[f-c]=b[f];return d}},{}]},{},[1])(1)});
(function(){(function(v){var d=this||(0,eval)("this"),g=d.document,c=d.navigator,b=d.jQuery,r=d.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports,require):"function"===typeof define&&define.amd?define(["exports","require"],b):b(d.ko={})})(function(e,f){function m(a,b){return null===a||typeof a in C?a===b:!1}function x(a,b){var c;return function(){c||(c=setTimeout(function(){c=v;a()},b))}}function n(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function w(b,c,d,e){a.d[b]={init:function(b,l,p,h,q){var y,E;a.s(function(){var h=a.a.c(l()),p=!d!==!h,f=!E;if(f||c||p!==y)f&&a.Y.la()&&(E=a.a.ia(a.f.childNodes(b),!0)),p?(f||a.f.T(b,a.a.ia(E)),a.Ca(e?e(q,h):q,b)):a.f.ja(b),y=p},null,{o:b});return{controlsDescendantBindings:!0}}};a.h.ha[b]=!1;a.f.Q[b]=!0}var a="undefined"!==typeof e?e:{};a.b=function(b,c){for(var d=b.split("."),e=a,t=0;t<d.length-1;t++)e=e[d[t]];e[d[d.length-1]]=c};a.A=function(a,b,c){a[b]=c};a.version="3.2.0";
a.b("version",a.version);a.a=function(){function e(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function u(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,b){a.__proto__=b;return a}var F={__proto__:[]}instanceof Array,t={},f={};t[c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];t.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");e(t,function(a,b){if(b.length)for(var c=
0,d=b.length;c<d;c++)f[b[c]]=a});var p={propertychange:!0},h=g&&function(){for(var a=3,b=g.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:v}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===
b)return c;return-1},qb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},ua:function(b,c){var d=a.a.m(b,c);0<d?b.splice(d,1):0===d&&b.shift()},rb:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++)0>a.a.m(c,b[d])&&c.push(b[d]);return c},Da:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},ta:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},ga:function(a,b){if(b instanceof
Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},ea:function(b,c,d){var e=a.a.m(a.a.Xa(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},xa:F,extend:u,za:k,Aa:F?k:u,G:e,na:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Ka:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},oc:function(b){b=a.a.S(b);for(var c=g.createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.R(b[d]));return c},ia:function(b,c){for(var d=
0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.R(k):k)}return l},T:function(b,c){a.a.Ka(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Lb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],l=e.parentNode,k=0,h=c.length;k<h;k++)l.insertBefore(c[k],e);k=0;for(h=d.length;k<h;k++)a.removeNode(d[k])}},ka:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=
0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Nb:function(a,b){7>h?a.setAttribute("selected",b):a.selected=b},cb:function(a){return null===a||a===v?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},cc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&
16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ja:function(b){return a.a.cc(b,b.ownerDocument.documentElement)},ob:function(b){return!!a.a.qb(b,a.a.Ja)},t:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(c,d,e){var l=h&&p[d];if(!l&&b)b(c).bind(d,e);else if(l||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var k=function(a){e.call(c,a)},u="on"+d;c.attachEvent(u,k);a.a.w.da(c,function(){c.detachEvent(u,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");
else c.addEventListener(d,e,!1)},oa:function(c,e){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var l;"input"===a.a.t(c)&&c.type&&"click"==e.toLowerCase()?(l=c.type,l="checkbox"==l||"radio"==l):l=!1;if(b&&!l)b(c).trigger(e);else if("function"==typeof g.createEvent)if("function"==typeof c.dispatchEvent)l=g.createEvent(f[e]||"HTMLEvents"),l.initEvent(e,!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(l);else throw Error("The supplied element doesn't support dispatchEvent");
else if(l&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+e);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.C(b)?b():b},Xa:function(b){return a.C(b)?b.v():b},Ba:function(b,c,d){if(c){var e=/\S+/g,l=b.className.match(e)||[];a.a.u(c.match(e),function(b){a.a.ea(l,b,d)});b.className=l.join(" ")}},bb:function(b,c){var d=a.a.c(c);if(null===d||d===v)d="";var e=a.f.firstChild(b);!e||3!=e.nodeType||a.f.nextSibling(e)?a.f.T(b,[b.ownerDocument.createTextNode(d)]):
e.data=d;a.a.fc(b)},Mb:function(a,b){a.name=b;if(7>=h)try{a.mergeAttributes(g.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},fc:function(a){9<=h&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},dc:function(a){if(h){var b=a.style.width;a.style.width=0;a.style.width=b}},sc:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},S:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},yc:6===h,zc:7===h,L:h,xb:function(b,c){for(var d=
a.a.S(b.getElementsByTagName("input")).concat(a.a.S(b.getElementsByTagName("textarea"))),e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},pc:function(b){return"string"==typeof b&&(b=a.a.cb(b))?r&&r.parse?r.parse(b):(new Function("return "+b))():null},eb:function(b,c,d){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return r.stringify(a.a.c(b),c,d)},qc:function(b,c,d){d=d||{};var k=d.params||{},h=d.includeFields||this.vb,u=b;if("object"==typeof b&&"form"===a.a.t(b))for(var u=b.action,p=h.length-1;0<=p;p--)for(var t=a.a.xb(b,h[p]),F=t.length-1;0<=F;F--)k[t[F].name]=t[F].value;c=a.a.c(c);var f=g.createElement("form");f.style.display="none";f.action=u;f.method="post";for(var J in c)b=g.createElement("input"),b.type="hidden",b.name=J,b.value=a.a.eb(a.a.c(c[J])),f.appendChild(b);e(k,function(a,b){var c=g.createElement("input");
c.type="hidden";c.name=a;c.value=b;f.appendChild(c)});g.body.appendChild(f);d.submitter?d.submitter(f):f.submit();setTimeout(function(){f.parentNode.removeChild(f)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.u);a.b("utils.arrayFirst",a.a.qb);a.b("utils.arrayFilter",a.a.ta);a.b("utils.arrayGetDistinctValues",a.a.rb);a.b("utils.arrayIndexOf",a.a.m);a.b("utils.arrayMap",a.a.Da);a.b("utils.arrayPushAll",a.a.ga);a.b("utils.arrayRemoveItem",a.a.ua);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.vb);a.b("utils.getFormFields",a.a.xb);a.b("utils.peekObservable",a.a.Xa);a.b("utils.postJson",a.a.qc);a.b("utils.parseJson",a.a.pc);a.b("utils.registerEventHandler",a.a.n);a.b("utils.stringifyJson",a.a.eb);a.b("utils.range",a.a.sc);a.b("utils.toggleDomNodeCssClass",a.a.Ba);a.b("utils.triggerEvent",a.a.oa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.G);a.b("utils.addOrRemoveItem",a.a.ea);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=
this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.e=new function(){function a(e,l){var p=e[c];if(!p||"null"===p||!d[p]){if(!l)return v;p=e[c]="ko"+b++;d[p]={}}return d[p]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===v?v:d[c]},set:function(b,c,d){if(d!==v||a(b,!1)!==v)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},F:function(){return b++ +
c}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.w=new function(){function c(b,d){var l=a.a.e.get(b,e);l===v&&d&&(l=[],a.a.e.set(b,e,l));return l}function d(b){var e=c(b,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](b);a.a.e.clear(b);a.a.w.cleanExternalData(b);if(t[b.nodeType])for(e=b.firstChild;b=e;)e=b.nextSibling,8===b.nodeType&&d(b)}var e=a.a.e.F(),F={1:!0,8:!0,9:!0},t={1:!0,9:!0};return{da:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");
c(a,!0).push(b)},Kb:function(b,d){var h=c(b,!1);h&&(a.a.ua(h,d),0==h.length&&a.a.e.set(b,e,v))},R:function(b){if(F[b.nodeType]&&(d(b),t[b.nodeType])){var c=[];a.a.ga(c,b.getElementsByTagName("*"));for(var e=0,l=c.length;e<l;e++)d(c[e])}return b},removeNode:function(b){a.R(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.R=a.a.w.R;a.removeNode=a.a.w.removeNode;a.b("cleanNode",a.R);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",
a.a.w);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.w.da);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.w.Kb);(function(){a.a.ba=function(c){var e;if(b)if(b.parseHTML)e=b.parseHTML(c)||[];else{if((e=b.clean([c]))&&e[0]){for(c=e[0];c.parentNode&&11!==c.parentNode.nodeType;)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}}else{var k=a.a.cb(c).toLowerCase();e=g.createElement("div");k=k.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];c="ignored<div>"+k[1]+c+k[2]+"</div>";for("function"==typeof d.innerShiv?e.appendChild(d.innerShiv(c)):e.innerHTML=c;k[0]--;)e=e.lastChild;e=a.a.S(e.lastChild.childNodes)}return e};a.a.$a=function(c,d){a.a.Ka(c);d=a.a.c(d);if(null!==d&&d!==v)if("string"!=typeof d&&(d=d.toString()),b)b(c).html(d);else for(var e=a.a.ba(d),F=0;F<e.length;F++)c.appendChild(e[F])}})();a.b("utils.parseHtmlFragment",
a.a.ba);a.b("utils.setHtml",a.a.$a);a.D=function(){function b(c,d){if(c)if(8==c.nodeType){var e=a.D.Gb(c.nodeValue);null!=e&&d.push({bc:c,mc:e})}else if(1==c.nodeType)for(var e=0,u=c.childNodes,p=u.length;e<p;e++)b(u[e],d)}var c={};return{Ua:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+
b+"]--\x3e"},Rb:function(a,b){var d=c[a];if(d===v)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},Sb:function(c,d){var e=[];b(c,e);for(var u=0,p=e.length;u<p;u++){var h=e[u].bc,q=[h];d&&a.a.ga(q,d);a.D.Rb(e[u].mc,q);h.nodeValue="";h.parentNode&&h.parentNode.removeChild(h)}},Gb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.D);a.b("memoization.memoize",a.D.Ua);
a.b("memoization.unmemoize",a.D.Rb);a.b("memoization.parseMemoText",a.D.Gb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.D.Sb);a.La={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.j({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?n:x;a.Ta(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:m}};var C=
{undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.La);a.Pb=function(b,c,d){this.target=b;this.wa=c;this.ac=d;this.Cb=!1;a.A(this,"dispose",this.K)};a.Pb.prototype.K=function(){this.Cb=!0;this.ac()};a.P=function(){a.a.Aa(this,a.P.fn);this.M={}};var z={U:function(b,c,d){var e=this;d=d||"change";var t=new a.Pb(e,c?b.bind(c):b,function(){a.a.ua(e.M[d],t);e.nb&&e.nb()});e.va&&e.va(d);e.M[d]||(e.M[d]=[]);e.M[d].push(t);return t},notifySubscribers:function(b,c){c=c||"change";if(this.Ab(c))try{a.k.Ea();
for(var d=this.M[c].slice(0),e=0,t;t=d[e];++e)t.Cb||t.wa(b)}finally{a.k.end()}},Ta:function(b){var c=this,d=a.C(c),e,t,f;c.qa||(c.qa=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.kb(a):c.qa(a,b):c.lb(a)});var p=b(function(){d&&f===c&&(f=c());e=!1;c.Pa(t,f)&&c.qa(t=f)});c.lb=function(a){e=!0;f=a;p()};c.kb=function(a){e||(t=a,c.qa(a,"beforeChange"))}},Ab:function(a){return this.M[a]&&this.M[a].length},yb:function(){var b=0;a.a.G(this.M,function(a,c){b+=c.length});
return b},Pa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.G(b,function(b,d){var e=a.La[b];"function"==typeof e&&(c=e(c,d)||c)});return c}};a.A(z,"subscribe",z.U);a.A(z,"extend",z.extend);a.A(z,"getSubscriptionsCount",z.yb);a.a.xa&&a.a.za(z,Function.prototype);a.P.fn=z;a.Db=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.P);a.b("isSubscribable",a.Db);a.Y=a.k=function(){function b(a){d.push(e);
e=a}function c(){e=d.pop()}var d=[],e,t=0;return{Ea:b,end:c,Jb:function(b){if(e){if(!a.Db(b))throw Error("Only subscribable things can act as dependencies");e.wa(b,b.Vb||(b.Vb=++t))}},B:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},la:function(){if(e)return e.s.la()},ma:function(){if(e)return e.ma}}}();a.b("computedContext",a.Y);a.b("computedContext.getDependenciesCount",a.Y.la);a.b("computedContext.isInitial",a.Y.ma);a.b("computedContext.isSleeping",a.Y.Ac);a.p=function(b){function c(){if(0<
arguments.length)return c.Pa(d,arguments[0])&&(c.X(),d=arguments[0],c.W()),this;a.k.Jb(c);return d}var d=b;a.P.call(c);a.a.Aa(c,a.p.fn);c.v=function(){return d};c.W=function(){c.notifySubscribers(d)};c.X=function(){c.notifySubscribers(d,"beforeChange")};a.A(c,"peek",c.v);a.A(c,"valueHasMutated",c.W);a.A(c,"valueWillMutate",c.X);return c};a.p.fn={equalityComparer:m};var A=a.p.rc="__ko_proto__";a.p.fn[A]=a.p;a.a.xa&&a.a.za(a.p.fn,a.P.fn);a.Ma=function(b,c){return null===b||b===v||b[A]===v?!1:b[A]===
c?!0:a.Ma(b[A],c)};a.C=function(b){return a.Ma(b,a.p)};a.Ra=function(b){return"function"==typeof b&&b[A]===a.p||"function"==typeof b&&b[A]===a.j&&b.hc?!0:!1};a.b("observable",a.p);a.b("isObservable",a.C);a.b("isWriteableObservable",a.Ra);a.b("isWritableObservable",a.Ra);a.aa=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.p(b);a.a.Aa(b,a.aa.fn);return b.extend({trackArrayChanges:!0})};
a.aa.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.C(b)?function(a){return a===b}:b,t=0;t<c.length;t++){var f=c[t];e(f)&&(0===d.length&&this.X(),d.push(f),c.splice(t,1),t--)}d.length&&this.W();return d},removeAll:function(b){if(b===v){var c=this.v(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return b?this.remove(function(c){return 0<=a.a.m(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.C(b)?function(a){return a===b}:b;this.X();
for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.W()},destroyAll:function(b){return b===v?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.m(b,c)}):[]},indexOf:function(b){var c=this();return a.a.m(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.v()[c]=b,this.W())}};a.a.u("pop push reverse shift sort splice unshift".split(" "),function(b){a.aa.fn[b]=function(){var a=this.v();this.X();this.sb(a,b,arguments);a=a[b].apply(a,arguments);this.W();
return a}});a.a.u(["slice"],function(b){a.aa.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.xa&&a.a.za(a.aa.fn,a.p.fn);a.b("observableArray",a.aa);a.La.trackArrayChanges=function(b){function c(){if(!d){d=!0;var p=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++f;return p.apply(this,arguments)};var h=[].concat(b.v()||[]);e=null;b.U(function(c){c=[].concat(c||[]);if(b.Ab("arrayChange")){var d;if(!e||1<f)e=a.a.Fa(h,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,
"arrayChange")}h=c;e=null;f=0})}}if(!b.sb){var d=!1,e=null,f=0,g=b.U;b.U=b.subscribe=function(a,b,d){"arrayChange"===d&&c();return g.apply(this,arguments)};b.sb=function(b,c,l){function y(a,b,c){return u[u.length]={status:a,value:b,index:c}}if(d&&!f){var u=[],g=b.length,G=l.length,m=0;switch(c){case "push":m=g;case "unshift":for(c=0;c<G;c++)y("added",l[c],m+c);break;case "pop":m=g-1;case "shift":g&&y("deleted",b[m],m);break;case "splice":c=Math.min(Math.max(0,0>l[0]?g+l[0]:l[0]),g);for(var g=1===
G?g:Math.min(c+(l[1]||0),g),G=c+G-2,m=Math.max(g,G),J=[],n=[],r=2;c<m;++c,++r)c<g&&n.push(y("deleted",b[c],c)),c<G&&J.push(y("added",l[r],c));a.a.wb(n,J);break;default:return}e=u}}}};a.s=a.j=function(b,c,d){function e(){a.a.G(B,function(a,b){b.K()});B={}}function f(){e();I=0;n=!0;m=!1}function g(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(T),T=setTimeout(p,a)):h.ib?h.ib():p()}function p(b){if(G){if(r)throw Error("A 'pure' computed must not be called recursively");}else if(!n){if(z&&z()){if(!L){C();
return}}else L=!1;G=!0;if(w)try{var d={};a.k.Ea({wa:function(a,b){d[b]||(d[b]=1,++I)},s:h,ma:v});I=0;E=K.call(c)}finally{a.k.end(),G=!1}else try{var e=B,l=I;a.k.Ea({wa:function(a,b){n||(l&&e[b]?(B[b]=e[b],++I,delete e[b],--l):B[b]||(B[b]=a.U(g),++I))},s:h,ma:r?v:!I});B={};I=0;try{var k=c?K.call(c):K()}finally{a.k.end(),l&&a.a.G(e,function(a,b){b.K()}),m=!1}h.Pa(E,k)&&(h.notifySubscribers(E,"beforeChange"),E=k,!0!==b&&h.notifySubscribers(E))}finally{G=!1}I||C()}}function h(){if(0<arguments.length){if("function"===
typeof x)x.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.k.Jb(h);m&&p(!0);return E}function q(){m&&!I&&p(!0);return E}function y(){return m||0<I}var E,m=!0,G=!1,L=!1,n=!1,K=b,r=!1,w=!1;K&&"object"==typeof K?(d=K,K=d.read):(d=d||{},K||(K=d.read));if("function"!=typeof K)throw Error("Pass a function that returns the value of the ko.computed");var x=d.write,
D=d.disposeWhenNodeIsRemoved||d.o||null,A=d.disposeWhen||d.Ia,z=A,C=f,B={},I=0,T=null;c||(c=d.owner);a.P.call(h);a.a.Aa(h,a.j.fn);h.v=q;h.la=function(){return I};h.hc="function"===typeof d.write;h.K=function(){C()};h.Z=y;var U=h.Ta;h.Ta=function(a){U.call(h,a);h.ib=function(){h.kb(E);m=!0;h.lb(h)}};d.pure?(w=r=!0,h.va=function(){w&&(w=!1,p(!0))},h.nb=function(){h.yb()||(e(),w=m=!0)}):d.deferEvaluation&&(h.va=function(){q();delete h.va});a.A(h,"peek",h.v);a.A(h,"dispose",h.K);a.A(h,"isActive",h.Z);
a.A(h,"getDependenciesCount",h.la);D&&(L=!0,D.nodeType&&(z=function(){return!a.a.Ja(D)||A&&A()}));w||d.deferEvaluation||p();D&&y()&&D.nodeType&&(C=function(){a.a.w.Kb(D,C);f()},a.a.w.da(D,C));return h};a.jc=function(b){return a.Ma(b,a.j)};z=a.p.rc;a.j[z]=a.p;a.j.fn={equalityComparer:m};a.j.fn[z]=a.j;a.a.xa&&a.a.za(a.j.fn,a.P.fn);a.b("dependentObservable",a.j);a.b("computed",a.j);a.b("isComputed",a.jc);a.Ib=function(b,c){if("function"===typeof b)return a.s(b,c,{pure:!0});b=a.a.extend({},b);b.pure=
!0;return a.s(b,c)};a.b("pureComputed",a.Ib);(function(){function b(a,e,f){f=f||new d;a=e(a);if("object"!=typeof a||null===a||a===v||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var p=a instanceof Array?[]:{};f.save(a,p);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":p[c]=d;break;case "object":case "undefined":var k=f.get(d);p[c]=k!==v?k:b(d,e,f)}});return p}function c(a,b){if(a instanceof Array){for(var d=
0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.hb=[]}a.Qb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.C(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Qb(b);return a.a.eb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.m(this.keys,b);0<=d?this.hb[d]=c:(this.keys.push(b),this.hb.push(c))},get:function(b){b=a.a.m(this.keys,
b);return 0<=b?this.hb[b]:v}}})();a.b("toJS",a.Qb);a.b("toJSON",a.toJSON);(function(){a.i={q:function(b){switch(a.a.t(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.Va):7>=a.a.L?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex]):v;default:return b.value}},ca:function(b,c,d){switch(a.a.t(b)){case "option":switch(typeof c){case "string":a.a.e.set(b,a.d.options.Va,
v);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.Va,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=v;for(var e=-1,f=0,g=b.options.length,p;f<g;++f)if(p=a.i.q(b.options[f]),p==c||""==p&&c===v){e=f;break}if(d||0<=e||c===v&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===v)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.q);a.b("selectExtensions.writeValue",a.i.ca);a.h=function(){function b(c){c=a.a.cb(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],l=c.match(e),k,p,u=0;if(l){l.push(",");for(var m=0,n;n=l[m];++m){var r=n.charCodeAt(0);if(44===r){if(0>=u){k&&d.push(p?{key:k,value:p.join("")}:{unknown:k});k=p=u=0;continue}}else if(58===r){if(!p)continue}else if(47===r&&m&&1<n.length)(r=l[m-1].match(f))&&!g[r[0]]&&(c=c.substr(c.indexOf(n)+1),l=c.match(e),l.push(","),m=-1,n="/");else if(40===r||123===r||91===
r)++u;else if(41===r||125===r||93===r)--u;else if(!k&&!p){k=34===r||39===r?n.slice(1,-1):n;continue}p?p.push(n):p=[n]}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},p={};return{ha:[],V:p,Wa:b,ya:function(e,q){function y(b,e){var l;if(!m){var q=a.getBindingHandler(b);if(q&&
q.preprocess&&!(e=q.preprocess(e,b,y)))return;if(q=p[b])l=e,0<=a.a.m(c,l)?l=!1:(q=l.match(d),l=null===q?!1:q[1]?"Object("+q[1]+")"+q[2]:l),q=l;q&&t.push("'"+b+"':function(_z){"+l+"=_z}")}g&&(e="function(){return "+e+" }");f.push("'"+b+"':"+e)}q=q||{};var f=[],t=[],g=q.valueAccessors,m=q.bindingParams,F="string"===typeof e?b(e):e;a.a.u(F,function(a){y(a.key||a.unknown,a.value)});t.length&&y("_ko_property_writers","{"+t.join(",")+" }");return f.join(",")},lc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==
b)return!0;return!1},pa:function(b,c,d,e,l){if(b&&a.C(b))!a.Ra(b)||l&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.ha);a.b("expressionRewriting.parseObjectLiteral",a.h.Wa);a.b("expressionRewriting.preProcessBindings",a.h.ya);a.b("expressionRewriting._twoWayBindings",a.h.V);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.ya);(function(){function b(a){return 8==
a.nodeType&&m.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&p.test(f?a.text:a.nodeValue)}function d(a,e){for(var k=a,h=1,f=[];k=k.nextSibling;){if(c(k)&&(h--,0===h))return f;f.push(k);b(k)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=g&&"\x3c!--test--\x3e"===g.createComment("test").text,m=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
p=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};a.f={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},ja:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Ka(c)},T:function(c,d){if(b(c)){a.f.ja(c);for(var e=c.nextSibling,k=0,h=d.length;k<h;k++)e.parentNode.insertBefore(d[k],e)}else a.a.T(c,d)},Hb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Bb:function(c,
d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.Hb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},gc:b,xc:function(a){return(a=(f?a.text:a.nodeValue).match(m))?a[1]:null},Fb:function(d){if(h[a.a.t(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var f;f=k.firstChild;
var p=null;if(f){do if(p)p.push(f);else if(b(f)){var t=e(f,!0);t?f=t:p=[f]}else c(f)&&(p=[f]);while(f=f.nextSibling)}if(f=p)for(p=k.nextSibling,t=0;t<f.length;t++)p?d.insertBefore(f[t],p):d.appendChild(f[t])}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Q);a.b("virtualElements.emptyNode",a.f.ja);a.b("virtualElements.insertAfter",a.f.Bb);a.b("virtualElements.prepend",a.f.Hb);a.b("virtualElements.setDomNodeChildren",a.f.T);(function(){a.J=function(){this.Yb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.gc(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.mb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.mb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.f.xc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Yb,g=b+(e&&e.valueAccessors||""),p;if(!(p=f[g])){var h,q="with($context){with($data||{}){return{"+a.h.ya(b,e)+"}}}";h=new Function("$context","$element",q);p=f[g]=h}return p(c,d)}catch(y){throw y.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+y.message,y;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function c(a){return function(){return a}}function e(a){return a()}
function k(b){return a.a.na(a.k.B(b),function(a,c){return function(){return b()[c]}})}function f(a,b){return k(this.getBindings.bind(this,a,b))}function t(b,c,d){var e,k=a.f.firstChild(c),l=a.J.instance,h=l.preprocessNode;if(h){for(;e=k;)k=a.f.nextSibling(e),h.call(l,e);k=a.f.firstChild(c)}for(;e=k;)k=a.f.nextSibling(e),g(b,e,d)}function g(b,c,d){var e=!0,k=1===c.nodeType;k&&a.f.Fb(c);if(k&&d||a.J.instance.nodeHasBindings(c))e=h(c,null,b,d).shouldBindDescendants;e&&!y[a.a.t(c)]&&t(b,c,!k)}function p(b){var c=
[],d={},e=[];a.a.G(b,function O(k){if(!d[k]){var l=a.getBindingHandler(k);l&&(l.after&&(e.push(k),a.a.u(l.after,function(c){if(b[c]){if(-1!==a.a.m(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));O(c)}}),e.length--),c.push({key:k,zb:l}));d[k]=!0}});return c}function h(b,c,d,k){var l=a.a.e.get(b,m);if(!c){if(l)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,m,!0)}!l&&k&&a.Ob(b,d);var h;if(c&&"function"!==
typeof c)h=c;else{var q=a.J.instance,y=q.getBindingAccessors||f,g=a.j(function(){(h=c?c(d,b):y.call(q,b,d))&&d.I&&d.I();return h},null,{o:b});h&&g.Z()||(g=null)}var t;if(h){var n=g?function(a){return function(){return e(g()[a])}}:function(a){return h[a]},r=function(){return a.a.na(g?g():h,e)};r.get=function(a){return h[a]&&e(n(a))};r.has=function(a){return a in h};k=p(h);a.a.u(k,function(c){var e=c.zb.init,k=c.zb.update,l=c.key;if(8===b.nodeType&&!a.f.Q[l])throw Error("The binding '"+l+"' cannot be used with virtual elements");
try{"function"==typeof e&&a.k.B(function(){var a=e(b,n(l),r,d.$data,d);if(a&&a.controlsDescendantBindings){if(t!==v)throw Error("Multiple bindings ("+t+" and "+l+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");t=l}}),"function"==typeof k&&a.j(function(){k(b,n(l),r,d.$data,d)},null,{o:b})}catch(f){throw f.message='Unable to process binding "'+l+": "+h[l]+'"\nMessage: '+f.message,f;}})}return{shouldBindDescendants:t===v}}
function q(b){return b&&b instanceof a.N?b:new a.N(b)}a.d={};var y={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.N=function(b,c,d,e){var k=this,l="function"==typeof b&&!a.C(b),h,f=a.j(function(){var h=l?b():b,q=a.a.c(h);c?(c.I&&c.I(),a.a.extend(k,c),f&&(k.I=f)):(k.$parents=[],k.$root=q,k.ko=a);k.$rawData=h;k.$data=q;d&&(k[d]=q);e&&e(k,c,q);return k.$data},null,{Ia:function(){return h&&!a.a.ob(h)},o:!0});f.Z()&&(k.I=f,f.equalityComparer=null,h=[],f.Tb=function(b){h.push(b);a.a.w.da(b,
function(b){a.a.ua(h,b);h.length||(f.K(),k.I=f=v)})})};a.N.prototype.createChildContext=function(b,c,d){return new a.N(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.N.prototype.extend=function(b){return new a.N(this.I||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var m=a.a.e.F(),n=a.a.e.F();a.Ob=function(b,c){if(2==arguments.length)a.a.e.set(b,n,c),
c.I&&c.I.Tb(b);else return a.a.e.get(b,n)};a.ra=function(b,c,d){1===b.nodeType&&a.f.Fb(b);return h(b,c,q(d),!0)};a.Wb=function(b,d,e){e=q(e);return a.ra(b,"function"===typeof d?k(d.bind(null,e,b)):a.a.na(d,c),e)};a.Ca=function(a,b){1!==b.nodeType&&8!==b.nodeType||t(q(a),b,!0)};a.pb=function(a,c){!b&&d.jQuery&&(b=d.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||d.document.body;g(q(a),
c,!0)};a.Ha=function(b){switch(b.nodeType){case 1:case 8:var c=a.Ob(b);if(c)return c;if(b.parentNode)return a.Ha(b.parentNode)}return v};a.$b=function(b){return(b=a.Ha(b))?b.$data:v};a.b("bindingHandlers",a.d);a.b("applyBindings",a.pb);a.b("applyBindingsToDescendants",a.Ca);a.b("applyBindingAccessorsToNode",a.ra);a.b("applyBindingsToNode",a.Wb);a.b("contextFor",a.Ha);a.b("dataFor",a.$b)})();(function(b){function c(e,h){var q=f.hasOwnProperty(e)?f[e]:b,y;q||(q=f[e]=new a.P,d(e,function(a){g[e]=a;delete f[e];
y?q.notifySubscribers(a):setTimeout(function(){q.notifySubscribers(a)},0)}),y=!0);q.U(h)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a)}):b(null)})}function e(c,d,k,f){f||(f=a.g.loaders.slice(0));var g=f.shift();if(g){var t=g[c];if(t){var u=!1;if(t.apply(g,d.concat(function(a){u?k(null):null!==a?k(a):e(c,d,k,f)}))!==b&&(u=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");
}else e(c,d,k,f)}else k(null)}var f={},g={};a.g={get:function(a,d){var e=g.hasOwnProperty(a)?g[a]:b;e?setTimeout(function(){d(e)},0):c(a,d)},tb:function(a){delete g[a]},jb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.tb)})();(function(){function b(c,d,e,k){function l(){0===--p&&k(f)}var f={},p=2,g=e.template;e=e.viewModel;g?t(d,g,function(b){a.g.jb("loadTemplate",[c,b],function(a){f.template=a;l()})}):l();e?t(d,e,function(b){a.g.jb("loadViewModel",
[c,b],function(a){f[h]=a;l()})}):l()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});else if("function"===typeof b[h])d(b[h]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function e(b){switch(a.a.t(b)){case "script":return a.a.ba(b.text);case "textarea":return a.a.ba(b.value);case "template":if(m(b.content))return a.a.ia(b.content.childNodes)}return a.a.ia(b.childNodes)}function m(a){return d.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function t(a,b,c){"string"===typeof b.require?f||d.require?(f||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function n(a){return function(b){throw Error("Component '"+a+"': "+b);}}var p={};a.g.tc=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.Qa(b))throw Error("Component "+b+" is already registered");p[b]=c};a.g.Qa=function(a){return a in p};a.g.wc=function(b){delete p[b];a.g.tb(b)};a.g.ub={getConfig:function(a,
b){b(p.hasOwnProperty(a)?p[a]:null)},loadComponent:function(a,c,d){var e=n(a);t(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,l){b=n(b);if("string"===typeof c)l(a.a.ba(c));else if(c instanceof Array)l(c);else if(m(c))l(a.a.S(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)l(e(c));else if("string"===typeof c){var f=g.getElementById(c);f?l(e(f)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+
c)},loadViewModel:function(a,b,d){c(n(a),b,d)}};var h="createViewModel";a.b("components.register",a.g.tc);a.b("components.isRegistered",a.g.Qa);a.b("components.unregister",a.g.wc);a.b("components.defaultLoader",a.g.ub);a.g.loaders.push(a.g.ub);a.g.Ub=p})();(function(){function b(d,e){var l=d.getAttribute("params");if(l){var l=c.parseBindingsString(l,e,d,{valueAccessors:!0,bindingParams:!0}),l=a.a.na(l,function(b){return a.s(b,null,{o:d})}),f=a.a.na(l,function(b){return b.Z()?a.s(function(){return a.a.c(b())},
null,{o:d}):b.v()});f.hasOwnProperty("$raw")||(f.$raw=l);return f}return{$raw:{}}}a.g.getComponentNameForNode=function(b){b=a.a.t(b);return a.g.Qa(b)&&b};a.g.mb=function(c,d,e,f){if(1===d.nodeType){var p=a.g.getComponentNameForNode(d);if(p){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var h={name:p,params:b(d,e)};c.component=f?function(){return h}:h}}return c};var c=new a.J;9>a.a.L&&(a.g.register=function(a){return function(b){g.createElement(b);
return a.apply(this,arguments)}}(a.g.register),g.createDocumentFragment=function(b){return function(){var c=b(),d=a.g.Ub,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(g.createDocumentFragment))})();(function(){var b=0;a.d.component={init:function(c,d,e,f,g){function p(){var a=h&&h.dispose;"function"===typeof a&&a.call(h);q=null}var h,q;a.a.w.da(c,p);a.s(function(){var e=a.a.c(d()),f,t;"string"===typeof e?f=e:(f=a.a.c(e.name),t=a.a.c(e.params));if(!f)throw Error("No component name specified");
var m=q=++b;a.g.get(f,function(b){if(q===m){p();if(!b)throw Error("Unknown component '"+f+"'");var d=b.template;if(!d)throw Error("Component '"+f+"' has no template");d=a.a.ia(d);a.f.T(c,d);var d=t,e=b.createViewModel;b=e?e.call(b,d,{element:c}):d;d=g.createChildContext(b);h=b;a.Ca(d,c)}})},null,{o:c});return{controlsDescendantBindings:!0}}};a.f.Q.component=!0})();var B={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.G(d,function(c,d){d=a.a.c(d);var e=
!1===d||null===d||d===v;e&&b.removeAttribute(c);8>=a.a.L&&c in B?(c=B[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.a.Mb(b,e?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var f=b.checked,p=n?g():f;if(!a.Y.ma()&&(!h||f)){var t=a.k.B(c);q?m!==p?(f&&(a.a.ea(t,p,!0),a.a.ea(t,m,!1)),m=p):a.a.ea(t,p,f):a.h.pa(t,d,"checked",p,!0)}}function f(){var d=a.a.c(c());b.checked=q?0<=a.a.m(d,g()):p?d:g()===d}var g=a.Ib(function(){return d.has("checkedValue")?
a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),p="checkbox"==b.type,h="radio"==b.type;if(p||h){var q=p&&a.a.c(c())instanceof Array,m=q?g():v,n=h||q;h&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.s(e,null,{o:b});a.a.n(b,"click",e);a.s(f,null,{o:b})}}};a.h.V.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.G(d,function(c,d){d=a.a.c(d);a.a.Ba(b,c,d)}):(d=String(d||""),
a.a.Ba(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.Ba(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var g=c()||{};a.a.G(g,function(p){"string"==typeof p&&a.a.n(b,p,function(b){var l,g=c()[p];if(g){try{var m=a.a.S(arguments);e=f.$data;m.unshift(e);l=g.apply(e,m)}finally{!0!==l&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(p+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={Eb:function(b){return function(){var c=b(),d=a.a.Xa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.O.Oa};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.O.Oa}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.Eb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.Eb(c),d,e,f)}};a.h.ha.foreach=!1;a.f.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(f){b.__ko_hasfocusUpdating=!0;var h=b.ownerDocument;if("activeElement"in h){var g;try{g=h.activeElement}catch(m){g=h.body}f=g===b}h=c();a.h.pa(h,d,"hasfocus",f,!0);b.__ko_hasfocusLastValue=f;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.n(b,"focus",f);a.a.n(b,"focusin",
f);a.a.n(b,"blur",g);a.a.n(b,"focusout",g)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.B(a.a.oa,null,[b,d?"focusin":"focusout"]))}};a.h.V.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.V.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.$a(b,c())}};w("if");w("ifnot",!1,!0);w("with",!0,!1,function(a,b){return a.createChildContext(b)});var H={};a.d.options={init:function(b){if("select"!==
a.a.t(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.ta(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(n.length){var e=0<=a.a.m(n,a.i.q(d[0]));a.a.Nb(d[0],e);r&&!e&&a.k.B(a.a.oa,null,[b,"change"])}}var p=0!=b.length&&b.multiple?b.scrollTop:null,h=a.a.c(c()),q=d.get("optionsIncludeDestroyed");
c={};var m,n;n=b.multiple?a.a.Da(e(),a.i.q):0<=b.selectedIndex?[a.i.q(b.options[b.selectedIndex])]:[];h&&("undefined"==typeof h.length&&(h=[h]),m=a.a.ta(h,function(b){return q||b===v||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(h=a.a.c(d.get("optionsCaption")),null!==h&&h!==v&&m.unshift(H)));var r=!1;c.beforeRemove=function(a){b.removeChild(a)};h=g;d.has("optionsAfterRender")&&(h=function(b,c){g(0,c);a.k.B(d.get("optionsAfterRender"),null,[c[0],b!==H?b:v])});a.a.Za(b,m,function(c,e,h){h.length&&
(n=h[0].selected?[a.i.q(h[0])]:[],r=!0);e=b.ownerDocument.createElement("option");c===H?(a.a.bb(e,d.get("optionsCaption")),a.i.ca(e,v)):(h=f(c,d.get("optionsValue"),c),a.i.ca(e,a.a.c(h)),c=f(c,d.get("optionsText"),h),a.a.bb(e,c));return[e]},c,h);a.k.B(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.ca(b,a.a.c(d.get("value")),!0):(b.multiple?n.length&&e().length<n.length:n.length&&0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex])!==n[0]:n.length||0<=b.selectedIndex)&&a.a.oa(b,"change")});
a.a.dc(b);p&&20<Math.abs(p-b.scrollTop)&&(b.scrollTop=p)}};a.d.options.Va=a.a.e.F();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.n(b,"change",function(){var e=c(),f=[];a.a.u(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.i.q(b))});a.h.pa(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.t(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.u(b.getElementsByTagName("option"),
function(b){var c=0<=a.a.m(d,a.i.q(b));a.a.Nb(b,c)})}};a.h.V.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.G(d,function(c,d){d=a.a.c(d);if(null===d||d===v||!1===d)d="";b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.n(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.bb(b,c())}};a.f.Q.text=!0;(function(){if(d&&d.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=d.opera&&d.opera.version&&parseInt(d.opera.version()),e=d.navigator.userAgent,f=b(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=b(e.match(/Firefox\/([^ ]*)/));if(10>a.a.L)var m=a.a.e.F(),p=a.a.e.F(),h=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,p))&&c(b)},q=function(b,c){var d=b.ownerDocument;a.a.e.get(d,m)||(a.a.e.set(d,m,!0),a.a.n(d,"selectionchange",
h));a.a.e.set(b,p,c)};a.d.textInput={init:function(b,d,e){function k(c,d){a.a.n(b,c,d)}function h(){var c=a.a.c(d());if(null===c||c===v)c="";r!==v&&c===r?setTimeout(h,4):b.value!==c&&(m=c,b.value=c)}function l(){n||(r=b.value,n=setTimeout(p,4))}function p(){clearTimeout(n);r=n=v;var c=b.value;m!==c&&(m=c,a.h.pa(d(),e,"textInput",c))}var m=b.value,n,r;10>a.a.L?(k("propertychange",function(a){"value"===a.propertyName&&p()}),8==a.a.L&&(k("keyup",p),k("keydown",p)),8<=a.a.L&&(q(b,p),k("dragend",l))):
(k("input",p),5>f&&"textarea"===a.a.t(b)?(k("keydown",l),k("paste",l),k("cut",l)):11>c?k("keydown",l):4>g&&(k("DOMAutoComplete",p),k("dragdrop",p),k("drop",p)));k("change",p);a.s(h,null,{o:b})}};a.h.V.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Zb;a.a.Mb(b,d)}}};a.d.uniqueName.Zb=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=
b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,p=null;f&&("string"==typeof f&&(f=[f]),a.a.ga(e,f),e=a.a.rb(e));var h=function(){p=null;g=!1;var e=c(),f=a.i.q(b);a.h.pa(e,d,"value",f)};!a.a.L||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.m(e,"propertychange")||(a.a.n(b,"propertychange",function(){g=!0}),a.a.n(b,"focus",function(){g=!1}),a.a.n(b,"blur",function(){g&&h()}));a.a.u(e,function(c){var d=h;a.a.vc(c,
"after")&&(d=function(){p=a.i.q(b);setTimeout(h,0)},c=c.substring(5));a.a.n(b,c,d)});var q=function(){var e=a.a.c(c()),f=a.i.q(b);if(null!==p&&e===p)setTimeout(q,0);else if(e!==f)if("select"===a.a.t(b)){var h=d.get("valueAllowUnset"),f=function(){a.i.ca(b,e,h)};f();h||e===a.i.q(b)?setTimeout(f,0):a.k.B(a.a.oa,null,[b,"change"])}else a.i.ca(b,e)};a.s(q,null,{o:b})}else a.ra(b,{checkedValue:c})},update:function(){}};a.h.V.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;
d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,g){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.H=function(){};a.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.H.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||g;var d=
c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.r.l(d)}if(1==b.nodeType||8==b.nodeType)return new a.r.fa(b);throw Error("Unknown template type: "+b);};a.H.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.H.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.H.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,
c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.H);a.fb=function(){function b(c,d,e,f){c=a.h.Wa(c);for(var h=a.h.ha,k=0;k<c.length;k++){var g=c[k].key;if(h.hasOwnProperty(g)){var l=h[g];if("function"===typeof l){if(g=l(c[k].value))throw Error(g);}else if(!l)throw Error("This template engine does not support the '"+g+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.ya(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+
"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.fb.nc(b,c)},d)},nc:function(a,e){return a.replace(c,function(a,c,d,f,k){return b(k,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},Xb:function(b,c){return a.D.Ua(function(d,
e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.ra(f,b,e)})}}}();a.b("__tr_ambtns",a.fb.Xb);(function(){a.r={};a.r.l=function(a){this.l=a};a.r.l.prototype.text=function(){var b=a.a.t(this.l),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.l[b];var c=arguments[0];"innerHTML"===b?a.a.$a(this.l,c):this.l[b]=c};var b=a.a.e.F()+"_";a.r.l.prototype.data=function(c){if(1===arguments.length)return a.a.e.get(this.l,b+c);a.a.e.set(this.l,b+c,arguments[1])};
var c=a.a.e.F();a.r.fa=function(a){this.l=a};a.r.fa.prototype=new a.r.l;a.r.fa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.l,c)||{};b.gb===v&&b.Ga&&(b.gb=b.Ga.innerHTML);return b.gb}a.a.e.set(this.l,c,{gb:arguments[0]})};a.r.l.prototype.nodes=function(){if(0==arguments.length)return(a.a.e.get(this.l,c)||{}).Ga;a.a.e.set(this.l,c,{Ga:arguments[0]})};a.b("templateSources",a.r);a.b("templateSources.domElement",a.r.l);a.b("templateSources.anonymousTemplate",a.r.fa)})();(function(){function b(c,
d,e){var f;for(d=a.f.nextSibling(d);c&&(f=c)!==d;)c=a.f.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var f=d[0],k=d[d.length-1],g=f.parentNode,m=a.J.instance,n=m.preprocessNode;if(n){b(f,k,function(a,b){var c=a.previousSibling,d=n.call(m,a);d&&(a===f&&(f=d[0]||b),a===k&&(k=d[d.length-1]||c))});d.length=0;if(!f)return;f===k?d.push(f):(d.push(f,k),a.a.ka(d,g))}b(f,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.pb(e,b)});b(f,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.D.Sb(b,[e])});a.a.ka(d,
g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,h,g,l,m){m=m||{};var n=b&&d(b),n=n&&n.ownerDocument,r=m.templateEngine||f;a.fb.ec(g,r,n);g=r.renderTemplate(g,l,m,n);if("number"!=typeof g.length||0<g.length&&"number"!=typeof g[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(h){case "replaceChildren":a.f.T(b,g);n=!0;break;case "replaceNode":a.a.Lb(b,g);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
h);}n&&(c(g,l),m.afterRender&&a.k.B(m.afterRender,null,[g,l.$data]));return g}var f;a.ab=function(b){if(b!=v&&!(b instanceof a.H))throw Error("templateEngine must inherit from ko.templateEngine");f=b};a.Ya=function(b,c,g,l,m){g=g||{};if((g.templateEngine||f)==v)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(l){var n=d(l);return a.j(function(){var f=c&&c instanceof a.N?c:new a.N(a.a.c(c)),t=a.C(b)?b():"function"===typeof b?b(f.$data,f):b,f=e(l,m,t,f,g);
"replaceNode"==m&&(l=f,n=d(l))},null,{Ia:function(){return!n||!a.a.Ja(n)},o:n&&"replaceNode"==m?n.parentNode:n})}return a.D.Ua(function(d){a.Ya(b,c,g,d,"replaceNode")})};a.uc=function(b,d,f,k,g){function l(a,b){c(b,n);f.afterRender&&f.afterRender(b,a)}function m(c,d){n=g.createChildContext(c,f.as,function(a){a.$index=d});var k=a.C(b)?b():"function"===typeof b?b(c,n):b;return e(null,"ignoreTargetNode",k,n,f)}var n;return a.j(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.ta(b,
function(b){return f.includeDestroyed||b===v||null===b||!a.a.c(b._destroy)});a.k.B(a.a.Za,null,[k,b,m,f,l])},null,{o:k})};var g=a.a.e.F();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.f.ja(b):(d=a.f.childNodes(b),d=a.a.oc(d),(new a.r.fa(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var k=c(),l;c=a.a.c(k);d=!0;e=null;"string"==typeof c?c={}:(k=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),l=a.a.c(c.data));
"foreach"in c?e=a.uc(k||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(l,c.as):f,e=a.Ya(k||b,f,c,b)):a.f.ja(b);f=e;(l=a.a.e.get(b,g))&&"function"==typeof l.K&&l.K();a.a.e.set(b,g,f&&f.Z()?f:v)}};a.h.ha.template=function(b){b=a.h.Wa(b);return 1==b.length&&b[0].unknown||a.h.lc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Q.template=!0})();a.b("setTemplateEngine",a.ab);a.b("renderTemplate",a.Ya);a.a.wb=function(a,b,c){if(a.length&&
b.length){var d,e,f,g,h;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index;h.moved=g.index;b.splice(f,1);d=f=0;break}d+=f}}};a.a.Fa=function(){function b(c,d,e,f,g){var l=Math.min,h=Math.max,m=[],n,r=c.length,w,v=d.length,x=v-r||1,A=r+v+1,z,B,C;for(n=0;n<=r;n++)for(B=z,m.push(z=[]),C=l(v,n+x),w=h(0,n-1);w<=C;w++)z[w]=w?n?c[n-1]===d[w-1]?B[w-1]:l(B[w]||A,z[w-1]||A)+1:w+1:n+1;l=[];h=[];x=[];n=r;for(w=v;n||w;)v=m[n][w]-1,w&&v===m[n][w-1]?h.push(l[l.length]={status:e,
value:d[--w],index:w}):n&&v===m[n-1][w]?x.push(l[l.length]={status:f,value:c[--n],index:n}):(--w,--n,g.sparse||l.push({status:"retained",value:d[w]}));a.a.wb(h,x,10*r);return l.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Fa);(function(){function b(c,d,e,f,g){var h=[],l=a.j(function(){var b=d(e,g,a.a.ka(h,c))||[];0<h.length&&(a.a.Lb(h,
b),f&&a.k.B(f,null,[e,b,g]));h.length=0;a.a.ga(h,b)},null,{o:c,Ia:function(){return!a.a.ob(h)}});return{$:h,j:l.Z()?l:v}}var c=a.a.e.F();a.a.Za=function(d,e,f,g,m){function h(b,c){D=w[c];C!==c&&(R[b]=D);D.Na(C++);a.a.ka(D.$,d);A.push(D);O.push(D)}function n(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.u(c[d].$,function(a){b(a,d,c[d].sa)})}e=e||[];g=g||{};var r=a.a.e.get(d,c)===v,w=a.a.e.get(d,c)||[],x=a.a.Da(w,function(a){return a.sa}),z=a.a.Fa(x,e,g.dontLimitMoves),A=[],B=0,C=0,H=[],O=[];e=
[];for(var R=[],x=[],D,M=0,P,Q;P=z[M];M++)switch(Q=P.moved,P.status){case "deleted":Q===v&&(D=w[B],D.j&&D.j.K(),H.push.apply(H,a.a.ka(D.$,d)),g.beforeRemove&&(e[M]=D,O.push(D)));B++;break;case "retained":h(M,B++);break;case "added":Q!==v?h(M,Q):(D={sa:P.value,Na:a.p(C++)},A.push(D),O.push(D),r||(x[M]=D))}n(g.beforeMove,R);a.a.u(H,g.beforeRemove?a.R:a.removeNode);for(var M=0,r=a.f.firstChild(d),S;D=O[M];M++){D.$||a.a.extend(D,b(d,f,D.sa,m,D.Na));for(B=0;z=D.$[B];r=z.nextSibling,S=z,B++)z!==r&&a.f.Bb(d,
z,S);!D.ic&&m&&(m(D.sa,D.$,D.Na),D.ic=!0)}n(g.beforeRemove,e);n(g.afterMove,R);n(g.afterAdd,x);a.a.e.set(d,c,A)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Za);a.O=function(){this.allowTemplateRewriting=!1};a.O.prototype=new a.H;a.O.prototype.renderTemplateSource=function(b){var c=(9>a.a.L?0:b.nodes)?b.nodes():null;if(c)return a.a.S(c.cloneNode(!0).childNodes);b=b.text();return a.a.ba(b)};a.O.Oa=new a.O;a.ab(a.O.Oa);a.b("nativeTemplateEngine",a.O);(function(){a.Sa=function(){var a=this.kc=
function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,
c,d);d.appendTo(g.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Sa.prototype=new a.H;var c=new a.Sa;0<c.kc&&a.ab(c);a.b("jqueryTmplTemplateEngine",a.Sa)})()})})()})();
(function(v){v.Tools={};v.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var g=16*Math.random()|0;return("x"===d?g:g&3|8).toString(16)})};v.Tools.base64Id=function(d){for(var g="",c,b=0;b<d;b++)c=62*Math.random()|0,g+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[c];return g};v.Tools.createCookie=function(d,g,c){var b="";c&&(b=new Date,b.setTime(b.getTime()+864E5*c),b="; expires="+b.toGMTString());document.cookie=d+"="+g+b+"; path=/"};
v.Tools.readCookie=function(d){d+="=";for(var g=document.cookie.split(";"),c=0;c<g.length;c++){for(var b=g[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(d))return b.substring(d.length,b.length)}return null};v.Tools.eraseCookie=function(d){v.Tools.createCookie(d,"",-1)}})(window.EP=window.EP||{});
(function(v,d){v.User=function(g,c){var b=this;b.uuid=c||v.Tools.uuid();b.name=d.observable("");b.displayName=d.pureComputed(function(){return b.name()||"new user"});b.estimation=d.observable(!1);b.broadcast=function(){g.emit("update",d.toJSON(b))};b.loadFromCookie=function(){v.Tools.readCookie("ep.user.name")&&v.Tools.readCookie("ep.user.uuid")&&(b.name(v.Tools.readCookie("ep.user.name")),b.uuid=v.Tools.readCookie("ep.user.uuid"))};b.saveToCookie=function(){v.Tools.createCookie("ep.user.name",b.name());
v.Tools.createCookie("ep.user.uuid",b.uuid)};b.isConnected=d.observable(!1)};v.PokerView=function(g){var c=this,b=function(){var b=c.users().map(function(b){return b.estimation()});b.push(c.localUser().estimation());return b.filter(function(b){return!1!==b})},r=function(b){return c.users().filter(function(c){return c.uuid===b})[0]},e=io.connect("/");e.on("connect",function(){c.localUser().isConnected(!0)});e.on("disconnect",function(){c.localUser().isConnected(!1)});e.on("reconnect",function(){c.localUser().isConnected(!0)});
e.on("update",function(b){b=JSON.parse(b);if(void 0!==b.uuid){var d=r(b.uuid);d||(d=new v.User(e,b.uuid),c.users.push(d));d.name(b.name);d.estimation(b.estimation)}else f.isDisposed=!0,c.storyTitle(b.storyTitle),f.isDisposed=!1});e.on("who is there",function(){c.localUser().broadcast();m()});e.on("reconnect",function(){e.emit("join",{groupName:g,userUuid:c.localUser().uuid});c.localUser().broadcast();m()});e.on("user disconnected",function(b){x(b)});e.on("new round",function(){c.localUser().estimation(!1)});
c.initNewRound=function(){c.localUser().estimation(!1);e.emit("new round")};c.localUser=d.observable(new v.User(e));c.localUser().loadFromCookie();c.localUser().name.subscribe(function(){c.localUser().broadcast();c.localUser().saveToCookie()});c.localUser().estimation.subscribe(function(){c.localUser().broadcast()});e.emit("join",{groupName:g,userUuid:c.localUser().uuid});c.localUser().broadcast();c.users=d.observableArray([]);c.storyTitle=d.observable("");var f=c.storyTitle.subscribe(function(){m()});
c.highestEstimation=d.computed(function(){var c=b(),c=Math.max.apply(null,c);return-Infinity===c?!1:c});c.lowestEstimation=d.computed(function(){var c=b(),c=Math.min.apply(null,c);return Infinity===c?!1:c});c.estimationsComplete=d.computed(function(){var d=b().length,e=1+c.users().length;return d===e});var m=function(){var b={storyTitle:c.storyTitle()};e.emit("update",JSON.stringify(b))},x=function(b){var d=c.users().filter(function(a){return a.uuid!==b});c.users(d)}}})(window.EP=window.EP||{},window.ko);
(function(v){v.bindingHandlers.estimationSelect={init:function(d,g){var c=[0,1,2,3,5,8,13,20,40,100];d.classList.add("estimation-select");for(var b=0;b<c.length;b++)d.insertAdjacentHTML("beforeend",'<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+c[b]+'">'+c[b]+"</button>");for(var r=d.querySelectorAll("button"),e=function(){var b=g();this.classList.contains("active")?b(!1):b(+this.textContent)},b=0;b<r.length;b++)r[b].addEventListener("click",e);var f=function(b){var d=
g(),e,f;e=c.indexOf(d());-1!==e?f=e+b:(1===b&&(f=0),-1===b&&(f=c.length-1));b=c[f];"undefined"!==typeof b&&d(b)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"!==b.key&&43!==b.keyCode||f(1),"-"!==b.key&&45!==b.keyCode||f(-1))})},update:function(d,g){for(var c=g(),b=d.querySelectorAll("button"),r=0;r<b.length;r++)+b[r].textContent===c()?b[r].classList.add("active"):b[r].classList.remove("active")}};v.bindingHandlers.editableText={init:function(d,
g){d.classList.add("editable-text");d.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');d.querySelector(".et-form").style.display="none";var c=function(){d.classList.remove("editing");d.querySelector(".et-display").style.display="";d.querySelector(".et-form").style.display="none";g()(d.querySelector("input").value)};
d.querySelector(".et-display").addEventListener("click",function(){d.classList.add("editing");d.querySelector(".et-display").style.display="none";d.querySelector(".et-form").style.display="";d.querySelector(".et-form input").focus()});d.querySelector("button").addEventListener("click",c);d.querySelector("input").addEventListener("keypress",function(b){13===b.keyCode&&c()});d.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(d.classList.remove("editing"),d.querySelector(".et-display").style.display=
"",d.querySelector(".et-form").style.display="none")});d.querySelector("input").addEventListener("blur",c)},update:function(d,g){var c=g();d.querySelector(".et-label").textContent=c();d.querySelector("input").value=c();c()?d.querySelector(".et-hint").style.display="none":(d.querySelector(".et-hint").textContent=d.getAttribute("data-edit-hint")||"edit",d.querySelector(".et-hint").style.display="")}}})(window.ko);
(function(v,d){""===location.hash&&(location.hash=v.Tools.base64Id(8));var g=new v.PokerView(location.hash);d.components.register("card",{template:{element:"card"}});d.applyBindings(g)})(window.EP=window.EP||{},window.ko);

!function(v){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=v();else if("function"==typeof define&&define.amd)define([],v);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self);e.io=v()}}(function(){return function e(g,c,b){function f(l,t){if(!c[l]){if(!g[l]){var u="function"==typeof require&&require;if(!t&&u)return u(l,!0);if(d)return d(l,!0);throw Error("Cannot find module '"+l+"'");}u=c[l]={exports:{}};g[l][0].call(u.exports,
function(b){var a=g[l][1][b];return f(a?a:b)},u,u.exports,e,g,c,b)}return c[l].exports}for(var d="function"==typeof require&&require,l=0;l<b.length;l++)f(b[l]);return f}({1:[function(e,g,c){g.exports=e("./lib/")},{"./lib/":2}],2:[function(e,g,c){function b(b,d){"object"==typeof b&&(d=b,b=void 0);d=d||{};var a=f(b),c=a.source,z=a.id;d.forceNew||d["force new connection"]||!1===d.multiplex?(n("ignoring socket cache for %s",c),c=l(c,d)):(t[z]||(n("new io instance for %s",c),t[z]=l(c,d)),c=t[z]);return c.socket(a.path)}
var f=e("./url"),d=e("socket.io-parser"),l=e("./manager"),n=e("debug")("socket.io-client");g.exports=c=b;var t=c.managers={};c.protocol=d.protocol;c.connect=b;c.Manager=e("./manager");c.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(e,g,c){function b(a,d){if(!(this instanceof b))return new b(a,d);a&&"object"==typeof a&&(d=a,a=void 0);d=d||{};d.path=d.path||"/socket.io";this.nsps={};this.subs=[];this.opts=d;this.reconnection(!1!==d.reconnection);
this.reconnectionAttempts(d.reconnectionAttempts||Infinity);this.reconnectionDelay(d.reconnectionDelay||1E3);this.reconnectionDelayMax(d.reconnectionDelayMax||5E3);this.timeout(null==d.timeout?2E4:d.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.attempts=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new l.Encoder;this.decoder=new l.Decoder;(this.autoConnect=!1!==d.autoConnect)&&this.open()}e("./url");var f=e("engine.io-client"),d=e("./socket");c=e("component-emitter");
var l=e("socket.io-parser"),n=e("./on"),t=e("component-bind");e("object-component");var u=e("debug")("socket.io-client:manager"),w=e("indexof");g.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};c(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;
this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||
!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){u("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;u("opening %s",this.uri);var b=this.engine=f(this.uri,this.opts),d=this;this.readyState="opening";this.skipReconnect=!1;var l=n(b,"open",function(){d.onopen();a&&a()}),c=n(b,"error",function(h){u("connect_error");d.cleanup();d.readyState="closed";d.emitAll("connect_error",h);if(a){var k=
Error("Connection error");k.data=h;a(k)}d.maybeReconnectOnOpen()});if(!1!==this._timeout){var e=this._timeout;u("connect attempt will timeout after %d",e);var h=setTimeout(function(){u("connect attempt timed out after %d",e);l.destroy();b.close();b.emit("error","timeout");d.emitAll("connect_timeout",e)},e);this.subs.push({destroy:function(){clearTimeout(h)}})}this.subs.push(l);this.subs.push(c);return this};b.prototype.onopen=function(){u("open");this.cleanup();this.readyState="open";this.emit("open");
var a=this.engine;this.subs.push(n(a,"data",t(this,"ondata")));this.subs.push(n(this.decoder,"decoded",t(this,"ondecoded")));this.subs.push(n(a,"error",t(this,"onerror")));this.subs.push(n(a,"close",t(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){u("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new d(this,a);this.nsps[a]=b;var f=this;b.on("connect",
function(){~w(f.connected,b)||f.connected.push(b)})}return b};b.prototype.destroy=function(a){a=w(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};b.prototype.packet=function(a){u("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var d=0;d<a.length;d++)b.engine.write(a[d]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=
this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.readyState="closed";this.engine&&this.engine.close()};b.prototype.onclose=function(a){u("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting||
this.skipReconnect)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());u("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(u("attempting reconnect"),a.emitAll("reconnect_attempt",a.attempts),a.emitAll("reconnecting",a.attempts),a.skipReconnect||
a.open(function(b){b?(u("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(u("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(d)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],
4:[function(e,g,c){g.exports=function(b,f,d){b.on(f,d);return{destroy:function(){b.removeListener(f,d)}}}},{}],5:[function(e,g,c){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var f=e("socket.io-parser");c=e("component-emitter");var d=e("to-array"),l=e("./on"),n=e("component-bind"),t=e("debug")("socket.io-client:socket"),u=e("has-binary");g.exports=b;var w=
{connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},a=c.prototype.emit;c(b.prototype);b.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[l(a,"open",n(this,"onopen")),l(a,"packet",n(this,"onpacket")),l(a,"close",n(this,"onclose"))]}};b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
return this};b.prototype.send=function(){var a=d(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(w.hasOwnProperty(b))return a.apply(this,arguments),this;var z=d(arguments),l=f.EVENT;u(z)&&(l=f.BINARY_EVENT);l={type:l,data:z};"function"==typeof z[z.length-1]&&(t("emitting packet with ack id %d",this.ids),this.acks[this.ids]=z.pop(),l.id=this.ids++);this.connected?this.packet(l):this.sendBuffer.push(l);return this};b.prototype.packet=function(a){a.nsp=
this.nsp;this.io.packet(a)};b.prototype.onopen=function(){t("transport is open - connecting");"/"!=this.nsp&&this.packet({type:f.CONNECT})};b.prototype.onclose=function(a){t("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);
break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(b){var d=b.data||[];t("emitting event %j",d);null!=b.id&&(t("attaching ack callback to event"),d.push(this.ack(b.id)));this.connected?a.apply(this,d):this.receiveBuffer.push(d)};b.prototype.ack=function(a){var b=this,l=!1;return function(){if(!l){l=!0;var n=d(arguments);t("sending ack %j",n);var c=u(n)?f.BINARY_ACK:f.ACK;b.packet({type:c,id:a,data:n})}}};b.prototype.onack=function(a){t("calling ack %s with %j",
a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var b;for(b=0;b<this.receiveBuffer.length;b++)a.apply(this,this.receiveBuffer[b]);this.receiveBuffer=[];for(b=0;b<this.sendBuffer.length;b++)this.packet(this.sendBuffer[b]);this.sendBuffer=[]};b.prototype.ondisconnect=function(){t("server disconnect (%s)",this.nsp);this.destroy();
this.onclose("io server disconnect")};b.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){this.connected&&(t("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,
"to-array":47}],6:[function(e,g,c){(function(b){var f=e("parseuri"),d=e("debug")("socket.io-client:url");g.exports=function(l,n){var c=l;n=n||b.location;null==l&&(l=n.protocol+"//"+n.hostname);"string"==typeof l&&("/"==l.charAt(0)&&(l="/"==l.charAt(1)?n.protocol+l:n.hostname+l),/^(https?|wss?):\/\//.test(l)||(d("protocol-less url %s",l),l="undefined"!=typeof n?n.protocol+"//"+l:"https://"+l),d("parse %s",l),c=f(l));c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&
(c.port="443"));c.path=c.path||"/";c.id=c.protocol+"://"+c.host+":"+c.port;c.href=c.protocol+"://"+c.host+(n&&n.port==c.port?"":":"+c.port);return c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:9,parseuri:41}],7:[function(e,g,c){var b=[].slice;g.exports=function(f,d){"string"==typeof d&&(d=f[d]);if("function"!=typeof d)throw Error("bind() requires a function");var l=b.call(arguments,2);return function(){return d.apply(f,l.concat(b.call(arguments)))}}},
{}],8:[function(e,g,c){function b(f){if(f){for(var d in b.prototype)f[d]=b.prototype[d];return f}}g.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,d){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(d);return this};b.prototype.once=function(b,d){function l(){c.off(b,l);d.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};l.fn=d;this.on(b,l);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var l=this._callbacks[b];if(!l)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,e=0;e<l.length;e++)if(c=l[e],c===d||c.fn===d){l.splice(e,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),l=this._callbacks[b];if(l)for(var l=l.slice(0),c=0,e=l.length;c<e;++c)l[c].apply(this,
d);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(e,g,c){function b(d){return b.enabled(d)?function(l){l instanceof Error&&(l=l.stack||l.message);var f=new Date,c=f-(b[d]||f);b[d]=f;l=d+" "+l+" +"+b.humanize(c);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}g.exports=b;b.names=[];b.skips=
[];b.enable=function(d){try{localStorage.debug=d}catch(f){}for(var c=(d||"").split(/[\s,]+/),e=c.length,u=0;u<e;u++)d=c[u].replace("*",".*?"),"-"===d[0]?b.skips.push(new RegExp("^"+d.substr(1)+"$")):b.names.push(new RegExp("^"+d+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(d){for(var f=0,c=b.skips.length;f<c;f++)if(b.skips[f].test(d))return!1;f=0;for(c=b.names.length;f<
c;f++)if(b.names[f].test(d))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(f){}},{}],10:[function(e,g,c){g.exports=e("./lib/")},{"./lib/":11}],11:[function(e,g,c){g.exports=e("./socket");g.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(e,g,c){(function(b){function f(a,d){if(!(this instanceof f))return new f(a,d);d=d||{};a&&"object"==typeof a&&(d=a,a=null);a&&(a=w(a),d.host=a.host,d.secure="https"==a.protocol||"wss"==a.protocol,
d.port=a.port,a.query&&(d.query=a.query));this.secure=null!=d.secure?d.secure:b.location&&"https:"==location.protocol;if(d.host){var c=d.host.split(":");d.hostname=c.shift();c.length&&(d.port=c.pop())}this.agent=d.agent||!1;this.hostname=d.hostname||(b.location?location.hostname:"localhost");this.port=d.port||(b.location&&location.port?location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=E.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||
"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.jsonp=!1!==d.jsonp;this.forceBase64=!!d.forceBase64;this.enablesXDR=!!d.enablesXDR;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades}
var d=e("./transports"),c=e("component-emitter"),n=e("debug")("engine.io-client:socket"),t=e("indexof"),u=e("engine.io-parser"),w=e("parseuri"),a=e("parsejson"),E=e("parseqs");g.exports=f;f.priorWebsocketSuccess=!1;c(f.prototype);f.protocol=u.protocol;f.Socket=f;f.Transport=e("./transport");f.transports=e("./transports");f.parser=e("engine.io-parser");f.prototype.createTransport=function(a){n('creating transport "%s"',a);var b=this.query,f={},c;for(c in b)b.hasOwnProperty(c)&&(f[c]=b[c]);f.EIO=u.protocol;
f.transport=a;this.id&&(f.sid=this.id);return new d[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:f,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};f.prototype.open=function(){var a;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";
else{if(0==this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(d){this.transports.shift();this.open();return}a.open();this.setTransport(a)};f.prototype.setTransport=function(a){n("setting transport %s",a.name);var b=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",
function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};f.prototype.probe=function(a){function b(){if(q.onlyBinaryUpgrades){var h=!this.supportsBinary&&q.transport.supportsBinary;l=l||h}l||(n('probe transport "%s" opened',a),A.send([{type:"ping",data:"probe"}]),A.once("packet",function(p){l||("pong"==p.type&&"probe"==p.data?(n('probe transport "%s" pong',a),q.upgrading=!0,q.emit("upgrading",A),A&&
(f.priorWebsocketSuccess="websocket"==A.name,n('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){l||"closed"==q.readyState||(n("changing transport and sending upgrade packet"),C(),q.setTransport(A),A.send([{type:"upgrade"}]),q.emit("upgrade",A),A=null,q.upgrading=!1,q.flush())}))):(n('probe transport "%s" failed',a),p=Error("probe error"),p.transport=A.name,q.emit("upgradeError",p)))}))}function d(){l||(l=!0,C(),A.close(),A=null)}function c(h){var p=Error("probe error: "+
h);p.transport=A.name;d();n('probe transport "%s" failed because of error: %s',a,h);q.emit("upgradeError",p)}function h(){c("transport closed")}function r(){c("socket closed")}function k(a){A&&a.name!=A.name&&(n('"%s" works - aborting "%s"',a.name,A.name),d())}function C(){A.removeListener("open",b);A.removeListener("error",c);A.removeListener("close",h);q.removeListener("close",r);q.removeListener("upgrading",k)}n('probing transport "%s"',a);var A=this.createTransport(a,{probe:1}),l=!1,q=this;f.priorWebsocketSuccess=
!1;A.once("open",b);A.once("error",c);A.once("close",h);this.once("close",r);this.once("upgrading",k);A.open()};f.prototype.onOpen=function(){n("socket open");this.readyState="open";f.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){n("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};f.prototype.onPacket=function(b){if("opening"==this.readyState||
"open"==this.readyState)switch(n('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var d=Error("server error");d.code=b.data;this.emit("error",d);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else n('packet received with socket readyState "%s"',this.readyState)};f.prototype.onHandshake=function(a){this.emit("handshake",a);
this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};f.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};
f.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){n("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};f.prototype.ping=function(){this.sendPacket("ping")};f.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);
this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};f.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};f.prototype.write=f.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};f.prototype.sendPacket=function(a,b,d){"closing"!=
this.readyState&&"closed"!=this.readyState&&(a={type:a,data:b},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(d),this.flush())};f.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){f.once("upgrade",b);f.once("upgradeError",b)},b=function(){f.removeListener("upgrade",b);f.removeListener("upgradeError",b);d()},d=function(){f.onClose("forced close");n("socket closing - telling transport to close");f.transport.close()};this.readyState=
"closing";var f=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():d()});else this.upgrading?a():d()}return this};f.prototype.onError=function(a){n("socket error %j",a);f.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};f.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){n('socket close with reason: "%s"',a);var d=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);
setTimeout(function(){d.writeBuffer=[];d.callbackBuffer=[];d.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};f.prototype.filterUpgrades=function(a){for(var b=[],d=0,f=a.length;d<f;d++)~t(this.transports,a[d])&&b.push(a[d]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,
debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(e,g,c){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket;this.enablesXDR=b.enablesXDR}var f=e("engine.io-parser");e=e("component-emitter");g.exports=b;e(b.prototype);b.timestamps=0;b.prototype.onError=function(b,
f){var c=Error(b);c.type="TransportError";c.description=f;this.emit("error",c);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){b=f.decodePacket(b,this.socket.binaryType);this.onPacket(b)};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(e,g,c){(function(b){var f=e("xmlhttprequest"),d=e("./polling-xhr"),l=e("./polling-jsonp"),n=e("./websocket");c.polling=function(c){var e=!1,n=!1,a=!1!==c.jsonp;b.location&&(n=
"https:"==location.protocol,(e=location.port)||(e=n?443:80),e=c.hostname!=location.hostname||e!=c.port,n=c.secure!=n);c.xdomain=e;c.xscheme=n;if("open"in new f(c)&&!c.forceJSONP)return new d(c);if(!a)throw Error("JSONP disabled");return new l(c)};c.websocket=n}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,g,c){(function(b){function f(){}function d(a){c.call(this,a);this.query=
this.query||{};w||(b.___eio||(b.___eio=[]),w=b.___eio);this.index=w.length;var d=this;w.push(function(a){d.onData(a)});this.query.j=this.index;b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=f)},!1)}var c=e("./polling"),n=e("component-inherit");g.exports=d;var t=/\n/g,u=/\\n/g,w;n(d,c);d.prototype.supportsBinary=!1;d.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);c.prototype.doClose.call(this)};d.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};d.prototype.doWrite=function(a,b){function d(){c();b()}function c(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(a){f.onError("jsonp polling iframe removal error",a)}try{k=document.createElement('<iframe src="javascript:0" name="'+f.iframeId+'">')}catch(h){k=document.createElement("iframe"),k.name=f.iframeId,k.src="javascript:0"}k.id=f.iframeId;f.form.appendChild(k);f.iframe=k}var f=this;if(!this.form){var l=document.createElement("form"),
h=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index,k;l.className="socketio";l.style.position="absolute";l.style.top="-1000px";l.style.left="-1000px";l.target=r;l.method="POST";l.setAttribute("accept-charset","utf-8");h.name="d";l.appendChild(h);document.body.appendChild(l);this.form=l;this.area=h}this.form.action=this.uri();c();a=a.replace(u,"\\\n");this.area.value=a.replace(t,"\\n");try{this.form.submit()}catch(C){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==f.iframe.readyState&&d()}:this.iframe.onload=d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,g,c){(function(b){function f(){}function d(a){u.call(this,a);if(b.location){var d="https:"==location.protocol,c=location.port;c||(c=d?443:80);this.xd=a.hostname!=b.location.hostname||c!=a.port;this.xs=a.secure!=d}}function c(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.create()}function n(){for(var a in c.requests)c.requests.hasOwnProperty(a)&&c.requests[a].abort()}var t=e("xmlhttprequest"),u=e("./polling"),w=e("component-emitter"),a=e("component-inherit"),E=e("debug")("engine.io-client:polling-xhr");g.exports=d;g.exports.Request=c;a(d,u);d.prototype.supportsBinary=!0;d.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;return new c(a)};d.prototype.doWrite=function(a,b){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;d.on("success",b);d.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=d};d.prototype.doPoll=function(){E("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",
function(a){b.onError("xhr poll error",a)});this.pollXhr=a};w(c.prototype);c.prototype.create=function(){var a=this.xhr=new t({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),d=this;try{E("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(f){}"withCredentials"in
a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){d.onLoad()},a.onerror=function(){d.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)d.onLoad();else setTimeout(function(){d.onError(a.status)},0)};E("xhr data %s",this.data);a.send(this.data)}catch(e){setTimeout(function(){d.onError(e)},0);return}b.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)};c.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
c.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};c.prototype.onError=function(a){this.emit("error",a);this.cleanup()};c.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f;try{this.xhr.abort()}catch(a){}b.document&&delete c.requests[this.index];this.xhr=null}};c.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(d){}a=
"application/octet-stream"===b?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(c){this.onError(c)}if(null!=a)this.onData(a)};c.prototype.hasXDR=function(){return"undefined"!==typeof b.XDomainRequest&&!this.xs&&this.enablesXDR};c.prototype.abort=function(){this.cleanup()};b.document&&(c.requestsCount=0,c.requests={},b.attachEvent?b.attachEvent("onunload",n):b.addEventListener&&b.addEventListener("beforeunload",n,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(e,g,c){function b(b){var d=b&&b.forceBase64;if(!t||d)this.supportsBinary=!1;f.call(this,b)}var f=e("../transport"),d=e("parseqs"),l=e("engine.io-parser");c=e("component-inherit");var n=e("debug")("engine.io-client:polling");g.exports=b;var t=null!=(new (e("xmlhttprequest"))({xdomain:!1})).responseType;c(b,f);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=
function(b){function d(){n("paused");a.readyState="paused";b()}var a=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(n("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){n("pre-pause polling complete");--c||d()}));this.writable||(n("we are currently writing - waiting to pause"),c++,this.once("drain",function(){n("pre-pause writing complete");--c||d()}))}else d()};b.prototype.poll=function(){n("polling");this.polling=!0;this.doPoll();
this.emit("poll")};b.prototype.onData=function(b){var d=this;n("polling got data %s",b);l.decodePayload(b,this.socket.binaryType,function(a,b,c){if("opening"==d.readyState)d.onOpen();if("close"==a.type)return d.onClose(),!1;d.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():n('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){n("writing close packet");d.write([{type:"close"}])}
var d=this;"open"==this.readyState?(n("transport open - closing"),b()):(n("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var d=this;this.writable=!1;var a=function(){d.writable=!0;d.emit("drain")},d=this;l.encodePayload(b,this.supportsBinary,function(b){d.doWrite(b,a)})};b.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",a="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+f.timestamps++);this.supportsBinary||
b.sid||(b.b64=1);b=d.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(a=":"+this.port);b.length&&(b="?"+b);return c+"://"+this.hostname+a+this.path+b}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(e,g,c){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);f.call(this,b)}var f=e("../transport"),d=e("engine.io-parser"),l=e("parseqs");c=e("component-inherit");var n=e("debug")("engine.io-client:websocket"),
t=e("ws");g.exports=b;c(b,f);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new t(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(d){b.onData(d.data)};this.ws.onerror=
function(d){b.onError("websocket error",d)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var d=this;setTimeout(function(){f.prototype.onData.call(d,b)},0)});b.prototype.write=function(b){var c=this;this.writable=!1;for(var a=0,f=b.length;a<f;a++)d.encodePacket(b[a],this.supportsBinary,function(a){try{c.ws.send(a)}catch(b){n("websocket closed before onclose event")}});setTimeout(function(){c.writable=!0;c.emit("drain")},0)};b.prototype.onClose=
function(){f.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},d=this.secure?"wss":"ws",a="";this.port&&("wss"==d&&443!=this.port||"ws"==d&&80!=this.port)&&(a=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=l.encode(b);b.length&&(b="?"+b);return d+"://"+this.hostname+a+this.path+b};b.prototype.check=function(){return!!t&&!("__initialize"in
t&&this.name===b.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(e,g,c){var b=e("has-cors");g.exports=function(c){var d=c.xdomain,l=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!d||b))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!l&&c)return new XDomainRequest}catch(g){}if(!d)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(u){}}},{"has-cors":37}],20:[function(e,
g,c){g.exports=function(b,c){var d=function(){};d.prototype=c.prototype;b.prototype=new d;b.prototype.constructor=b}},{}],21:[function(e,g,c){function b(){var b;try{b=localStorage.debug}catch(d){}return b}c=g.exports=e("./debug");c.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var b=arguments,d=this.useColors;b[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+b[0]+(d?"%c ":" ")+"+"+c.humanize(this.diff);
if(!d)return b;var d="color: "+this.color,b=[b[0],d,"color: inherit"].concat(Array.prototype.slice.call(b,1)),l=0,e=0;b[0].replace(/%[a-z%]/g,function(b){"%"!==b&&(l++,"%c"===b&&(e=l))});b.splice(e,0,d);return b};c.save=function(b){try{null==b?localStorage.removeItem("debug"):localStorage.debug=b}catch(d){}};c.load=b;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&
31<=parseInt(RegExp.$1,10)};c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(b){return JSON.stringify(b)};c.enable(b())},{"./debug":22}],22:[function(e,g,c){c=g.exports=function(d){function l(){}function e(){var d=+new Date;e.diff=d-(f||d);e.prev=f;f=e.curr=d;null==e.useColors&&(e.useColors=c.useColors());null==e.color&&e.useColors&&(e.color=c.colors[b++%c.colors.length]);var l=Array.prototype.slice.call(arguments);l[0]=c.coerce(l[0]);
"string"!==typeof l[0]&&(l=["%o"].concat(l));var a=0;l[0]=l[0].replace(/%([a-z%])/g,function(b,d){if("%"===b)return b;a++;var f=c.formatters[d];"function"===typeof f&&(b=f.call(e,l[a]),l.splice(a,1),a--);return b});"function"===typeof c.formatArgs&&(l=c.formatArgs.apply(e,l));(e.log||c.log||console.log.bind(console)).apply(e,l)}l.enabled=!1;e.enabled=!0;var g=c.enabled(d)?e:l;g.namespace=d;return g};c.coerce=function(b){return b instanceof Error?b.stack||b.message:b};c.disable=function(){c.enable("")};
c.enable=function(b){c.save(b);for(var f=(b||"").split(/[\s,]+/),e=f.length,g=0;g<e;g++)f[g]&&(b=f[g].replace(/\*/g,".*?"),"-"===b[0]?c.skips.push(new RegExp("^"+b.substr(1)+"$")):c.names.push(new RegExp("^"+b+"$")))};c.enabled=function(b){var f,e;f=0;for(e=c.skips.length;f<e;f++)if(c.skips[f].test(b))return!1;f=0;for(e=c.names.length;f<e;f++)if(c.names[f].test(b))return!0;return!1};c.humanize=e("ms");c.names=[];c.skips=[];c.formatters={};var b=0,f},{ms:23}],23:[function(e,g,c){function b(b){if(b=
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(b)){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function f(b,c,f){if(!(b<c))return b<1.5*c?Math.floor(b/c)+" "+f:Math.ceil(b/c)+" "+f+"s"}
g.exports=function(d,c){c=c||{};return"string"==typeof d?b(d):c.long?f(d,864E5,"day")||f(d,36E5,"hour")||f(d,6E4,"minute")||f(d,1E3,"second")||d+" ms":864E5<=d?Math.round(d/864E5)+"d":36E5<=d?Math.round(d/36E5)+"h":6E4<=d?Math.round(d/6E4)+"m":1E3<=d?Math.round(d/1E3)+"s":d+"ms"}},{}],24:[function(e,g,c){(function(b){function f(a,b,r){if(!b)return c.encodeBase64Packet(a,r);var k=new FileReader;k.onload=function(){a.data=k.result;c.encodePacket(a,b,!0,r)};return k.readAsArrayBuffer(a.data)}function d(a,
b,r){var k=Array(a.length);r=u(a.length,r);for(var d=function(a,r,d){b(r,function(b,h){k[a]=h;d(b,k)})},c=0;c<a.length;c++)d(c,a[c],r)}var l=e("./keys"),n=e("arraybuffer.slice"),g=e("base64-arraybuffer"),u=e("after"),w=e("utf8"),a=navigator.userAgent.match(/Android/i);c.protocol=3;var E=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=l(E),x={type:"error",data:"parser error"},B=e("blob");c.encodePacket=function(d,h,r,k){"function"==typeof h&&(k=h,h=!1);"function"==typeof r&&(k=
r,r=null);var C=void 0===d.data?void 0:d.data.buffer||d.data;if(b.ArrayBuffer&&C instanceof ArrayBuffer){if(h){r=d.data;h=new Uint8Array(r);r=new Uint8Array(1+r.byteLength);r[0]=E[d.type];for(d=0;d<h.length;d++)r[d+1]=h[d];d=k(r.buffer)}else d=c.encodeBase64Packet(d,k);return d}if(B&&C instanceof b.Blob)return h?a?d=f(d,h,k):(h=new Uint8Array(1),h[0]=E[d.type],d=new B([h.buffer,d.data]),d=k(d)):d=c.encodeBase64Packet(d,k),d;h=E[d.type];void 0!==d.data&&(h+=r?w.encode(String(d.data)):String(d.data));
return k(""+h)};c.encodeBase64Packet=function(a,h){var d="b"+c.packets[a.type];if(B&&a.data instanceof B){var k=new FileReader;k.onload=function(){var a=k.result.split(",")[1];h(d+a)};return k.readAsDataURL(a.data)}var C;try{C=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(f){C=new Uint8Array(a.data);for(var e=Array(C.length),q=0;q<C.length;q++)e[q]=C[q];C=String.fromCharCode.apply(null,e)}d+=b.btoa(C);return h(d)};c.decodePacket=function(a,b,d){if("string"==typeof a||void 0===a){if("b"==
a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(d)try{a=w.decode(a)}catch(k){return x}d=a.charAt(0);return Number(d)==d&&z[d]?1<a.length?{type:z[d],data:a.substring(1)}:{type:z[d]}:x}d=(new Uint8Array(a))[0];a=n(a,1);B&&"blob"===b&&(a=new B([a]));return{type:z[d],data:a}};c.decodeBase64Packet=function(a,h){var d=z[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var k=g.decode(a.substr(1));"blob"===h&&B&&(k=new B([k]));return{type:d,data:k}};c.encodePayload=
function(b,h,r){"function"==typeof h&&(r=h,h=null);if(h)return B&&!a?c.encodePayloadAsBlob(b,r):c.encodePayloadAsArrayBuffer(b,r);if(!b.length)return r("0:");d(b,function(a,b){c.encodePacket(a,h,!0,function(a){b(null,a.length+":"+a)})},function(a,b){return r(b.join(""))})};c.decodePayload=function(a,b,d){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,d);"function"===typeof b&&(d=b,b=null);var k;if(""==a)return d(x,0,1);k="";for(var C,f,e=0,q=a.length;e<q;e++)if(f=a.charAt(e),":"!=f)k+=f;
else{if(""==k||k!=(C=Number(k)))return d(x,0,1);f=a.substr(e+1,C);if(k!=f.length)return d(x,0,1);if(f.length){k=c.decodePacket(f,b,!0);if(x.type==k.type&&x.data==k.data)return d(x,0,1);if(!1===d(k,e+C,q))return}e+=C;k=""}if(""!=k)return d(x,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));d(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,d){var c=d.reduce(function(a,b){var p;p="string"===typeof b?b.length:b.byteLength;return a+
p.toString().length+p+2},0),f=new Uint8Array(c),e=0;d.forEach(function(a){var b="string"===typeof a,p=a;if(b){for(var p=new Uint8Array(a.length),h=0;h<a.length;h++)p[h]=a.charCodeAt(h);p=p.buffer}b?f[e++]=0:f[e++]=1;a=p.byteLength.toString();for(h=0;h<a.length;h++)f[e++]=parseInt(a[h]);f[e++]=255;p=new Uint8Array(p);for(h=0;h<p.length;h++)f[e++]=p[h]});return b(f.buffer)})};c.encodePayloadAsBlob=function(a,b){d(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var h=new Uint8Array(1);h[0]=1;if("string"===
typeof a){for(var d=new Uint8Array(a.length),c=0;c<a.length;c++)d[c]=a.charCodeAt(c);a=d.buffer;h[0]=0}for(var d=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),r=new Uint8Array(d.length+1),c=0;c<d.length;c++)r[c]=parseInt(d[c]);r[d.length]=255;B&&(a=new B([h.buffer,r.buffer,a]),b(null,a))})},function(a,d){return b(new B(d))})};c.decodePayloadAsBinary=function(a,b,d){"function"===typeof b&&(d=b,b=null);for(var k=[],f=!1;0<a.byteLength;){for(var e=new Uint8Array(a),l=0===e[0],q="",m=1;255!=
e[m];m++){if(310<q.length){f=!0;break}q+=e[m]}if(f)return d(x,0,1);a=n(a,2+q.length);q=parseInt(q);e=n(a,0,q);if(l)try{e=String.fromCharCode.apply(null,new Uint8Array(e))}catch(p){for(l=new Uint8Array(e),e="",m=0;m<l.length;m++)e+=String.fromCharCode(l[m])}k.push(e);a=n(a,q)}var y=k.length;k.forEach(function(a,p){d(c.decodePacket(a,b,!0),p,y)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,
utf8:30}],25:[function(e,g,c){g.exports=Object.keys||function(b){var c=[],d=Object.prototype.hasOwnProperty,e;for(e in b)d.call(b,e)&&c.push(e);return c}},{}],26:[function(e,g,c){function b(){}g.exports=function(c,d,e){function g(b,c){if(0>=g.count)throw Error("after called too many times");--g.count;b?(t=!0,d(b),d=e):0!==g.count||t||d(null,c)}var t=!1;e=e||b;g.count=c;return 0===c?d():g}},{}],27:[function(e,g,c){g.exports=function(b,c,d){var e=b.byteLength;c=c||0;d=d||e;if(b.slice)return b.slice(c,
d);0>c&&(c+=e);0>d&&(d+=e);d>e&&(d=e);if(c>=e||c>=d||0===e)return new ArrayBuffer(0);b=new Uint8Array(b);for(var e=new Uint8Array(d-c),g=0;c<d;c++,g++)e[g]=b[c];return e.buffer}},{}],28:[function(e,g,c){(function(b){c.encode=function(c){c=new Uint8Array(c);var d,e=c.length,g="";for(d=0;d<e;d+=3)g+=b[c[d]>>2],g+=b[(c[d]&3)<<4|c[d+1]>>4],g+=b[(c[d+1]&15)<<2|c[d+2]>>6],g+=b[c[d+2]&63];2===e%3?g=g.substring(0,g.length-1)+"=":1===e%3&&(g=g.substring(0,g.length-2)+"==");return g};c.decode=function(c){var d=
.75*c.length,e=c.length,g=0,t,u,w,a;"="===c[c.length-1]&&(d--,"="===c[c.length-2]&&d--);for(var E=new ArrayBuffer(d),z=new Uint8Array(E),d=0;d<e;d+=4)t=b.indexOf(c[d]),u=b.indexOf(c[d+1]),w=b.indexOf(c[d+2]),a=b.indexOf(c[d+3]),z[g++]=t<<2|u>>4,z[g++]=(u&15)<<4|w>>2,z[g++]=(w&3)<<6|a&63;return E}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(e,g,c){(function(b){function c(b,e){e=e||{};for(var a=new d,f=0;f<b.length;f++)a.append(b[f]);return e.type?a.getBlob(e.type):
a.getBlob()}var d=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,e;try{e=2==(new Blob(["hi"])).size}catch(n){e=!1}var t=d&&d.prototype.append&&d.prototype.getBlob;b=e?b.Blob:t?c:void 0;g.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],30:[function(e,g,c){(function(b){(function(e){function d(a){for(var b=[],d=0,c=a.length,e,f;d<c;)e=a.charCodeAt(d++),55296<=e&&56319>=e&&d<c?(f=a.charCodeAt(d++),56320==(f&64512)?b.push(((e&1023)<<
10)+(f&1023)+65536):(b.push(e),d--)):b.push(e);return b}function l(){if(x>=z)throw Error("Invalid byte index");var a=E[x]&255;x++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function n(){var a,b,d,c;if(x>z)throw Error("Invalid byte index");if(x==z)return!1;a=E[x]&255;x++;if(0==(a&128))return a;if(192==(a&224)){b=l();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=l();d=l();a=(a&15)<<12|b<<6|d;if(2048<=a)return a;throw Error("Invalid continuation byte");
}if(240==(a&248)&&(b=l(),d=l(),c=l(),a=(a&15)<<18|b<<12|d<<6|c,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var t="object"==typeof c&&c,u="object"==typeof g&&g&&g.exports==t&&g,w="object"==typeof b&&b;if(w.global===w||w.window===w)e=w;var a=String.fromCharCode,E,z,x,w={version:"2.0.0",encode:function(b){b=d(b);for(var h=b.length,c=-1,k,e="";++c<h;){k=b[c];if(0==(k&4294967168))k=a(k);else{var f="";0==(k&4294965248)?f=a(k>>6&31|192):0==(k&4294901760)?(f=a(k>>12&15|224),f+=a(k>>
6&63|128)):0==(k&4292870144)&&(f=a(k>>18&7|240),f+=a(k>>12&63|128),f+=a(k>>6&63|128));k=f+=a(k&63|128)}e+=k}return e},decode:function(b){E=d(b);z=E.length;x=0;b=[];for(var h;!1!==(h=n());)b.push(h);h=b.length;for(var c=-1,k,e="";++c<h;)k=b[c],65535<k&&(k-=65536,e+=a(k>>>10&1023|55296),k=56320|k&1023),e+=a(k);return e}};if(t&&!t.nodeType)if(u)u.exports=w;else{e={}.hasOwnProperty;for(var B in w)e.call(w,B)&&(t[B]=w[B])}else e.utf8=w})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],31:[function(e,g,c){(function(b){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,n=/(?:^|:|,)(?:\s*\[)+/g,t=/^\s+/,u=/\s+$/;g.exports=function(g){if("string"!=typeof g||!g)return null;g=g.replace(t,"").replace(u,"");if(b.JSON&&JSON.parse)return JSON.parse(g);if(c.test(g.replace(d,"@").replace(e,"]").replace(n,"")))return(new Function("return "+g))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],32:[function(e,g,c){c.encode=function(b){var c="",d;for(d in b)b.hasOwnProperty(d)&&(c.length&&(c+="&"),c+=encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return c};c.decode=function(b){var c={};b=b.split("&");for(var d=0,e=b.length;d<e;d++){var g=b[d].split("=");c[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return c}},{}],33:[function(e,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(d){var c=d,e=d.indexOf("["),g=d.indexOf("]");-1!=e&&-1!=g&&(d=d.substring(0,e)+d.substring(e,g).replace(/:/g,";")+d.substring(g,d.length));d=b.exec(d||"");for(var u={},w=14;w--;)u[f[w]]=d[w]||"";-1!=e&&-1!=g&&(u.source=c,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=
!0);return u}},{}],34:[function(e,g,c){function b(b,c,e){return c?new f(b,c):new f(b)}e=function(){return this}();var f=e.WebSocket||e.MozWebSocket;g.exports=f?b:null;f&&(b.prototype=f.prototype)},{}],35:[function(e,g,c){(function(b){var c=e("isarray");g.exports=function(d){function e(d){if(!d)return!1;if(b.Buffer&&b.Buffer.isBuffer(d)||b.ArrayBuffer&&d instanceof ArrayBuffer||b.Blob&&d instanceof Blob||b.File&&d instanceof File)return!0;if(c(d))for(var g=0;g<d.length;g++){if(e(d[g]))return!0}else if(d&&
"object"==typeof d)for(g in d.toJSON&&(d=d.toJSON()),d)if(d.hasOwnProperty(g)&&e(d[g]))return!0;return!1}return e(d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:36}],36:[function(e,g,c){g.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],37:[function(e,g,c){e=e("global");try{g.exports="XMLHttpRequest"in e&&"withCredentials"in new e.XMLHttpRequest}catch(b){g.exports=!1}},{global:38}],38:[function(e,g,
c){g.exports=function(){return this}()},{}],39:[function(e,g,c){var b=[].indexOf;g.exports=function(c,d){if(b)return c.indexOf(d);for(var e=0;e<c.length;++e)if(c[e]===d)return e;return-1}},{}],40:[function(e,g,c){var b=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(c){var d=[],e;for(e in c)b.call(c,e)&&d.push(e);return d};c.values=function(c){var d=[],e;for(e in c)b.call(c,e)&&d.push(c[e]);return d};c.merge=function(c,d){for(var e in d)b.call(d,e)&&(c[e]=d[e]);return c};c.length=function(b){return c.keys(b).length};
c.isEmpty=function(b){return 0==c.length(b)}},{}],41:[function(e,g,c){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");g.exports=function(d){d=b.exec(d||"");for(var c={},e=14;e--;)c[f[e]]=d[e]||
"";return c}},{}],42:[function(e,g,c){(function(b){var f=e("isarray"),d=e("./is-buffer");c.deconstructPacket=function(b){function c(b){if(!b)return b;if(d(b)){var g={_placeholder:!0,num:e.length};e.push(b);return g}if(f(b)){for(var g=Array(b.length),a=0;a<b.length;a++)g[a]=c(b[a]);return g}if("object"==typeof b&&!(b instanceof Date)){g={};for(a in b)g[a]=c(b[a]);return g}return b}var e=[];b.data=c(b.data);b.attachments=e.length;return{packet:b,buffers:e}};c.reconstructPacket=function(b,d){function c(b){if(b&&
b._placeholder)return d[b.num];if(f(b))for(var e=0;e<b.length;e++)b[e]=c(b[e]);else if(b&&"object"==typeof b)for(e in b)b[e]=c(b[e]);return b}b.data=c(b.data);b.attachments=void 0;return b};c.removeBlobs=function(c,e){function g(a,c,l){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){u++;var x=new FileReader;x.onload=function(){l?l[c]=this.result:w=this.result;--u||e(w)};x.readAsArrayBuffer(a)}else if(f(a))for(x=0;x<a.length;x++)g(a[x],x,a);else if(a&&"object"==typeof a&&!d(a))for(x in a)g(a[x],
x,a)}var u=0,w=c;g(w);u||e(w)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(e,g,c){function b(){}function f(a){var b,d=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp);null!=a.id&&(d&&(b+=",",d=!1),b+=a.id);null!=a.data&&(d&&(b+=","),b+=u.stringify(a.data));t("encoded %j as %s",a,b);return b}function d(a,b){w.removeBlobs(a,function(a){var d=w.deconstructPacket(a);
a=f(d.packet);d=d.buffers;d.unshift(a);b(d)})}function l(){this.reconstructor=null}function n(a){this.reconPack=a;this.buffers=[]}var t=e("debug")("socket.io-parser"),u=e("json3");e("isarray");g=e("component-emitter");var w=e("./binary"),a=e("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=b;c.Decoder=l;b.prototype.encode=function(a,b){t("encoding packet %j",
a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)d(a,b);else{var e=f(a);b([e])}};g(l.prototype);l.prototype.add=function(b){if("string"==typeof b){a:{var d={},e=0;d.type=Number(b.charAt(0));if(null==c.types[d.type])b={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==d.type||c.BINARY_ACK==d.type){for(d.attachments="";"-"!=b.charAt(++e);)d.attachments+=b.charAt(e);d.attachments=Number(d.attachments)}if("/"==b.charAt(e+1))for(d.nsp="";++e;){var f=b.charAt(e);if(","==f)break;d.nsp+=f;if(e+
1==b.length)break}else d.nsp="/";f=b.charAt(e+1);if(""!=f&&Number(f)==f){for(d.id="";++e;){f=b.charAt(e);if(null==f||Number(f)!=f){--e;break}d.id+=b.charAt(e);if(e+1==b.length)break}d.id=Number(d.id)}if(b.charAt(++e))try{d.data=u.parse(b.substr(e))}catch(g){b={type:c.ERROR,data:"parser error"};break a}t("decoded %s as %j",b,d);b=d}}c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new n(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(a(b)||
b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};n.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=w.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),
a):null};n.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(e,g,c){(function(b){g.exports=function(c){return b.Buffer&&b.Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(e,g,c){g.exports=e(36)},{}],46:[function(e,g,c){(function(b){function e(b){if(e[b]!==t)return e[b];
var p;if("bug-string-char-index"==b)p="a"!="a"[0];else if("json"==b)p=e("json-stringify")&&e("json-parse");else{var h;if("json-stringify"==b){p=w.stringify;var c="function"==typeof p&&a;if(c){(h=function(){return 1}).toJSON=h;try{c="0"===p(0)&&"0"===p(new Number)&&'""'==p(new String)&&p(d)===t&&p(t)===t&&p()===t&&"1"===p(h)&&"[1]"==p([h])&&"[null]"==p([t])&&"null"==p(null)&&"[null,null,null]"==p([t,d,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==p({a:[h,!0,!1,null,"\x00\b\n\f\r\t"]})&&
"1"===p(null,h)&&"[\n 1,\n 2\n]"==p([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==p(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==p(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==p(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==p(new Date(-1))}catch(k){c=!1}}p=c}if("json-parse"==b){p=w.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){h=p('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var y=5==h.a.length&&1===h.a[0];if(y){try{y=!p('"\t"')}catch(r){}if(y)try{y=1!==
p("01")}catch(m){}if(y)try{y=1!==p("1.")}catch(D){}}}}catch(C){y=!1}p=y}}return e[b]=!!p}var d={}.toString,g,n,t,u="object"==typeof JSON&&JSON,w="object"==typeof c&&c&&!c.nodeType&&c;w&&u?(w.stringify=u.stringify,w.parse=u.parse):w=b.JSON=u||{};var a=new Date(-0xc782b5b800cec);try{a=-109252==a.getUTCFullYear()&&0===a.getUTCMonth()&&1===a.getUTCDate()&&10==a.getUTCHours()&&37==a.getUTCMinutes()&&6==a.getUTCSeconds()&&708==a.getUTCMilliseconds()}catch(E){}if(!e("json")){var z=e("bug-string-char-index");
if(!a)var x=Math.floor,B=[0,31,59,90,120,151,181,212,243,273,304,334],J=function(a,b){return B[b]+365*(a-1970)+x((a-1969+(b=+(1<b)))/4)-x((a-1901+b)/100)+x((a-1601+b)/400)};(g={}.hasOwnProperty)||(g=function(a){var b={},p;(b.__proto__=null,b.__proto__={toString:1},b).toString!=d?g=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(p=b.constructor,g=function(a){var b=(this.constructor||p).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return g.call(this,
a)});var h={"boolean":1,number:1,string:1,undefined:1};n=function(a,b){var p=0,c,e,k;(c=function(){this.valueOf=0}).prototype.valueOf=0;e=new c;for(k in e)g.call(e,k)&&p++;c=e=null;p?n=2==p?function(a,b){var p={},h="[object Function]"==d.call(a),c;for(c in a)h&&"prototype"==c||g.call(p,c)||!(p[c]=1)||!g.call(a,c)||b(c)}:function(a,b){var p="[object Function]"==d.call(a),c,h;for(c in a)p&&"prototype"==c||!g.call(a,c)||(h="constructor"===c)||b(c);(h||g.call(a,c="constructor"))&&b(c)}:(e="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
n=function(a,b){var p="[object Function]"==d.call(a),c,k;if(k=!p&&"function"!=typeof a.constructor)k=typeof a.hasOwnProperty,k="object"==k?!!a.hasOwnProperty:!h[k];k=k?a.hasOwnProperty:g;for(c in a)p&&"prototype"==c||!k.call(a,c)||b(c);for(p=e.length;c=e[--p];k.call(a,c)&&b(c));});return n(a,b)};if(!e("json-stringify")){var r={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(a,b){return("000000"+(b||0)).slice(-a)},C=function(a){var b='"',p=0,d=a.length,c=10<d&&z,h;for(c&&
(h=a.split(""));p<d;p++){var e=a.charCodeAt(p);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=r[e];break;default:if(32>e){b+="\\u00"+k(2,e.toString(16));break}b+=c?h[p]:z?a.charAt(p):a[p]}}return b+'"'},A=function(a,b,p,c,h,e,y){var r,m,D,q,f,H,N,I,G;try{r=b[a]}catch(u){}if("object"==typeof r&&r)if(m=d.call(r),"[object Date]"!=m||g.call(r,"toJSON"))"function"==typeof r.toJSON&&("[object Number]"!=m&&"[object String]"!=m&&"[object Array]"!=m||g.call(r,"toJSON"))&&(r=r.toJSON(a));
else if(r>-1/0&&r<1/0){if(J){q=x(r/864E5);for(m=x(q/365.2425)+1970-1;J(m+1,0)<=q;m++);for(D=x((q-J(m,0))/30.42);J(m,D+1)<=q;D++);q=1+q-J(m,D);f=(r%864E5+864E5)%864E5;H=x(f/36E5)%24;N=x(f/6E4)%60;I=x(f/1E3)%60;f%=1E3}else m=r.getUTCFullYear(),D=r.getUTCMonth(),q=r.getUTCDate(),H=r.getUTCHours(),N=r.getUTCMinutes(),I=r.getUTCSeconds(),f=r.getUTCMilliseconds();r=(0>=m||1E4<=m?(0>m?"-":"+")+k(6,0>m?-m:m):k(4,m))+"-"+k(2,D+1)+"-"+k(2,q)+"T"+k(2,H)+":"+k(2,N)+":"+k(2,I)+"."+k(3,f)+"Z"}else r=null;p&&(r=
p.call(b,a,r));if(null===r)return"null";m=d.call(r);if("[object Boolean]"==m)return""+r;if("[object Number]"==m)return r>-1/0&&r<1/0?""+r:"null";if("[object String]"==m)return C(""+r);if("object"==typeof r){for(a=y.length;a--;)if(y[a]===r)throw TypeError();y.push(r);G=[];b=e;e+=h;if("[object Array]"==m){D=0;for(a=r.length;D<a;D++)m=A(D,r,p,c,h,e,y),G.push(m===t?"null":m);a=G.length?h?"[\n"+e+G.join(",\n"+e)+"\n"+b+"]":"["+G.join(",")+"]":"[]"}else n(c||r,function(a){var b=A(a,r,p,c,h,e,y);b!==t&&
G.push(C(a)+":"+(h?" ":"")+b)}),a=G.length?h?"{\n"+e+G.join(",\n"+e)+"\n"+b+"}":"{"+G.join(",")+"}":"{}";y.pop();return a}};w.stringify=function(a,b,p){var c,h,e,k;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(k=d.call(b)))h=b;else if("[object Array]"==k){e={};for(var y=0,r=b.length,m;y<r;m=b[y++],(k=d.call(m),"[object String]"==k||"[object Number]"==k)&&(e[m]=1));}if(p)if("[object Number]"==(k=d.call(p))){if(0<(p-=p%1))for(c="",10<p&&(p=10);c.length<p;c+=" ");}else"[object String]"==
k&&(c=10>=p.length?p:p.slice(0,10));return A("",(m={},m[""]=a,m),h,e,c,"",[])}}if(!e("json-parse")){var I=String.fromCharCode,q={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},m,p,y=function(){m=p=null;throw SyntaxError();},D=function(){for(var a=p,b=a.length,c,d,h,e,k;m<b;)switch(k=a.charCodeAt(m),k){case 9:case 10:case 13:case 32:m++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=z?a.charAt(m):a[m],m++,c;case 34:c="@";for(m++;m<b;)if(k=a.charCodeAt(m),32>k)y();
else if(92==k)switch(k=a.charCodeAt(++m),k){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=q[k];m++;break;case 117:d=++m;for(h=m+4;m<h;m++)k=a.charCodeAt(m),48<=k&&57>=k||97<=k&&102>=k||65<=k&&70>=k||y();c+=I("0x"+a.slice(d,m));break;default:y()}else{if(34==k)break;k=a.charCodeAt(m);for(d=m;32<=k&&92!=k&&34!=k;)k=a.charCodeAt(++m);c+=a.slice(d,m)}if(34==a.charCodeAt(m))return m++,c;y();default:d=m;45==k&&(e=!0,k=a.charCodeAt(++m));if(48<=k&&57>=k){for(48==k&&(k=a.charCodeAt(m+
1),48<=k&&57>=k)&&y();m<b&&(k=a.charCodeAt(m),48<=k&&57>=k);m++);if(46==a.charCodeAt(m)){for(h=++m;h<b&&(k=a.charCodeAt(h),48<=k&&57>=k);h++);h==m&&y();m=h}k=a.charCodeAt(m);if(101==k||69==k){k=a.charCodeAt(++m);43!=k&&45!=k||m++;for(h=m;h<b&&(k=a.charCodeAt(h),48<=k&&57>=k);h++);h==m&&y();m=h}return+a.slice(d,m)}e&&y();if("true"==a.slice(m,m+4))return m+=4,!0;if("false"==a.slice(m,m+5))return m+=5,!1;if("null"==a.slice(m,m+4))return m+=4,null;y()}return"$"},N=function(a){var b,p;"$"==a&&y();if("string"==
typeof a){if("@"==(z?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;p||(p=!0)){a=D();if("]"==a)break;p&&(","==a?(a=D(),"]"==a&&y()):y());","==a&&y();b.push(N(a))}return b}if("{"==a){for(b={};;p||(p=!0)){a=D();if("}"==a)break;p&&(","==a?(a=D(),"}"==a&&y()):y());","!=a&&"string"==typeof a&&"@"==(z?a.charAt(0):a[0])&&":"==D()||y();b[a.slice(1)]=N(D())}return b}y()}return a},H=function(a,b,p){p=G(a,b,p);p===t?delete a[b]:a[b]=p},G=function(a,b,p){var c=a[b],h;if("object"==typeof c&&c)if("[object Array]"==
d.call(c))for(h=c.length;h--;)H(c,h,p);else n(c,function(a){H(c,a,p)});return p.call(a,b,c)};w.parse=function(a,b){var c,h;m=0;p=""+a;c=N(D());"$"!=D()&&y();m=p=null;return b&&"[object Function]"==d.call(b)?G((h={},h[""]=c,h),"",b):c}}}})(this)},{}],47:[function(e,g,c){g.exports=function(b,c){for(var d=[],e=(c=c||0)||0;e<b.length;e++)d[e-c]=b[e];return d}},{}]},{},[1])(1)});
(function(){(function(v){var e=this||(0,eval)("this"),g=e.document,c=e.navigator,b=e.jQuery,f=e.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports,require):"function"===typeof define&&define.amd?define(["exports","require"],b):b(e.ko={})})(function(d,l){function n(a,b){return null===a||typeof a in E?a===b:!1}function t(a,b){var c;return function(){c||(c=setTimeout(function(){c=v;a()},b))}}function u(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function w(b,c,d,e){a.d[b]={init:function(b,h,q,m,p){var y,D;a.s(function(){var m=a.a.c(h()),q=!d!==!m,f=!D;if(f||c||q!==y)f&&a.Y.la()&&(D=a.a.ia(a.f.childNodes(b),!0)),q?(f||a.f.T(b,a.a.ia(D)),a.Ca(e?e(p,m):p,b)):a.f.ja(b),y=q},null,{o:b});return{controlsDescendantBindings:!0}}};a.h.ha[b]=!1;a.f.Q[b]=!0}var a="undefined"!==typeof d?d:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.A=function(a,b,c){a[b]=c};a.version="3.2.0";
a.b("version",a.version);a.a=function(){function d(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function r(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function k(a,b){a.__proto__=b;return a}var C={__proto__:[]}instanceof Array,A={},I={};A[c&&/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];A.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");d(A,function(a,b){if(b.length)for(var c=
0,d=b.length;c<d;c++)I[b[c]]=a});var q={propertychange:!0},m=g&&function(){for(var a=3,b=g.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:v}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===
b)return c;return-1},qb:function(a,b,c){for(var d=0,h=a.length;d<h;d++)if(b.call(c,a[d],d))return a[d];return null},ua:function(b,c){var d=a.a.m(b,c);0<d?b.splice(d,1):0===d&&b.shift()},rb:function(b){b=b||[];for(var c=[],d=0,h=b.length;d<h;d++)0>a.a.m(c,b[d])&&c.push(b[d]);return c},Da:function(a,b){a=a||[];for(var c=[],d=0,h=a.length;d<h;d++)c.push(b(a[d],d));return c},ta:function(a,b){a=a||[];for(var c=[],d=0,h=a.length;d<h;d++)b(a[d],d)&&c.push(a[d]);return c},ga:function(a,b){if(b instanceof
Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},ea:function(b,c,d){var h=a.a.m(a.a.Xa(b),c);0>h?d&&b.push(c):d||b.splice(h,1)},xa:C,extend:r,za:k,Aa:C?k:r,G:d,na:function(a,b){if(!a)return a;var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},Ka:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},oc:function(b){b=a.a.S(b);for(var c=g.createElement("div"),d=0,h=b.length;d<h;d++)c.appendChild(a.R(b[d]));return c},ia:function(b,c){for(var d=
0,h=b.length,e=[];d<h;d++){var k=b[d].cloneNode(!0);e.push(c?a.R(k):k)}return e},T:function(b,c){a.a.Ka(b);if(c)for(var d=0,h=c.length;d<h;d++)b.appendChild(c[d])},Lb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var h=d[0],e=h.parentNode,k=0,r=c.length;k<r;k++)e.insertBefore(c[k],h);k=0;for(r=d.length;k<r;k++)a.removeNode(d[k])}},ka:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=
0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Nb:function(a,b){7>m?a.setAttribute("selected",b):a.selected=b},cb:function(a){return null===a||a===v?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},cc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&
16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ja:function(b){return a.a.cc(b,b.ownerDocument.documentElement)},ob:function(b){return!!a.a.qb(b,a.a.Ja)},t:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(c,d,h){var k=m&&q[d];if(!k&&b)b(c).bind(d,h);else if(k||"function"!=typeof c.addEventListener)if("undefined"!=typeof c.attachEvent){var e=function(a){h.call(c,a)},r="on"+d;c.attachEvent(r,e);a.a.w.da(c,function(){c.detachEvent(r,e)})}else throw Error("Browser doesn't support addEventListener or attachEvent");
else c.addEventListener(d,h,!1)},oa:function(c,d){if(!c||!c.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var h;"input"===a.a.t(c)&&c.type&&"click"==d.toLowerCase()?(h=c.type,h="checkbox"==h||"radio"==h):h=!1;if(b&&!h)b(c).trigger(d);else if("function"==typeof g.createEvent)if("function"==typeof c.dispatchEvent)h=g.createEvent(I[d]||"HTMLEvents"),h.initEvent(d,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,c),c.dispatchEvent(h);else throw Error("The supplied element doesn't support dispatchEvent");
else if(h&&c.click)c.click();else if("undefined"!=typeof c.fireEvent)c.fireEvent("on"+d);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.C(b)?b():b},Xa:function(b){return a.C(b)?b.v():b},Ba:function(b,c,d){if(c){var h=/\S+/g,k=b.className.match(h)||[];a.a.u(c.match(h),function(b){a.a.ea(k,b,d)});b.className=k.join(" ")}},bb:function(b,c){var d=a.a.c(c);if(null===d||d===v)d="";var h=a.f.firstChild(b);!h||3!=h.nodeType||a.f.nextSibling(h)?a.f.T(b,[b.ownerDocument.createTextNode(d)]):
h.data=d;a.a.fc(b)},Mb:function(a,b){a.name=b;if(7>=m)try{a.mergeAttributes(g.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},fc:function(a){9<=m&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},dc:function(a){if(m){var b=a.style.width;a.style.width=0;a.style.width=b}},sc:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],h=b;h<=c;h++)d.push(h);return d},S:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},yc:6===m,zc:7===m,L:m,xb:function(b,c){for(var d=
a.a.S(b.getElementsByTagName("input")).concat(a.a.S(b.getElementsByTagName("textarea"))),h="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},k=[],e=d.length-1;0<=e;e--)h(d[e])&&k.push(d[e]);return k},pc:function(b){return"string"==typeof b&&(b=a.a.cb(b))?f&&f.parse?f.parse(b):(new Function("return "+b))():null},eb:function(b,c,d){if(!f||!f.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return f.stringify(a.a.c(b),c,d)},qc:function(b,c,k){k=k||{};var e=k.params||{},r=k.includeFields||this.vb,m=b;if("object"==typeof b&&"form"===a.a.t(b))for(var m=b.action,q=r.length-1;0<=q;q--)for(var f=a.a.xb(b,r[q]),C=f.length-1;0<=C;C--)e[f[C].name]=f[C].value;c=a.a.c(c);var A=g.createElement("form");A.style.display="none";A.action=m;A.method="post";for(var I in c)b=g.createElement("input"),b.type="hidden",b.name=I,b.value=a.a.eb(a.a.c(c[I])),A.appendChild(b);d(e,function(a,b){var c=g.createElement("input");
c.type="hidden";c.name=a;c.value=b;A.appendChild(c)});g.body.appendChild(A);k.submitter?k.submitter(A):A.submit();setTimeout(function(){A.parentNode.removeChild(A)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.u);a.b("utils.arrayFirst",a.a.qb);a.b("utils.arrayFilter",a.a.ta);a.b("utils.arrayGetDistinctValues",a.a.rb);a.b("utils.arrayIndexOf",a.a.m);a.b("utils.arrayMap",a.a.Da);a.b("utils.arrayPushAll",a.a.ga);a.b("utils.arrayRemoveItem",a.a.ua);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",
a.a.vb);a.b("utils.getFormFields",a.a.xb);a.b("utils.peekObservable",a.a.Xa);a.b("utils.postJson",a.a.qc);a.b("utils.parseJson",a.a.pc);a.b("utils.registerEventHandler",a.a.n);a.b("utils.stringifyJson",a.a.eb);a.b("utils.range",a.a.sc);a.b("utils.toggleDomNodeCssClass",a.a.Ba);a.b("utils.triggerEvent",a.a.oa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.G);a.b("utils.addOrRemoveItem",a.a.ea);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=
this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.e=new function(){function a(h,e){var q=h[c];if(!q||"null"===q||!d[q]){if(!e)return v;q=h[c]="ko"+b++;d[q]={}}return d[q]}var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===v?v:d[c]},set:function(b,c,d){if(d!==v||a(b,!1)!==v)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},F:function(){return b++ +
c}}};a.b("utils.domData",a.a.e);a.b("utils.domData.clear",a.a.e.clear);a.a.w=new function(){function c(b,d){var h=a.a.e.get(b,e);h===v&&d&&(h=[],a.a.e.set(b,e,h));return h}function d(b){var e=c(b,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](b);a.a.e.clear(b);a.a.w.cleanExternalData(b);if(g[b.nodeType])for(e=b.firstChild;b=e;)e=b.nextSibling,8===b.nodeType&&d(b)}var e=a.a.e.F(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{da:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");
c(a,!0).push(b)},Kb:function(b,d){var r=c(b,!1);r&&(a.a.ua(r,d),0==r.length&&a.a.e.set(b,e,v))},R:function(b){if(f[b.nodeType]&&(d(b),g[b.nodeType])){var c=[];a.a.ga(c,b.getElementsByTagName("*"));for(var h=0,e=c.length;h<e;h++)d(c[h])}return b},removeNode:function(b){a.R(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.R=a.a.w.R;a.removeNode=a.a.w.removeNode;a.b("cleanNode",a.R);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",
a.a.w);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.w.da);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.w.Kb);(function(){a.a.ba=function(c){var d;if(b)if(b.parseHTML)d=b.parseHTML(c)||[];else{if((d=b.clean([c]))&&d[0]){for(c=d[0];c.parentNode&&11!==c.parentNode.nodeType;)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}}else{var k=a.a.cb(c).toLowerCase();d=g.createElement("div");k=k.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];c="ignored<div>"+k[1]+c+k[2]+"</div>";for("function"==typeof e.innerShiv?d.appendChild(e.innerShiv(c)):d.innerHTML=c;k[0]--;)d=d.lastChild;d=a.a.S(d.lastChild.childNodes)}return d};a.a.$a=function(c,d){a.a.Ka(c);d=a.a.c(d);if(null!==d&&d!==v)if("string"!=typeof d&&(d=d.toString()),b)b(c).html(d);else for(var e=a.a.ba(d),f=0;f<e.length;f++)c.appendChild(e[f])}})();a.b("utils.parseHtmlFragment",
a.a.ba);a.b("utils.setHtml",a.a.$a);a.D=function(){function b(c,d){if(c)if(8==c.nodeType){var e=a.D.Gb(c.nodeValue);null!=e&&d.push({bc:c,mc:e})}else if(1==c.nodeType)for(var e=0,r=c.childNodes,f=r.length;e<f;e++)b(r[e],d)}var c={};return{Ua:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+
b+"]--\x3e"},Rb:function(a,b){var d=c[a];if(d===v)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,b||[]),!0}finally{delete c[a]}},Sb:function(c,d){var e=[];b(c,e);for(var r=0,f=e.length;r<f;r++){var m=e[r].bc,p=[m];d&&a.a.ga(p,d);a.D.Rb(e[r].mc,p);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Gb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.D);a.b("memoization.memoize",a.D.Ua);
a.b("memoization.unmemoize",a.D.Rb);a.b("memoization.parseMemoText",a.D.Gb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.D.Sb);a.La={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.j({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?u:t;a.Ta(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:n}};var E=
{undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.La);a.Pb=function(b,c,d){this.target=b;this.wa=c;this.ac=d;this.Cb=!1;a.A(this,"dispose",this.K)};a.Pb.prototype.K=function(){this.Cb=!0;this.ac()};a.P=function(){a.a.Aa(this,a.P.fn);this.M={}};var z={U:function(b,c,d){var e=this;d=d||"change";var f=new a.Pb(e,c?b.bind(c):b,function(){a.a.ua(e.M[d],f);e.nb&&e.nb()});e.va&&e.va(d);e.M[d]||(e.M[d]=[]);e.M[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";if(this.Ab(c))try{a.k.Ea();
for(var d=this.M[c].slice(0),e=0,f;f=d[e];++e)f.Cb||f.wa(b)}finally{a.k.end()}},Ta:function(b){var c=this,d=a.C(c),e,f,g;c.qa||(c.qa=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.kb(a):c.qa(a,b):c.lb(a)});var q=b(function(){d&&g===c&&(g=c());e=!1;c.Pa(f,g)&&c.qa(f=g)});c.lb=function(a){e=!0;g=a;q()};c.kb=function(a){e||(f=a,c.qa(a,"beforeChange"))}},Ab:function(a){return this.M[a]&&this.M[a].length},yb:function(){var b=0;a.a.G(this.M,function(a,c){b+=c.length});
return b},Pa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.G(b,function(b,d){var e=a.La[b];"function"==typeof e&&(c=e(c,d)||c)});return c}};a.A(z,"subscribe",z.U);a.A(z,"extend",z.extend);a.A(z,"getSubscriptionsCount",z.yb);a.a.xa&&a.a.za(z,Function.prototype);a.P.fn=z;a.Db=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.P);a.b("isSubscribable",a.Db);a.Y=a.k=function(){function b(a){d.push(e);
e=a}function c(){e=d.pop()}var d=[],e,f=0;return{Ea:b,end:c,Jb:function(b){if(e){if(!a.Db(b))throw Error("Only subscribable things can act as dependencies");e.wa(b,b.Vb||(b.Vb=++f))}},B:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},la:function(){if(e)return e.s.la()},ma:function(){if(e)return e.ma}}}();a.b("computedContext",a.Y);a.b("computedContext.getDependenciesCount",a.Y.la);a.b("computedContext.isInitial",a.Y.ma);a.b("computedContext.isSleeping",a.Y.Ac);a.p=function(b){function c(){if(0<
arguments.length)return c.Pa(d,arguments[0])&&(c.X(),d=arguments[0],c.W()),this;a.k.Jb(c);return d}var d=b;a.P.call(c);a.a.Aa(c,a.p.fn);c.v=function(){return d};c.W=function(){c.notifySubscribers(d)};c.X=function(){c.notifySubscribers(d,"beforeChange")};a.A(c,"peek",c.v);a.A(c,"valueHasMutated",c.W);a.A(c,"valueWillMutate",c.X);return c};a.p.fn={equalityComparer:n};var x=a.p.rc="__ko_proto__";a.p.fn[x]=a.p;a.a.xa&&a.a.za(a.p.fn,a.P.fn);a.Ma=function(b,c){return null===b||b===v||b[x]===v?!1:b[x]===
c?!0:a.Ma(b[x],c)};a.C=function(b){return a.Ma(b,a.p)};a.Ra=function(b){return"function"==typeof b&&b[x]===a.p||"function"==typeof b&&b[x]===a.j&&b.hc?!0:!1};a.b("observable",a.p);a.b("isObservable",a.C);a.b("isWriteableObservable",a.Ra);a.b("isWritableObservable",a.Ra);a.aa=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.p(b);a.a.Aa(b,a.aa.fn);return b.extend({trackArrayChanges:!0})};
a.aa.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.C(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];e(g)&&(0===d.length&&this.X(),d.push(g),c.splice(f,1),f--)}d.length&&this.W();return d},removeAll:function(b){if(b===v){var c=this.v(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return b?this.remove(function(c){return 0<=a.a.m(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.C(b)?function(a){return a===b}:b;this.X();
for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.W()},destroyAll:function(b){return b===v?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.m(b,c)}):[]},indexOf:function(b){var c=this();return a.a.m(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.v()[c]=b,this.W())}};a.a.u("pop push reverse shift sort splice unshift".split(" "),function(b){a.aa.fn[b]=function(){var a=this.v();this.X();this.sb(a,b,arguments);a=a[b].apply(a,arguments);this.W();
return a}});a.a.u(["slice"],function(b){a.aa.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.xa&&a.a.za(a.aa.fn,a.p.fn);a.b("observableArray",a.aa);a.La.trackArrayChanges=function(b){function c(){if(!d){d=!0;var g=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++f;return g.apply(this,arguments)};var m=[].concat(b.v()||[]);e=null;b.U(function(c){c=[].concat(c||[]);if(b.Ab("arrayChange")){var d;if(!e||1<f)e=a.a.Fa(m,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,
"arrayChange")}m=c;e=null;f=0})}}if(!b.sb){var d=!1,e=null,f=0,g=b.U;b.U=b.subscribe=function(a,b,d){"arrayChange"===d&&c();return g.apply(this,arguments)};b.sb=function(b,c,h){function g(a,b,c){return r[r.length]={status:a,value:b,index:c}}if(d&&!f){var r=[],l=b.length,H=h.length,G=0;switch(c){case "push":G=l;case "unshift":for(c=0;c<H;c++)g("added",h[c],G+c);break;case "pop":G=l-1;case "shift":l&&g("deleted",b[G],G);break;case "splice":c=Math.min(Math.max(0,0>h[0]?l+h[0]:h[0]),l);for(var l=1===
H?l:Math.min(c+(h[1]||0),l),H=c+H-2,G=Math.max(l,H),I=[],n=[],t=2;c<G;++c,++t)c<l&&n.push(g("deleted",b[c],c)),c<H&&I.push(g("added",h[t],c));a.a.wb(n,I);break;default:return}e=r}}}};a.s=a.j=function(b,c,d){function e(){a.a.G(B,function(a,b){b.K()});B={}}function f(){e();K=0;n=!0;l=!1}function g(){var a=m.throttleEvaluation;a&&0<=a?(clearTimeout(T),T=setTimeout(q,a)):m.ib?m.ib():q()}function q(b){if(H){if(t)throw Error("A 'pure' computed must not be called recursively");}else if(!n){if(z&&z()){if(!G){E();
return}}else G=!1;H=!0;if(u)try{var d={};a.k.Ea({wa:function(a,b){d[b]||(d[b]=1,++K)},s:m,ma:v});K=0;D=L.call(c)}finally{a.k.end(),H=!1}else try{var e=B,h=K;a.k.Ea({wa:function(a,b){n||(h&&e[b]?(B[b]=e[b],++K,delete e[b],--h):B[b]||(B[b]=a.U(g),++K))},s:m,ma:t?v:!K});B={};K=0;try{var k=c?L.call(c):L()}finally{a.k.end(),h&&a.a.G(e,function(a,b){b.K()}),l=!1}m.Pa(D,k)&&(m.notifySubscribers(D,"beforeChange"),D=k,!0!==b&&m.notifySubscribers(D))}finally{H=!1}K||E()}}function m(){if(0<arguments.length){if("function"===
typeof w)w.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}a.k.Jb(m);l&&q(!0);return D}function p(){l&&!K&&q(!0);return D}function y(){return l||0<K}var D,l=!0,H=!1,G=!1,n=!1,L=b,t=!1,u=!1;L&&"object"==typeof L?(d=L,L=d.read):(d=d||{},L||(L=d.read));if("function"!=typeof L)throw Error("Pass a function that returns the value of the ko.computed");var w=d.write,
F=d.disposeWhenNodeIsRemoved||d.o||null,x=d.disposeWhen||d.Ia,z=x,E=f,B={},K=0,T=null;c||(c=d.owner);a.P.call(m);a.a.Aa(m,a.j.fn);m.v=p;m.la=function(){return K};m.hc="function"===typeof d.write;m.K=function(){E()};m.Z=y;var U=m.Ta;m.Ta=function(a){U.call(m,a);m.ib=function(){m.kb(D);l=!0;m.lb(m)}};d.pure?(u=t=!0,m.va=function(){u&&(u=!1,q(!0))},m.nb=function(){m.yb()||(e(),u=l=!0)}):d.deferEvaluation&&(m.va=function(){p();delete m.va});a.A(m,"peek",m.v);a.A(m,"dispose",m.K);a.A(m,"isActive",m.Z);
a.A(m,"getDependenciesCount",m.la);F&&(G=!0,F.nodeType&&(z=function(){return!a.a.Ja(F)||x&&x()}));u||d.deferEvaluation||q();F&&y()&&F.nodeType&&(E=function(){a.a.w.Kb(F,E);f()},a.a.w.da(F,E));return m};a.jc=function(b){return a.Ma(b,a.j)};z=a.p.rc;a.j[z]=a.p;a.j.fn={equalityComparer:n};a.j.fn[z]=a.j;a.a.xa&&a.a.za(a.j.fn,a.P.fn);a.b("dependentObservable",a.j);a.b("computed",a.j);a.b("isComputed",a.jc);a.Ib=function(b,c){if("function"===typeof b)return a.s(b,c,{pure:!0});b=a.a.extend({},b);b.pure=
!0;return a.s(b,c)};a.b("pureComputed",a.Ib);(function(){function b(a,e,f){f=f||new d;a=e(a);if("object"!=typeof a||null===a||a===v||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var g=a instanceof Array?[]:{};f.save(a,g);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":g[c]=d;break;case "object":case "undefined":var k=f.get(d);g[c]=k!==v?k:b(d,e,f)}});return g}function c(a,b){if(a instanceof Array){for(var d=
0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.hb=[]}a.Qb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.C(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.Qb(b);return a.a.eb(b,c,d)};d.prototype={save:function(b,c){var d=a.a.m(this.keys,b);0<=d?this.hb[d]=c:(this.keys.push(b),this.hb.push(c))},get:function(b){b=a.a.m(this.keys,
b);return 0<=b?this.hb[b]:v}}})();a.b("toJS",a.Qb);a.b("toJSON",a.toJSON);(function(){a.i={q:function(b){switch(a.a.t(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.e.get(b,a.d.options.Va):7>=a.a.L?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex]):v;default:return b.value}},ca:function(b,c,d){switch(a.a.t(b)){case "option":switch(typeof c){case "string":a.a.e.set(b,a.d.options.Va,
v);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.d.options.Va,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=v;for(var e=-1,f=0,g=b.options.length,q;f<g;++f)if(q=a.i.q(b.options[f]),q==c||""==q&&c===v){e=f;break}if(d||0<=e||c===v&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===v)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.q);a.b("selectExtensions.writeValue",a.i.ca);a.h=function(){function b(c){c=a.a.cb(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var d=[],h=c.match(e),k,q,r=0;if(h){h.push(",");for(var l=0,n;n=h[l];++l){var t=n.charCodeAt(0);if(44===t){if(0>=r){k&&d.push(q?{key:k,value:q.join("")}:{unknown:k});k=q=r=0;continue}}else if(58===t){if(!q)continue}else if(47===t&&l&&1<n.length)(t=h[l-1].match(f))&&!g[t[0]]&&(c=c.substr(c.indexOf(n)+1),h=c.match(e),h.push(","),l=-1,n="/");else if(40===t||123===t||91===
t)++r;else if(41===t||125===t||93===t)--r;else if(!k&&!q){k=34===t||39===t?n.slice(1,-1):n;continue}q?q.push(n):q=[n]}}return d}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},q={};return{ha:[],V:q,Wa:b,ya:function(e,p){function f(b,e){var h;if(!C){var p=a.getBindingHandler(b);if(p&&
p.preprocess&&!(e=p.preprocess(e,b,f)))return;if(p=q[b])h=e,0<=a.a.m(c,h)?h=!1:(p=h.match(d),h=null===p?!1:p[1]?"Object("+p[1]+")"+p[2]:h),p=h;p&&l.push("'"+b+"':function(_z){"+h+"=_z}")}H&&(e="function(){return "+e+" }");g.push("'"+b+"':"+e)}p=p||{};var g=[],l=[],H=p.valueAccessors,C=p.bindingParams,A="string"===typeof e?b(e):e;a.a.u(A,function(a){f(a.key||a.unknown,a.value)});l.length&&f("_ko_property_writers","{"+l.join(",")+" }");return g.join(",")},lc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==
b)return!0;return!1},pa:function(b,c,d,e,h){if(b&&a.C(b))!a.Ra(b)||h&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.ha);a.b("expressionRewriting.parseObjectLiteral",a.h.Wa);a.b("expressionRewriting.preProcessBindings",a.h.ya);a.b("expressionRewriting._twoWayBindings",a.h.V);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.ya);(function(){function b(a){return 8==
a.nodeType&&l.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&q.test(f?a.text:a.nodeValue)}function d(a,e){for(var k=a,f=1,g=[];k=k.nextSibling;){if(c(k)&&(f--,0===f))return g;g.push(k);b(k)&&f++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=g&&"\x3c!--test--\x3e"===g.createComment("test").text,l=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
q=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0};a.f={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},ja:function(c){if(b(c)){c=a.f.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Ka(c)},T:function(c,d){if(b(c)){a.f.ja(c);for(var e=c.nextSibling,k=0,f=d.length;k<f;k++)e.parentNode.insertBefore(d[k],e)}else a.a.T(c,d)},Hb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Bb:function(c,
d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.f.Hb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},gc:b,xc:function(a){return(a=(f?a.text:a.nodeValue).match(l))?a[1]:null},Fb:function(d){if(m[a.a.t(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var f;f=k.firstChild;
var g=null;if(f){do if(g)g.push(f);else if(b(f)){var q=e(f,!0);q?f=q:g=[f]}else c(f)&&(g=[f]);while(f=f.nextSibling)}if(f=g)for(g=k.nextSibling,q=0;q<f.length;q++)g?d.insertBefore(f[q],g):d.appendChild(f[q])}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.f);a.b("virtualElements.allowedBindings",a.f.Q);a.b("virtualElements.emptyNode",a.f.ja);a.b("virtualElements.insertAfter",a.f.Bb);a.b("virtualElements.prepend",a.f.Hb);a.b("virtualElements.setDomNodeChildren",a.f.T);(function(){a.J=function(){this.Yb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.f.gc(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.g.mb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.mb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.f.xc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Yb,g=b+(e&&e.valueAccessors||""),q;if(!(q=f[g])){var m,p="with($context){with($data||{}){return{"+a.h.ya(b,e)+"}}}";m=new Function("$context","$element",p);q=f[g]=m}return q(c,d)}catch(y){throw y.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+y.message,y;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function c(a){return function(){return a}}function d(a){return a()}
function k(b){return a.a.na(a.k.B(b),function(a,c){return function(){return b()[c]}})}function f(a,b){return k(this.getBindings.bind(this,a,b))}function g(b,c,d){var e,h=a.f.firstChild(c),k=a.J.instance,f=k.preprocessNode;if(f){for(;e=h;)h=a.f.nextSibling(e),f.call(k,e);h=a.f.firstChild(c)}for(;e=h;)h=a.f.nextSibling(e),l(b,e,d)}function l(b,c,d){var e=!0,h=1===c.nodeType;h&&a.f.Fb(c);if(h&&d||a.J.instance.nodeHasBindings(c))e=m(c,null,b,d).shouldBindDescendants;e&&!y[a.a.t(c)]&&g(b,c,!h)}function q(b){var c=
[],d={},e=[];a.a.G(b,function O(h){if(!d[h]){var k=a.getBindingHandler(h);k&&(k.after&&(e.push(h),a.a.u(k.after,function(c){if(b[c]){if(-1!==a.a.m(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));O(c)}}),e.length--),c.push({key:h,zb:k}));d[h]=!0}});return c}function m(b,c,e,h){var k=a.a.e.get(b,D);if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");a.a.e.set(b,D,!0)}!k&&h&&a.Ob(b,e);var g;if(c&&"function"!==
typeof c)g=c;else{var p=a.J.instance,m=p.getBindingAccessors||f,y=a.j(function(){(g=c?c(e,b):m.call(p,b,e))&&e.I&&e.I();return g},null,{o:b});g&&y.Z()||(y=null)}var l;if(g){var A=y?function(a){return function(){return d(y()[a])}}:function(a){return g[a]},n=function(){return a.a.na(y?y():g,d)};n.get=function(a){return g[a]&&d(A(a))};n.has=function(a){return a in g};h=q(g);a.a.u(h,function(c){var d=c.zb.init,h=c.zb.update,k=c.key;if(8===b.nodeType&&!a.f.Q[k])throw Error("The binding '"+k+"' cannot be used with virtual elements");
try{"function"==typeof d&&a.k.B(function(){var a=d(b,A(k),n,e.$data,e);if(a&&a.controlsDescendantBindings){if(l!==v)throw Error("Multiple bindings ("+l+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=k}}),"function"==typeof h&&a.j(function(){h(b,A(k),n,e.$data,e)},null,{o:b})}catch(f){throw f.message='Unable to process binding "'+k+": "+g[k]+'"\nMessage: '+f.message,f;}})}return{shouldBindDescendants:l===v}}
function p(b){return b&&b instanceof a.N?b:new a.N(b)}a.d={};var y={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.N=function(b,c,d,e){var h=this,k="function"==typeof b&&!a.C(b),f,g=a.j(function(){var f=k?b():b,p=a.a.c(f);c?(c.I&&c.I(),a.a.extend(h,c),g&&(h.I=g)):(h.$parents=[],h.$root=p,h.ko=a);h.$rawData=f;h.$data=p;d&&(h[d]=p);e&&e(h,c,p);return h.$data},null,{Ia:function(){return f&&!a.a.ob(f)},o:!0});g.Z()&&(h.I=g,g.equalityComparer=null,f=[],g.Tb=function(b){f.push(b);a.a.w.da(b,
function(b){a.a.ua(f,b);f.length||(g.K(),h.I=g=v)})})};a.N.prototype.createChildContext=function(b,c,d){return new a.N(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.N.prototype.extend=function(b){return new a.N(this.I||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var D=a.a.e.F(),n=a.a.e.F();a.Ob=function(b,c){if(2==arguments.length)a.a.e.set(b,n,c),
c.I&&c.I.Tb(b);else return a.a.e.get(b,n)};a.ra=function(b,c,d){1===b.nodeType&&a.f.Fb(b);return m(b,c,p(d),!0)};a.Wb=function(b,d,e){e=p(e);return a.ra(b,"function"===typeof d?k(d.bind(null,e,b)):a.a.na(d,c),e)};a.Ca=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(p(a),b,!0)};a.pb=function(a,c){!b&&e.jQuery&&(b=e.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||e.document.body;l(p(a),
c,!0)};a.Ha=function(b){switch(b.nodeType){case 1:case 8:var c=a.Ob(b);if(c)return c;if(b.parentNode)return a.Ha(b.parentNode)}return v};a.$b=function(b){return(b=a.Ha(b))?b.$data:v};a.b("bindingHandlers",a.d);a.b("applyBindings",a.pb);a.b("applyBindingsToDescendants",a.Ca);a.b("applyBindingAccessorsToNode",a.ra);a.b("applyBindingsToNode",a.Wb);a.b("contextFor",a.Ha);a.b("dataFor",a.$b)})();(function(b){function c(e,m){var p=f.hasOwnProperty(e)?f[e]:b,y;p||(p=f[e]=new a.P,d(e,function(a){g[e]=a;delete f[e];
y?p.notifySubscribers(a):setTimeout(function(){p.notifySubscribers(a)},0)}),y=!0);p.U(m)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a)}):b(null)})}function e(c,d,k,f){f||(f=a.g.loaders.slice(0));var g=f.shift();if(g){var r=g[c];if(r){var l=!1;if(r.apply(g,d.concat(function(a){l?k(null):null!==a?k(a):e(c,d,k,f)}))!==b&&(l=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");
}else e(c,d,k,f)}else k(null)}var f={},g={};a.g={get:function(a,d){var e=g.hasOwnProperty(a)?g[a]:b;e?setTimeout(function(){d(e)},0):c(a,d)},tb:function(a){delete g[a]},jb:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.tb)})();(function(){function b(c,d,e,h){function k(){0===--g&&h(f)}var f={},g=2,q=e.template;e=e.viewModel;q?A(d,q,function(b){a.g.jb("loadTemplate",[c,b],function(a){f.template=a;k()})}):k();e?A(d,e,function(b){a.g.jb("loadViewModel",
[c,b],function(a){f[m]=a;k()})}):k()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.t(b)){case "script":return a.a.ba(b.text);case "textarea":return a.a.ba(b.value);case "template":if(f(b.content))return a.a.ia(b.content.childNodes)}return a.a.ia(b.childNodes)}function f(a){return e.DocumentFragment?
a instanceof DocumentFragment:a&&11===a.nodeType}function A(a,b,c){"string"===typeof b.require?l||e.require?(l||e.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function n(a){return function(b){throw Error("Component '"+a+"': "+b);}}var q={};a.g.tc=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.Qa(b))throw Error("Component "+b+" is already registered");q[b]=c};a.g.Qa=function(a){return a in q};a.g.wc=function(b){delete q[b];a.g.tb(b)};a.g.ub={getConfig:function(a,
b){b(q.hasOwnProperty(a)?q[a]:null)},loadComponent:function(a,c,d){var e=n(a);A(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,h){b=n(b);if("string"===typeof c)h(a.a.ba(c));else if(c instanceof Array)h(c);else if(f(c))h(a.a.S(c.childNodes));else if(c.element)if(c=c.element,e.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)h(d(c));else if("string"===typeof c){var m=g.getElementById(c);m?h(d(m)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+
c)},loadViewModel:function(a,b,d){c(n(a),b,d)}};var m="createViewModel";a.b("components.register",a.g.tc);a.b("components.isRegistered",a.g.Qa);a.b("components.unregister",a.g.wc);a.b("components.defaultLoader",a.g.ub);a.g.loaders.push(a.g.ub);a.g.Ub=q})();(function(){function b(d,e){var h=d.getAttribute("params");if(h){var h=c.parseBindingsString(h,e,d,{valueAccessors:!0,bindingParams:!0}),h=a.a.na(h,function(b){return a.s(b,null,{o:d})}),f=a.a.na(h,function(b){return b.Z()?a.s(function(){return a.a.c(b())},
null,{o:d}):b.v()});f.hasOwnProperty("$raw")||(f.$raw=h);return f}return{$raw:{}}}a.g.getComponentNameForNode=function(b){b=a.a.t(b);return a.g.Qa(b)&&b};a.g.mb=function(c,d,e,f){if(1===d.nodeType){var g=a.g.getComponentNameForNode(d);if(g){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var m={name:g,params:b(d,e)};c.component=f?function(){return m}:m}}return c};var c=new a.J;9>a.a.L&&(a.g.register=function(a){return function(b){g.createElement(b);
return a.apply(this,arguments)}}(a.g.register),g.createDocumentFragment=function(b){return function(){var c=b(),d=a.g.Ub,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(g.createDocumentFragment))})();(function(){var b=0;a.d.component={init:function(c,d,e,f,g){function q(){var a=m&&m.dispose;"function"===typeof a&&a.call(m);p=null}var m,p;a.a.w.da(c,q);a.s(function(){var e=a.a.c(d()),f,l;"string"===typeof e?f=e:(f=a.a.c(e.name),l=a.a.c(e.params));if(!f)throw Error("No component name specified");
var n=p=++b;a.g.get(f,function(b){if(p===n){q();if(!b)throw Error("Unknown component '"+f+"'");var d=b.template;if(!d)throw Error("Component '"+f+"' has no template");d=a.a.ia(d);a.f.T(c,d);var d=l,e=b.createViewModel;b=e?e.call(b,d,{element:c}):d;d=g.createChildContext(b);m=b;a.Ca(d,c)}})},null,{o:c});return{controlsDescendantBindings:!0}}};a.f.Q.component=!0})();var B={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.G(d,function(c,d){d=a.a.c(d);var e=
!1===d||null===d||d===v;e&&b.removeAttribute(c);8>=a.a.L&&c in B?(c=B[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.a.Mb(b,e?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var f=b.checked,q=n?g():f;if(!a.Y.ma()&&(!m||f)){var C=a.k.B(c);p?l!==q?(f&&(a.a.ea(C,q,!0),a.a.ea(C,l,!1)),l=q):a.a.ea(C,q,f):a.h.pa(C,d,"checked",q,!0)}}function f(){var d=a.a.c(c());b.checked=p?0<=a.a.m(d,g()):q?d:g()===d}var g=a.Ib(function(){return d.has("checkedValue")?
a.a.c(d.get("checkedValue")):d.has("value")?a.a.c(d.get("value")):b.value}),q="checkbox"==b.type,m="radio"==b.type;if(q||m){var p=q&&a.a.c(c())instanceof Array,l=p?g():v,n=m||p;m&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.s(e,null,{o:b});a.a.n(b,"click",e);a.s(f,null,{o:b})}}};a.h.V.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.G(d,function(c,d){d=a.a.c(d);a.a.Ba(b,c,d)}):(d=String(d||""),
a.a.Ba(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.Ba(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var g=c()||{};a.a.G(g,function(g){"string"==typeof g&&a.a.n(b,g,function(b){var h,l=c()[g];if(l){try{var n=a.a.S(arguments);e=f.$data;n.unshift(e);h=l.apply(e,n)}finally{!0!==h&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={Eb:function(b){return function(){var c=b(),d=a.a.Xa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.O.Oa};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.O.Oa}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.Eb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.Eb(c),d,e,f)}};a.h.ha.foreach=!1;a.f.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(f){b.__ko_hasfocusUpdating=!0;var g=b.ownerDocument;if("activeElement"in g){var p;try{p=g.activeElement}catch(l){p=g.body}f=p===b}g=c();a.h.pa(g,d,"hasfocus",f,!0);b.__ko_hasfocusLastValue=f;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.n(b,"focus",f);a.a.n(b,"focusin",
f);a.a.n(b,"blur",g);a.a.n(b,"focusout",g)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.B(a.a.oa,null,[b,d?"focusin":"focusout"]))}};a.h.V.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.V.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.$a(b,c())}};w("if");w("ifnot",!1,!0);w("with",!0,!1,function(a,b){return a.createChildContext(b)});var J={};a.d.options={init:function(b){if("select"!==
a.a.t(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.ta(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(n.length){var e=0<=a.a.m(n,a.i.q(d[0]));a.a.Nb(d[0],e);t&&!e&&a.k.B(a.a.oa,null,[b,"change"])}}var q=0!=b.length&&b.multiple?b.scrollTop:null,m=a.a.c(c()),p=d.get("optionsIncludeDestroyed");
c={};var l,n;n=b.multiple?a.a.Da(e(),a.i.q):0<=b.selectedIndex?[a.i.q(b.options[b.selectedIndex])]:[];m&&("undefined"==typeof m.length&&(m=[m]),l=a.a.ta(m,function(b){return p||b===v||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(m=a.a.c(d.get("optionsCaption")),null!==m&&m!==v&&l.unshift(J)));var t=!1;c.beforeRemove=function(a){b.removeChild(a)};m=g;d.has("optionsAfterRender")&&(m=function(b,c){g(0,c);a.k.B(d.get("optionsAfterRender"),null,[c[0],b!==J?b:v])});a.a.Za(b,l,function(c,e,g){g.length&&
(n=g[0].selected?[a.i.q(g[0])]:[],t=!0);e=b.ownerDocument.createElement("option");c===J?(a.a.bb(e,d.get("optionsCaption")),a.i.ca(e,v)):(g=f(c,d.get("optionsValue"),c),a.i.ca(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.bb(e,c));return[e]},c,m);a.k.B(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.ca(b,a.a.c(d.get("value")),!0):(b.multiple?n.length&&e().length<n.length:n.length&&0<=b.selectedIndex?a.i.q(b.options[b.selectedIndex])!==n[0]:n.length||0<=b.selectedIndex)&&a.a.oa(b,"change")});
a.a.dc(b);q&&20<Math.abs(q-b.scrollTop)&&(b.scrollTop=q)}};a.d.options.Va=a.a.e.F();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.n(b,"change",function(){var e=c(),f=[];a.a.u(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.i.q(b))});a.h.pa(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.t(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.u(b.getElementsByTagName("option"),
function(b){var c=0<=a.a.m(d,a.i.q(b));a.a.Nb(b,c)})}};a.h.V.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.G(d,function(c,d){d=a.a.c(d);if(null===d||d===v||!1===d)d="";b.style[c]=d})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.n(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.bb(b,c())}};a.f.Q.text=!0;(function(){if(e&&e.navigator)var b=function(a){if(a)return parseFloat(a[1])},c=e.opera&&e.opera.version&&parseInt(e.opera.version()),d=e.navigator.userAgent,f=b(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=b(d.match(/Firefox\/([^ ]*)/));if(10>a.a.L)var l=a.a.e.F(),q=a.a.e.F(),m=function(b){var c=this.activeElement;(c=c&&a.a.e.get(c,q))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.e.get(d,l)||(a.a.e.set(d,l,!0),a.a.n(d,"selectionchange",
m));a.a.e.set(b,q,c)};a.d.textInput={init:function(b,d,e){function h(c,d){a.a.n(b,c,d)}function k(){var c=a.a.c(d());if(null===c||c===v)c="";t!==v&&c===t?setTimeout(k,4):b.value!==c&&(l=c,b.value=c)}function m(){n||(t=b.value,n=setTimeout(q,4))}function q(){clearTimeout(n);t=n=v;var c=b.value;l!==c&&(l=c,a.h.pa(d(),e,"textInput",c))}var l=b.value,n,t;10>a.a.L?(h("propertychange",function(a){"value"===a.propertyName&&q()}),8==a.a.L&&(h("keyup",q),h("keydown",q)),8<=a.a.L&&(p(b,q),h("dragend",m))):
(h("input",q),5>f&&"textarea"===a.a.t(b)?(h("keydown",m),h("paste",m),h("cut",m)):11>c?h("keydown",m):4>g&&(h("DOMAutoComplete",q),h("dragdrop",q),h("drop",q)));h("change",q);a.s(k,null,{o:b})}};a.h.V.textInput=!0;a.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Zb;a.a.Mb(b,d)}}};a.d.uniqueName.Zb=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=
b.type&&"radio"!=b.type){var e=["change"],f=d.get("valueUpdate"),g=!1,q=null;f&&("string"==typeof f&&(f=[f]),a.a.ga(e,f),e=a.a.rb(e));var m=function(){q=null;g=!1;var e=c(),f=a.i.q(b);a.h.pa(e,d,"value",f)};!a.a.L||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.m(e,"propertychange")||(a.a.n(b,"propertychange",function(){g=!0}),a.a.n(b,"focus",function(){g=!1}),a.a.n(b,"blur",function(){g&&m()}));a.a.u(e,function(c){var d=m;a.a.vc(c,
"after")&&(d=function(){q=a.i.q(b);setTimeout(m,0)},c=c.substring(5));a.a.n(b,c,d)});var p=function(){var e=a.a.c(c()),f=a.i.q(b);if(null!==q&&e===q)setTimeout(p,0);else if(e!==f)if("select"===a.a.t(b)){var g=d.get("valueAllowUnset"),f=function(){a.i.ca(b,e,g)};f();g||e===a.i.q(b)?setTimeout(f,0):a.k.B(a.a.oa,null,[b,"change"])}else a.i.ca(b,e)};a.s(p,null,{o:b})}else a.ra(b,{checkedValue:c})},update:function(){}};a.h.V.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;
d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,g){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.H=function(){};a.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.H.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||g;var d=
c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.r.l(d)}if(1==b.nodeType||8==b.nodeType)return new a.r.fa(b);throw Error("Unknown template type: "+b);};a.H.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.H.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.H.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,
c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.H);a.fb=function(){function b(c,d,e,f){c=a.h.Wa(c);for(var g=a.h.ha,k=0;k<c.length;k++){var h=c[k].key;if(g.hasOwnProperty(h)){var l=g[h];if("function"===typeof l){if(h=l(c[k].value))throw Error(h);}else if(!l)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.ya(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+
"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.fb.nc(b,c)},d)},nc:function(a,e){return a.replace(c,function(a,c,d,f,g){return b(g,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},Xb:function(b,c){return a.D.Ua(function(d,
e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.ra(f,b,e)})}}}();a.b("__tr_ambtns",a.fb.Xb);(function(){a.r={};a.r.l=function(a){this.l=a};a.r.l.prototype.text=function(){var b=a.a.t(this.l),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.l[b];var c=arguments[0];"innerHTML"===b?a.a.$a(this.l,c):this.l[b]=c};var b=a.a.e.F()+"_";a.r.l.prototype.data=function(c){if(1===arguments.length)return a.a.e.get(this.l,b+c);a.a.e.set(this.l,b+c,arguments[1])};
var c=a.a.e.F();a.r.fa=function(a){this.l=a};a.r.fa.prototype=new a.r.l;a.r.fa.prototype.text=function(){if(0==arguments.length){var b=a.a.e.get(this.l,c)||{};b.gb===v&&b.Ga&&(b.gb=b.Ga.innerHTML);return b.gb}a.a.e.set(this.l,c,{gb:arguments[0]})};a.r.l.prototype.nodes=function(){if(0==arguments.length)return(a.a.e.get(this.l,c)||{}).Ga;a.a.e.set(this.l,c,{Ga:arguments[0]})};a.b("templateSources",a.r);a.b("templateSources.domElement",a.r.l);a.b("templateSources.anonymousTemplate",a.r.fa)})();(function(){function b(c,
d,e){var f;for(d=a.f.nextSibling(d);c&&(f=c)!==d;)c=a.f.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var f=d[0],g=d[d.length-1],k=f.parentNode,l=a.J.instance,n=l.preprocessNode;if(n){b(f,g,function(a,b){var c=a.previousSibling,d=n.call(l,a);d&&(a===f&&(f=d[0]||b),a===g&&(g=d[d.length-1]||c))});d.length=0;if(!f)return;f===g?d.push(f):(d.push(f,g),a.a.ka(d,k))}b(f,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.pb(e,b)});b(f,g,function(b){1!==b.nodeType&&8!==b.nodeType||a.D.Sb(b,[e])});a.a.ka(d,
k)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,g,h,l,n){n=n||{};var t=b&&d(b),t=t&&t.ownerDocument,u=n.templateEngine||f;a.fb.ec(h,u,t);h=u.renderTemplate(h,l,n,t);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");t=!1;switch(g){case "replaceChildren":a.f.T(b,h);t=!0;break;case "replaceNode":a.a.Lb(b,h);t=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
g);}t&&(c(h,l),n.afterRender&&a.k.B(n.afterRender,null,[h,l.$data]));return h}var f;a.ab=function(b){if(b!=v&&!(b instanceof a.H))throw Error("templateEngine must inherit from ko.templateEngine");f=b};a.Ya=function(b,c,g,h,l){g=g||{};if((g.templateEngine||f)==v)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(h){var n=d(h);return a.j(function(){var f=c&&c instanceof a.N?c:new a.N(a.a.c(c)),r=a.C(b)?b():"function"===typeof b?b(f.$data,f):b,f=e(h,l,r,f,g);
"replaceNode"==l&&(h=f,n=d(h))},null,{Ia:function(){return!n||!a.a.Ja(n)},o:n&&"replaceNode"==l?n.parentNode:n})}return a.D.Ua(function(d){a.Ya(b,c,g,d,"replaceNode")})};a.uc=function(b,d,f,g,h){function k(a,b){c(b,n);f.afterRender&&f.afterRender(b,a)}function l(c,d){n=h.createChildContext(c,f.as,function(a){a.$index=d});var g=a.C(b)?b():"function"===typeof b?b(c,n):b;return e(null,"ignoreTargetNode",g,n,f)}var n;return a.j(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.ta(b,
function(b){return f.includeDestroyed||b===v||null===b||!a.a.c(b._destroy)});a.k.B(a.a.Za,null,[g,b,l,f,k])},null,{o:g})};var g=a.a.e.F();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.f.ja(b):(d=a.f.childNodes(b),d=a.a.oc(d),(new a.r.fa(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var h=c(),k;c=a.a.c(h);d=!0;e=null;"string"==typeof c?c={}:(h=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),k=a.a.c(c.data));
"foreach"in c?e=a.uc(h||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=a.Ya(h||b,f,c,b)):a.f.ja(b);f=e;(k=a.a.e.get(b,g))&&"function"==typeof k.K&&k.K();a.a.e.set(b,g,f&&f.Z()?f:v)}};a.h.ha.template=function(b){b=a.h.Wa(b);return 1==b.length&&b[0].unknown||a.h.lc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.f.Q.template=!0})();a.b("setTemplateEngine",a.ab);a.b("renderTemplate",a.Ya);a.a.wb=function(a,b,c){if(a.length&&
b.length){var d,e,f,g,l;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;l=b[f];++f)if(g.value===l.value){g.moved=l.index;l.moved=g.index;b.splice(f,1);d=f=0;break}d+=f}}};a.a.Fa=function(){function b(c,d,e,f,g){var h=Math.min,l=Math.max,p=[],n,t=c.length,u,v=d.length,w=v-t||1,x=t+v+1,z,B,E;for(n=0;n<=t;n++)for(B=z,p.push(z=[]),E=h(v,n+w),u=l(0,n-1);u<=E;u++)z[u]=u?n?c[n-1]===d[u-1]?B[u-1]:h(B[u]||x,z[u-1]||x)+1:u+1:n+1;h=[];l=[];w=[];n=t;for(u=v;n||u;)v=p[n][u]-1,u&&v===p[n][u-1]?l.push(h[h.length]={status:e,
value:d[--u],index:u}):n&&v===p[n-1][u]?w.push(h[h.length]={status:f,value:c[--n],index:n}):(--u,--n,g.sparse||h.push({status:"retained",value:d[u]}));a.a.wb(l,w,10*t);return h.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Fa);(function(){function b(c,d,e,f,g){var h=[],l=a.j(function(){var b=d(e,g,a.a.ka(h,c))||[];0<h.length&&(a.a.Lb(h,
b),f&&a.k.B(f,null,[e,b,g]));h.length=0;a.a.ga(h,b)},null,{o:c,Ia:function(){return!a.a.ob(h)}});return{$:h,j:l.Z()?l:v}}var c=a.a.e.F();a.a.Za=function(d,e,f,g,l){function m(b,c){F=u[c];E!==c&&(R[b]=F);F.Na(E++);a.a.ka(F.$,d);z.push(F);O.push(F)}function n(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.u(c[d].$,function(a){b(a,d,c[d].sa)})}e=e||[];g=g||{};var t=a.a.e.get(d,c)===v,u=a.a.e.get(d,c)||[],w=a.a.Da(u,function(a){return a.sa}),x=a.a.Fa(w,e,g.dontLimitMoves),z=[],B=0,E=0,J=[],O=[];e=
[];for(var R=[],w=[],F,M=0,P,Q;P=x[M];M++)switch(Q=P.moved,P.status){case "deleted":Q===v&&(F=u[B],F.j&&F.j.K(),J.push.apply(J,a.a.ka(F.$,d)),g.beforeRemove&&(e[M]=F,O.push(F)));B++;break;case "retained":m(M,B++);break;case "added":Q!==v?m(M,Q):(F={sa:P.value,Na:a.p(E++)},z.push(F),O.push(F),t||(w[M]=F))}n(g.beforeMove,R);a.a.u(J,g.beforeRemove?a.R:a.removeNode);for(var M=0,t=a.f.firstChild(d),S;F=O[M];M++){F.$||a.a.extend(F,b(d,f,F.sa,l,F.Na));for(B=0;x=F.$[B];t=x.nextSibling,S=x,B++)x!==t&&a.f.Bb(d,
x,S);!F.ic&&l&&(l(F.sa,F.$,F.Na),F.ic=!0)}n(g.beforeRemove,e);n(g.afterMove,R);n(g.afterAdd,w);a.a.e.set(d,c,z)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Za);a.O=function(){this.allowTemplateRewriting=!1};a.O.prototype=new a.H;a.O.prototype.renderTemplateSource=function(b){var c=(9>a.a.L?0:b.nodes)?b.nodes():null;if(c)return a.a.S(c.cloneNode(!0).childNodes);b=b.text();return a.a.ba(b)};a.O.Oa=new a.O;a.ab(a.O.Oa);a.b("nativeTemplateEngine",a.O);(function(){a.Sa=function(){var a=this.kc=
function(){if(!b||!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,
c,d);d.appendTo(g.createElement("div"));b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Sa.prototype=new a.H;var c=new a.Sa;0<c.kc&&a.ab(c);a.b("jqueryTmplTemplateEngine",a.Sa)})()})})()})();
(function(v){v.Tools={};v.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var g=16*Math.random()|0;return("x"===e?g:g&3|8).toString(16)})};v.Tools.base64Id=function(e){for(var g="",c,b=0;b<e;b++)c=62*Math.random()|0,g+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[c];return g};v.Tools.createCookie=function(e,g,c){var b="";c&&(b=new Date,b.setTime(b.getTime()+864E5*c),b="; expires="+b.toGMTString());document.cookie=e+"="+g+b+"; path=/"};
v.Tools.readCookie=function(e){e+="=";for(var g=document.cookie.split(";"),c=0;c<g.length;c++){for(var b=g[c];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(e))return b.substring(e.length,b.length)}return null};v.Tools.eraseCookie=function(e){v.Tools.createCookie(e,"",-1)}})(window.EP=window.EP||{});
(function(v){v.User=function(e,g){var c=this;c.uuid=g||v.Tools.uuid();c.name=ko.observable("");c.displayName=ko.pureComputed(function(){return c.name()||"new user"});c.estimation=ko.observable(!1);c.broadcast=function(){e.emit("update",ko.toJSON(c))};c.loadFromCookie=function(){v.Tools.readCookie("ep.user.name")&&v.Tools.readCookie("ep.user.uuid")&&(c.name(v.Tools.readCookie("ep.user.name")),c.uuid=v.Tools.readCookie("ep.user.uuid"))};c.saveToCookie=function(){v.Tools.createCookie("ep.user.name",
c.name());v.Tools.createCookie("ep.user.uuid",c.uuid)};c.isConnected=ko.observable(!1)};v.PokerView=function(e){var g=this,c=function(){var b=g.users().map(function(b){return b.estimation()});b.push(g.localUser().estimation());return b.filter(function(b){return!1!==b})},b=function(b){return g.users().filter(function(c){return c.uuid===b})[0]},f=io.connect("/");f.on("connect",function(){g.localUser().isConnected(!0)});f.on("disconnect",function(){g.localUser().isConnected(!1)});f.on("reconnect",function(){g.localUser().isConnected(!0)});
f.on("update",function(c){c=JSON.parse(c);if(void 0!==c.uuid){var e=b(c.uuid);e||(e=new v.User(f,c.uuid),g.users.push(e));e.name(c.name);e.estimation(c.estimation)}else d.isDisposed=!0,g.storyTitle(c.storyTitle),d.isDisposed=!1});f.on("who is there",function(){g.localUser().broadcast();l()});f.on("reconnect",function(){f.emit("join",{groupName:e,userUuid:g.localUser().uuid});g.localUser().broadcast();l()});f.on("user disconnected",function(b){n(b)});f.on("new round",function(){g.localUser().estimation(!1)});
g.initNewRound=function(){g.localUser().estimation(!1);f.emit("new round")};g.localUser=ko.observable(new v.User(f));g.localUser().loadFromCookie();g.localUser().name.subscribe(function(){g.localUser().broadcast();g.localUser().saveToCookie()});g.localUser().estimation.subscribe(function(){g.localUser().broadcast()});f.emit("join",{groupName:e,userUuid:g.localUser().uuid});g.localUser().broadcast();g.users=ko.observableArray([]);g.storyTitle=ko.observable("");var d=g.storyTitle.subscribe(function(){l()});
g.highestEstimation=ko.computed(function(){var b=c(),b=Math.max.apply(null,b);return-Infinity===b?!1:b});g.lowestEstimation=ko.computed(function(){var b=c(),b=Math.min.apply(null,b);return Infinity===b?!1:b});g.estimationsComplete=ko.computed(function(){var b=c().length,d=1+g.users().length;return b===d});var l=function(){var b={storyTitle:g.storyTitle()};f.emit("update",JSON.stringify(b))},n=function(b){var c=g.users().filter(function(c){return c.uuid!==b});g.users(c)}}})(window.EP=window.EP||{});
(function(v){v.bindingHandlers.estimationSelect={init:function(e,g){var c=[0,1,2,3,5,8,13,20,40,100];e.classList.add("estimation-select");for(var b=0;b<c.length;b++)e.insertAdjacentHTML("beforeend",'<button type="button" class="btn  estimation-select__btn  estimation-select__btn-'+c[b]+'">'+c[b]+"</button>");for(var f=e.querySelectorAll("button"),d=function(){var b=g();this.classList.contains("active")?b(!1):b(+this.textContent)},b=0;b<f.length;b++)f[b].addEventListener("click",d);var l=function(b){var d=
g(),e,f;e=c.indexOf(d());-1!==e?f=e+b:(1===b&&(f=0),-1===b&&(f=c.length-1));b=c[f];"undefined"!==typeof b&&d(b)};document.addEventListener("keypress",function(b){b.target.tagName&&"input"===b.target.tagName.toLowerCase()||("+"===b.key&&l(1),"-"===b.key&&l(-1))})},update:function(e,g){for(var c=g(),b=e.querySelectorAll("button"),f=0;f<b.length;f++)+b[f].textContent===c()?b[f].classList.add("active"):b[f].classList.remove("active")}};v.bindingHandlers.editableText={init:function(e,g){e.classList.add("editable-text");
e.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');e.querySelector(".et-form").style.display="none";var c=function(){e.classList.remove("editing");e.querySelector(".et-display").style.display="";e.querySelector(".et-form").style.display="none";g()(e.querySelector("input").value)};
e.querySelector(".et-display").addEventListener("click",function(){e.classList.add("editing");e.querySelector(".et-display").style.display="none";e.querySelector(".et-form").style.display="";e.querySelector(".et-form input").focus()});e.querySelector("button").addEventListener("click",c);e.querySelector("input").addEventListener("keypress",function(b){13===b.keyCode&&c()});e.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(e.classList.remove("editing"),e.querySelector(".et-display").style.display=
"",e.querySelector(".et-form").style.display="none")})},update:function(e,g){var c=g();e.querySelector(".et-label").textContent=c();e.querySelector("input").value=c();c()?e.querySelector(".et-hint").style.display="none":(e.querySelector(".et-hint").textContent=e.getAttribute("data-edit-hint")||"edit",e.querySelector(".et-hint").style.display="")}}})(ko);
(function(v){""===location.hash&&(location.hash=v.Tools.base64Id(8));v=new v.PokerView(location.hash);ko.components.register("card",{template:{element:"card"}});ko.applyBindings(v)})(window.EP=window.EP||{});

!function(r){"object"==typeof exports?module.exports=r():"function"==typeof define&&define.amd?define(r):"undefined"!=typeof window?window.io=r():"undefined"!=typeof global?global.io=r():"undefined"!=typeof self&&(self.io=r())}(function(){return function c(h,e,b){function l(d,v){if(!e[d]){if(!h[d]){var u="function"==typeof require&&require;if(!v&&u)return u(d,!0);if(g)return g(d,!0);throw Error("Cannot find module '"+d+"'");}u=e[d]={exports:{}};h[d][0].call(u.exports,function(a){var b=h[d][1][a];
return l(b?b:a)},u,u.exports,c,h,e,b)}return e[d].exports}for(var g="function"==typeof require&&require,d=0;d<b.length;d++)l(b[d]);return l}({1:[function(c,h,e){h.exports=c("./lib/")},{"./lib/":2}],2:[function(c,h,e){function b(b,a){"object"==typeof b&&(a=b,b=void 0);a=a||{};var g=l(b),B=g.source,c=g.id;a.forceNew||!1===a.multiplex?(t("ignoring socket cache for %s",B),B=d(B,a)):(v[c]||(t("new io instance for %s",B),v[c]=d(B,a)),B=v[c]);return B.socket(g.path)}var l=c("./url"),g=c("socket.io-parser"),
d=c("./manager"),t=c("debug")("socket.io-client");h.exports=e=b;var v=e.managers={};e.protocol=g.protocol;e.connect=b;e.Manager=c("./manager");e.Socket=c("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:8,"socket.io-parser":39}],3:[function(c,h,e){function b(a,g){if(!(this instanceof b))return new b(a,g);"object"==typeof a&&(g=a,a=void 0);g=g||{};g.path=g.path||"/socket.io";this.nsps={};this.subs=[];this.opts=g;this.reconnection(!1!==g.reconnection);this.reconnectionAttempts(g.reconnectionAttempts||
Infinity);this.reconnectionDelay(g.reconnectionDelay||1E3);this.reconnectionDelayMax(g.reconnectionDelayMax||5E3);this.timeout(null==g.timeout?2E4:g.timeout);this.readyState="closed";this.uri=a;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new d.Encoder;this.decoder=new d.Decoder;this.open()}c("./url");var l=c("engine.io-client"),g=c("./socket");e=c("emitter");var d=c("socket.io-parser"),t=c("./on"),v=c("bind");c("object-component");var u=c("debug")("socket.io-client:manager");
h.exports=b;e(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;
this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){u("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;u("opening %s",this.uri);var b=this.engine=l(this.uri,this.opts),g=this;this.readyState=
"opening";var d=t(b,"open",function(){g.onopen();a&&a()}),c=t(b,"error",function(f){u("connect_error");g.cleanup();g.readyState="closed";g.emit("connect_error",f);if(a){var m=Error("Connection error");m.data=f;a(m)}g.maybeReconnectOnOpen()});if(!1!==this._timeout){var f=this._timeout;u("connect attempt will timeout after %d",f);var m=setTimeout(function(){u("connect attempt timed out after %d",f);d.destroy();b.close();b.emit("error","timeout");g.emit("connect_timeout",f)},f);this.subs.push({destroy:function(){clearTimeout(m)}})}this.subs.push(d);
this.subs.push(c);return this};b.prototype.onopen=function(){u("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(t(a,"data",v(this,"ondata")));this.subs.push(t(this.decoder,"decoded",v(this,"ondecoded")));this.subs.push(t(a,"error",v(this,"onerror")));this.subs.push(t(a,"close",v(this,"onclose")))};b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){u("error",a);
this.emit("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new g(this,a);this.nsps[a]=b;var B=this;b.on("connect",function(){B.connected++})}return b};b.prototype.destroy=function(a){--this.connected||this.close()};b.prototype.packet=function(a){u("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var g=0;g<a.length;g++)b.engine.write(a[g]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=
function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};b.prototype.onclose=function(a){u("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};
b.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emit("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());u("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var g=setTimeout(function(){u("attempting reconnect");a.emit("reconnect_attempt");a.open(function(b){b?(u("reconnect attempt error"),
a.reconnecting=!1,a.reconnect(),a.emit("reconnect_error",b.data)):(u("reconnect success"),a.onreconnect())})},b);this.subs.push({destroy:function(){clearTimeout(g)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emit("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,bind:7,debug:8,emitter:9,"engine.io-client":10,"object-component":36,"socket.io-parser":39}],4:[function(c,h,e){h.exports=function(b,l,g){b.on(l,g);return{destroy:function(){b.removeListener(l,
g)}}}},{}],5:[function(c,h,e){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.open();this.buffer=[];this.connected=!1;this.disconnected=!0}var l=c("socket.io-parser");e=c("emitter");var g=c("to-array"),d=c("./on"),t=c("bind"),v=c("debug")("socket.io-client:socket"),u=c("has-binary-data");c("indexof");h.exports=b;var a={connect:1,disconnect:1,error:1},y=e.prototype.emit;e(b.prototype);b.prototype.open=b.prototype.connect=function(){if(this.connected)return this;var a=
this.io;a.open();this.subs=[d(a,"open",t(this,"onopen")),d(a,"error",t(this,"onerror")),d(a,"packet",t(this,"onpacket")),d(a,"close",t(this,"onclose"))];if("open"==this.io.readyState)this.onopen();return this};b.prototype.send=function(){var a=g(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(a.hasOwnProperty(b))return y.apply(this,arguments),this;var d=g(arguments),c=l.EVENT;u(d)&&(c=l.BINARY_EVENT);c={type:c,data:d};"function"==typeof d[d.length-
1]&&(v("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),c.id=this.ids++);this.packet(c);return this};b.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};b.prototype.onerror=function(a){this.emit("error",a)};b.prototype.onopen=function(){v("transport is open - connecting");"/"!=this.nsp&&this.packet({type:l.CONNECT})};b.prototype.onclose=function(a){v("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==
this.nsp)switch(a.type){case l.CONNECT:this.onconnect();break;case l.EVENT:this.onevent(a);break;case l.BINARY_EVENT:this.onevent(a);break;case l.ACK:this.onack(a);break;case l.BINARY_ACK:this.onack(a);break;case l.DISCONNECT:this.ondisconnect();break;case l.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(a){var b=a.data||[];v("emitting event %j",b);null!=a.id&&(v("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?y.apply(this,b):this.buffer.push(b)};b.prototype.ack=
function(a){var b=this,d=!1;return function(){if(!d){d=!0;var f=g(arguments);v("sending ack %j",f);var m=u(f)?l.BINARY_ACK:l.ACK;b.packet({type:m,id:a,data:f})}}};b.prototype.onack=function(a){v("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){for(var a=0;a<this.buffer.length;a++)y.apply(this,this.buffer[a]);
this.buffer=[]};b.prototype.ondisconnect=function(){v("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};b.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){if(!this.connected)return this;v("performing disconnect (%s)",this.nsp);this.packet({type:l.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,bind:7,debug:8,
emitter:9,"has-binary-data":31,indexof:35,"socket.io-parser":39,"to-array":42}],6:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("parseuri"),g=c("debug")("socket.io-client:url");h.exports=function(d,c){var e=d;c=c||b.location;null==d&&(d=c.protocol+"//"+c.hostname);"string"==typeof d&&("/"==d.charAt(0)&&"undefined"!=typeof c&&(d=c.hostname+d),/^(https?|wss?):\/\//.test(d)||(g("protocol-less url %s",d),d="undefined"!=typeof c?c.protocol+"//"+d:"https://"+
d),g("parse %s",d),e=l(d));(/(http|ws)/.test(e.protocol)&&80==e.port||/(http|ws)s/.test(e.protocol)&&443==e.port)&&delete e.port;e.path=e.path||"/";e.id=e.protocol+e.host+(e.port?":"+e.port:"");e.href=e.protocol+"://"+e.host+(e.port?":"+e.port:"");return e}},{debug:8,parseuri:37}],7:[function(c,h,e){var b=[].slice;h.exports=function(c,g){"string"==typeof g&&(g=c[g]);if("function"!=typeof g)throw Error("bind() requires a function");var d=[].slice.call(arguments,2);return function(){return g.apply(c,
d.concat(b.call(arguments)))}}},{}],8:[function(c,h,e){function b(g){return b.enabled(g)?function(d){d instanceof Error&&(d=d.stack||d.message);var c=new Date,l=c-(b[g]||c);b[g]=c;d=g+" "+d+" +"+b.humanize(l);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}h.exports=b;b.names=[];b.skips=[];b.enable=function(g){try{localStorage.debug=g}catch(d){}for(var c=(g||"").split(/[\s,]+/),l=c.length,e=0;e<l;e++)g=c[e].replace("*",".*?"),"-"===g[0]?b.skips.push(new RegExp("^"+
g.substr(1)+"$")):b.names.push(new RegExp("^"+g+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(g){for(var d=0,c=b.skips.length;d<c;d++)if(b.skips[d].test(g))return!1;d=0;for(c=b.names.length;d<c;d++)if(b.names[d].test(g))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(l){}},{}],9:[function(c,h,e){function b(g){if(g){for(var d in b.prototype)g[d]=
b.prototype[d];return g}}var l=c("indexof");h.exports=b;b.prototype.on=function(b,d){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(d);return this};b.prototype.once=function(b,d){function c(){l.off(b,c);d.apply(this,arguments)}var l=this;this._callbacks=this._callbacks||{};d._off=c;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=function(b,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var c=this._callbacks[b];if(!c)return this;if(1==arguments.length)return delete this._callbacks[b],this;var e=l(c,d._off||d);~e&&c.splice(e,1);return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),c=this._callbacks[b];if(c)for(var c=c.slice(0),l=0,e=c.length;l<e;++l)c[l].apply(this,d);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},
{indexof:35}],10:[function(c,h,e){h.exports=c("./lib/")},{"./lib/":11}],11:[function(c,h,e){h.exports=c("./socket");h.exports.parser=c("engine.io-parser")},{"./socket":12,"engine.io-parser":20}],12:[function(c,h,e){function b(a,d){if(!(this instanceof b))return new b(a,d);d=d||{};a&&"object"==typeof a&&(d=a,a=null);a&&(a=u(a),d.host=a.host,d.secure="https"==a.protocol||"wss"==a.protocol,d.port=a.port,a.query&&(d.query=a.query));this.secure=null!=d.secure?d.secure:l.location&&"https:"==location.protocol;
if(d.host){var g=d.host.split(":");d.hostname=g.shift();g.length&&(d.port=g.pop())}this.agent=d.agent||!1;this.hostname=d.hostname||(l.location?location.hostname:"localhost");this.port=d.port||(l.location&&location.port?location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=y.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.forceBase64=!!d.forceBase64;this.timestampParam=
d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.open();this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades}var l="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},g=c("./transports");e=c("emitter");var d=c("debug")("engine.io-client:socket"),t=c("indexof"),
v=c("engine.io-parser"),u=c("parseuri"),a=c("parsejson"),y=c("parseqs");h.exports=b;b.priorWebsocketSuccess=!1;e(b.prototype);b.protocol=v.protocol;b.Socket=b;b.Transport=c("./transport");b.transports=c("./transports");b.parser=c("engine.io-parser");b.prototype.createTransport=function(a){d('creating transport "%s"',a);var b=this.query,c={},f;for(f in b)b.hasOwnProperty(f)&&(c[f]=b[f]);c.EIO=v.protocol;c.transport=a;this.id&&(c.sid=this.id);return new g[a]({agent:this.agent,hostname:this.hostname,
port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};b.prototype.open=function(){var a;a=this.rememberUpgrade&&b.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";a=this.createTransport(a);a.open();this.setTransport(a)};b.prototype.setTransport=function(a){d("setting transport %s",
a.name);var b=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};b.prototype.probe=function(a){function g(){if(q.onlyBinaryUpgrades){var f=!this.supportsBinary&&q.transport.supportsBinary;n=n||f}n||(d('probe transport "%s" opened',a),w.send([{type:"ping",
data:"probe"}]),w.once("packet",function(f){n||("pong"==f.type&&"probe"==f.data?(d('probe transport "%s" pong',a),q.upgrading=!0,q.emit("upgrading",w),b.priorWebsocketSuccess="websocket"==w.name,d('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){n||"closed"==q.readyState||"closing"==q.readyState||(d("changing transport and sending upgrade packet"),J(),q.setTransport(w),w.send([{type:"upgrade"}]),q.emit("upgrade",w),w=null,q.upgrading=!1,q.flush())})):(d('probe transport "%s" failed',
a),f=Error("probe error"),f.transport=w.name,q.emit("upgradeError",f)))}))}function c(){n||(n=!0,J(),w.close(),w=null)}function f(f){var m=Error("probe error: "+f);m.transport=w.name;c();d('probe transport "%s" failed because of error: %s',a,f);q.emit("upgradeError",m)}function m(){f("transport closed")}function k(){f("socket closed")}function A(a){w&&a.name!=w.name&&(d('"%s" works - aborting "%s"',a.name,w.name),c())}function J(){w.removeListener("open",g);w.removeListener("error",f);w.removeListener("close",
m);q.removeListener("close",k);q.removeListener("upgrading",A)}d('probing transport "%s"',a);var w=this.createTransport(a,{probe:1}),n=!1,q=this;b.priorWebsocketSuccess=!1;w.once("open",g);w.once("error",f);w.once("close",m);this.once("close",k);this.once("upgrading",A);w.open()};b.prototype.onOpen=function(){d("socket open");this.readyState="open";b.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");
for(var a=0,g=this.upgrades.length;a<g;a++)this.probe(this.upgrades[a])}};b.prototype.onPacket=function(b){if("opening"==this.readyState||"open"==this.readyState)switch(d('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var g=Error("server error");g.code=b.data;this.emit("error",g);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else d('packet received with socket readyState "%s"',
this.readyState)};b.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};b.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=
b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};b.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};b.prototype.ping=function(){this.sendPacket("ping")};b.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,
this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};b.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};b.prototype.write=b.prototype.send=function(a,b){this.sendPacket("message",
a,b);return this};b.prototype.sendPacket=function(a,b,d){a={type:a,data:b};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(d);this.flush()};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close();return this};b.prototype.onError=function(a){d("socket error %j",a);b.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",
a)};b.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState){d('socket close with reason: "%s"',a);var g=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){g.writeBuffer=[];g.callbackBuffer=[];g.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};b.prototype.filterUpgrades=function(a){for(var b=
[],d=0,f=a.length;d<f;d++)~t(this.transports,a[d])&&b.push(a[d]);return b}},{"./transport":13,"./transports":14,debug:8,emitter:9,"engine.io-parser":20,indexof:35,parsejson:28,parseqs:29,parseuri:37}],13:[function(c,h,e){function b(b){this.path=b.path;this.hostname=b.hostname;this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket}var l=c("engine.io-parser");
c=c("emitter");h.exports=b;c(b.prototype);b.timestamps=0;b.prototype.onError=function(b,d){var c=Error(b);c.type="TransportError";c.description=d;this.emit("error",c);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);
else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){this.onPacket(l.decodePacket(b,this.socket.binaryType))};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{emitter:9,"engine.io-parser":20}],14:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("xmlhttprequest"),
g=c("./polling-xhr"),d=c("./polling-jsonp");c=c("./websocket");e.polling=function(c){var e=!1;if(b.location){var e="https:"==location.protocol,h=location.port;h||(h=e?443:80);e=c.hostname!=location.hostname||h!=c.port}c.xdomain=e;return"open"in new l(c)&&!c.forceJSONP?new g(c):new d(c)};e.websocket=c},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(c,h,e){function b(){}function l(a){d.call(this,a);this.query=this.query||{};u||(g.___eio||(g.___eio=[]),u=g.___eio);
this.index=u.length;var c=this;u.push(function(a){c.onData(a)});this.query.j=this.index;g.document&&g.addEventListener&&g.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=b)})}var g="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},d=c("./polling");c=c("inherits");h.exports=l;var t=/\n/g,v=/\\n/g,u;c(l,d);l.prototype.supportsBinary=!1;l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.form=null);d.prototype.doClose.call(this)};l.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};l.prototype.doWrite=function(a,b){function d(){c();b()}function c(){if(g.iframe)try{g.form.removeChild(g.iframe)}catch(a){g.onError("jsonp polling iframe removal error",a)}try{A=document.createElement('<iframe src="javascript:0" name="'+g.iframeId+'">')}catch(f){A=document.createElement("iframe"),A.name=g.iframeId,A.src="javascript:0"}A.id=g.iframeId;g.form.appendChild(A);g.iframe=A}var g=this;if(!this.form){var f=document.createElement("form"),
m=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index,A;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=k;f.method="POST";f.setAttribute("accept-charset","utf-8");m.name="d";f.appendChild(m);document.body.appendChild(f);this.form=f;this.area=m}this.form.action=this.uri();c();a=a.replace(v,"\\\n");this.area.value=a.replace(t,"\\n");try{this.form.submit()}catch(J){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==g.iframe.readyState&&d()}:this.iframe.onload=d}},{"./polling":17,inherits:27}],16:[function(c,h,e){function b(){}function l(a){u.call(this,a);if(t.location){var b="https:"==location.protocol,d=location.port;d||(d=b?443:80);this.xd=a.hostname!=t.location.hostname||d!=a.port}}function g(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.create(a.isBinary,a.supportsBinary)}function d(){for(var a in g.requests)g.requests.hasOwnProperty(a)&&
g.requests[a].abort()}var t="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},v=c("xmlhttprequest"),u=c("./polling");e=c("emitter");var a=c("debug")("engine.io-client:polling-xhr");c=c("inherits");h.exports=l;h.exports.Request=g;c(l,u);l.prototype.supportsBinary=!0;l.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;return new g(a)};l.prototype.doWrite=function(a,b){var d=this.request({method:"POST",data:a,
isBinary:"string"!==typeof a&&void 0!==a}),c=this;d.on("success",b);d.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=d};l.prototype.doPoll=function(){a("xhr poll");var b=this.request(),d=this;b.on("data",function(a){d.onData(a)});b.on("error",function(a){d.onError("xhr poll error",a)});this.pollXhr=b};e(g.prototype);g.prototype.create=function(b,d){var c=this.xhr=new v({agent:this.agent,xdomain:this.xd}),l=this;try{a("xhr open %s: %s",this.method,this.uri);c.open(this.method,
this.uri,this.async);d&&(c.responseType="arraybuffer");if("POST"==this.method)try{b?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(f){}"withCredentials"in c&&(c.withCredentials=!0);c.onreadystatechange=function(){var a;try{if(4!=c.readyState)return;200==c.status||1223==c.status?a="application/octet-stream"===c.getResponseHeader("Content-Type")?c.response:d?"ok":c.responseText:setTimeout(function(){l.onError(c.status)},
0)}catch(f){l.onError(f)}if(null!=a)l.onData(a)};a("xhr data %s",this.data);c.send(this.data)}catch(m){setTimeout(function(){l.onError(m)},0);return}t.document&&(this.index=g.requestsCount++,g.requests[this.index]=this)};g.prototype.onSuccess=function(){this.emit("success");this.cleanup()};g.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};g.prototype.onError=function(a){this.emit("error",a);this.cleanup()};g.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=
b;try{this.xhr.abort()}catch(a){}t.document&&delete g.requests[this.index];this.xhr=null}};g.prototype.abort=function(){this.cleanup()};t.document&&(g.requestsCount=0,g.requests={},t.attachEvent?t.attachEvent("onunload",d):t.addEventListener&&t.addEventListener("beforeunload",d))},{"./polling":17,debug:8,emitter:9,inherits:27,xmlhttprequest:19}],17:[function(c,h,e){function b(b){var a=b&&b.forceBase64;if(!v||a)this.supportsBinary=!1;l.call(this,b)}var l=c("../transport"),g=c("parseqs"),d=c("engine.io-parser"),
t=c("debug")("engine.io-client:polling");e=c("inherits");h.exports=b;var v=function(){return null!=(new (c("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();e(b,l);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=function(b){function a(){t("paused");d.readyState="paused";b()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(t("we are currently polling - waiting to pause"),c++,this.once("pollComplete",
function(){t("pre-pause polling complete");--c||a()}));this.writable||(t("we are currently writing - waiting to pause"),c++,this.once("drain",function(){t("pre-pause writing complete");--c||a()}))}else a()};b.prototype.poll=function(){t("polling");this.polling=!0;this.doPoll();this.emit("poll")};b.prototype.onData=function(b){var a=this;t("polling got data %s",b);d.decodePayload(b,this.socket.binaryType,function(b,d,c){if("opening"==a.readyState)a.onOpen();if("close"==b.type)return a.onClose(),!1;
a.onPacket(b)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():t('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=function(){function b(){t("writing close packet");a.write([{type:"close"}])}var a=this;"open"==this.readyState?(t("transport open - closing"),b()):(t("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var a=this;this.writable=!1;var c=function(){a.writable=!0;
a.emit("drain")},a=this;d.encodePayload(b,this.supportsBinary,function(b){a.doWrite(b,c)})};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(b[this.timestampParam]=+new Date+"-"+l.timestamps++);this.supportsBinary||b.sid||(b.b64=1);b=g.encode(b);this.port&&("https"==a&&443!=this.port||"http"==a&&80!=this.port)&&(d=":"+this.port);b.length&&(b="?"+b);return a+"://"+this.hostname+d+this.path+b}},{"../transport":13,debug:8,"engine.io-parser":20,
inherits:27,parseqs:29,xmlhttprequest:19}],18:[function(c,h,e){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);l.call(this,b)}var l=c("../transport"),g=c("engine.io-parser"),d=c("parseqs"),t=c("debug")("engine.io-client:websocket");e=c("inherits");var v=c("ws");h.exports=b;e(b,l);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new v(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=
!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};this.ws.onmessage=function(a){b.onData(a.data)};this.ws.onerror=function(a){b.onError("websocket error",a)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var a=this;setTimeout(function(){l.prototype.onData.call(a,b)},0)});b.prototype.write=function(b){var a=
this;this.writable=!1;for(var d=0,c=b.length;d<c;d++)g.encodePacket(b[d],this.supportsBinary,function(b){try{a.ws.send(b)}catch(d){t("websocket closed before onclose event")}});setTimeout(function(){a.writable=!0;a.emit("drain")},0)};b.prototype.onClose=function(){l.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"wss":"ws",c="";this.port&&("wss"==a&&443!=this.port||"ws"==a&&80!=
this.port)&&(c=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=d.encode(b);b.length&&(b="?"+b);return a+"://"+this.hostname+c+this.path+b};b.prototype.check=function(){return!!v&&!("__initialize"in v&&this.name===b.prototype.name)}},{"../transport":13,debug:8,"engine.io-parser":20,inherits:27,parseqs:29,ws:30}],19:[function(c,h,e){var b=c("has-cors");h.exports=function(c){c=c.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!c||b))return new XMLHttpRequest}catch(g){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}},
{"has-cors":33}],20:[function(c,h,e){function b(a,b,k){if(!b)return e.encodeBase64Packet(a,k);var d=new FileReader;d.onload=function(){a.data=d.result;e.encodePacket(a,b,k)};return d.readAsArrayBuffer(a.data)}function l(a,b,k){var d=Array(a.length);k=v(a.length,k);for(var c=function(a,f,s){b(f,function(f,b){d[a]=b;s(f,d)})},g=0;g<a.length;g++)c(g,a[g],k)}var g="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};h=c("./keys");var d=c("arraybuffer.slice"),t=c("base64-arraybuffer"),
v=c("after"),u=c("utf8"),a=navigator.userAgent.match(/Android/i);e.protocol=2;var y=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},B=h(y),C={type:"error",data:"parser error"},x=c("blob");e.encodePacket=function(f,m,k){"function"==typeof m&&(k=m,m=!1);var d=void 0===f.data?void 0:f.data.buffer||f.data;if(g.ArrayBuffer&&d instanceof ArrayBuffer){if(m){d=f.data;m=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=y[f.type];for(f=0;f<m.length;f++)d[f+1]=m[f];f=k(d.buffer)}else f=
e.encodeBase64Packet(f,k);return f}if(x&&d instanceof g.Blob)return m?a?f=b(f,m,k):(m=new Uint8Array(1),m[0]=y[f.type],f=new x([m.buffer,f.data]),f=k(f)):f=e.encodeBase64Packet(f,k),f;m=y[f.type];void 0!==f.data&&(m+=u.encode(String(f.data)));return k(""+m)};e.encodeBase64Packet=function(a,b){var k="b"+e.packets[a.type];if(x&&a.data instanceof x){var d=new FileReader;d.onload=function(){var a=d.result.split(",")[1];b(k+a)};return d.readAsDataURL(a.data)}var c;try{c=String.fromCharCode.apply(null,
new Uint8Array(a.data))}catch(w){c=new Uint8Array(a.data);for(var n=Array(c.length),q=0;q<c.length;q++)n[q]=c[q];c=String.fromCharCode.apply(null,n)}k+=g.btoa(c);return b(k)};e.decodePacket=function(a,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return e.decodeBase64Packet(a.substr(1),b);a=u.decode(a);var k=a.charAt(0);return Number(k)==k&&B[k]?1<a.length?{type:B[k],data:a.substring(1)}:{type:B[k]}:C}var k=(new Uint8Array(a))[0],c=d(a,1);x&&"blob"===b&&(c=new x([c]));return{type:B[k],
data:c}};e.decodeBase64Packet=function(a,b){var k=B[a.charAt(0)];if(!g.ArrayBuffer)return{type:k,data:{base64:!0,data:a.substr(1)}};var d=t.decode(a.substr(1));"blob"===b&&x&&(d=new x([d]));return{type:k,data:d}};e.encodePayload=function(f,b,k){"function"==typeof b&&(k=b,b=null);if(b)return x&&!a?e.encodePayloadAsBlob(f,k):e.encodePayloadAsArrayBuffer(f,k);if(!f.length)return k("0:");l(f,function(a,f){e.encodePacket(a,b,function(a){f(null,a.length+":"+a)})},function(a,f){return k(f.join(""))})};e.decodePayload=
function(a,b,k){if("string"!=typeof a)return e.decodePayloadAsBinary(a,b,k);"function"===typeof b&&(k=b,b=null);var d;if(""==a)return k(C,0,1);d="";for(var c,g,n=0,q=a.length;n<q;n++)if(g=a.charAt(n),":"!=g)d+=g;else{if(""==d||d!=(c=Number(d)))return k(C,0,1);g=a.substr(n+1,c);if(d!=g.length)return k(C,0,1);if(g.length){d=e.decodePacket(g,b);if(C.type==d.type&&C.data==d.data)return k(C,0,1);if(!1===k(d,n+c,q))return}n+=c;d=""}if(""!=d)return k(C,0,1)};e.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));
l(a,function(a,b){e.encodePacket(a,!0,function(a){return b(null,a)})},function(a,f){var d=f.reduce(function(a,b){var f;f="string"===typeof b?b.length:b.byteLength;return a+f.toString().length+f+2},0),c=new Uint8Array(d),n=0;f.forEach(function(a){var b="string"===typeof a,f=a;if(b){for(var f=new Uint8Array(a.length),m=0;m<a.length;m++)f[m]=a.charCodeAt(m);f=f.buffer}b?c[n++]=0:c[n++]=1;a=f.byteLength.toString();for(m=0;m<a.length;m++)c[n++]=parseInt(a[m]);c[n++]=255;f=new Uint8Array(f);for(m=0;m<f.length;m++)c[n++]=
f[m]});return b(c.buffer)})};e.encodePayloadAsBlob=function(a,b){l(a,function(a,b){e.encodePacket(a,!0,function(a){var f=new Uint8Array(1);f[0]=1;if("string"===typeof a){for(var m=new Uint8Array(a.length),d=0;d<a.length;d++)m[d]=a.charCodeAt(d);a=m.buffer;f[0]=0}for(var m=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),s=new Uint8Array(m.length+1),d=0;d<m.length;d++)s[d]=parseInt(m[d]);s[m.length]=255;x&&(a=new x([f.buffer,s.buffer,a]),b(null,a))})},function(a,f){return b(new x(f))})};e.decodePayloadAsBinary=
function(a,b,k){"function"===typeof b&&(k=b,b=null);for(var c=[];0<a.byteLength;){for(var g=new Uint8Array(a),w=0===g[0],n="",q=1;255!=g[q];q++)n+=g[q];a=d(a,2+n.length);n=parseInt(n);g=d(a,0,n);if(w)try{g=String.fromCharCode.apply(null,new Uint8Array(g))}catch(s){for(w=new Uint8Array(g),g="",q=0;q<w.length;q++)g+=String.fromCharCode(w[q])}c.push(g);a=d(a,n)}var p=c.length;c.forEach(function(a,f){k(e.decodePacket(a,b),f,p)})}},{"./keys":21,after:22,"arraybuffer.slice":23,"base64-arraybuffer":24,blob:25,
utf8:26}],21:[function(c,h,e){h.exports=Object.keys||function(b){var c=[],g=Object.prototype.hasOwnProperty,d;for(d in b)g.call(b,d)&&c.push(d);return c}},{}],22:[function(c,h,e){function b(){}h.exports=function(c,g,d){function e(b,a){if(0>=e.count)throw Error("after called too many times");--e.count;b?(h=!0,g(b),g=d):0!==e.count||h||g(null,a)}var h=!1;d=d||b;e.count=c;return 0===c?g():e}},{}],23:[function(c,h,e){h.exports=function(b,c,g){var d=b.byteLength;c=c||0;g=g||d;if(b.slice)return b.slice(c,
g);0>c&&(c+=d);0>g&&(g+=d);g>d&&(g=d);if(c>=d||c>=g||0===d)return new ArrayBuffer(0);b=new Uint8Array(b);for(var d=new Uint8Array(g-c),e=0;c<g;c++,e++)d[e]=b[c];return d.buffer}},{}],24:[function(c,h,e){(function(b){e.encode=function(c){c=new Uint8Array(c);var g,d=c.length,e="";for(g=0;g<d;g+=3)e+=b[c[g]>>2],e+=b[(c[g]&3)<<4|c[g+1]>>4],e+=b[(c[g+1]&15)<<2|c[g+2]>>6],e+=b[c[g+2]&63];2===d%3?e=e.substring(0,e.length-1)+"=":1===d%3&&(e=e.substring(0,e.length-2)+"==");return e};e.decode=function(c){var g=
.75*c.length,d=c.length,e=0,h,u,a,y;"="===c[c.length-1]&&(g--,"="===c[c.length-2]&&g--);for(var B=new ArrayBuffer(g),C=new Uint8Array(B),g=0;g<d;g+=4)h=b.indexOf(c[g]),u=b.indexOf(c[g+1]),a=b.indexOf(c[g+2]),y=b.indexOf(c[g+3]),C[e++]=h<<2|u>>4,C[e++]=(u&15)<<4|a>>2,C[e++]=(a&3)<<6|y&63;return B}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],25:[function(c,h,e){function b(b,c){c=c||{};for(var d=new l,a=0;a<b.length;a++)d.append(b[a]);return c.type?d.getBlob(c.type):d.getBlob()}
c="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var l=c.BlobBuilder||c.WebKitBlobBuilder||c.MSBlobBuilder||c.MozBlobBuilder,g;try{g=2==(new Blob(["hi"])).size}catch(d){g=!1}e=l&&l.prototype.append&&l.prototype.getBlob;g=g?c.Blob:e?b:void 0;h.exports=g},{}],26:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};(function(c){function g(a){for(var b=[],f=0,c=a.length,d,g;f<c;)d=a.charCodeAt(f++),55296<=d&&56319>=d&&f<c?(g=a.charCodeAt(f++),
56320==(g&64512)?b.push(((d&1023)<<10)+(g&1023)+65536):(b.push(d),f--)):b.push(d);return b}function d(){if(x>=C)throw Error("Invalid byte index");var a=B[x]&255;x++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function t(){var a,b,f,c;if(x>C)throw Error("Invalid byte index");if(x==C)return!1;a=B[x]&255;x++;if(0==(a&128))return a;if(192==(a&224)){b=d();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=d();f=d();a=(a&15)<<12|b<<6|
f;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=d(),f=d(),c=d(),a=(a&15)<<18|b<<12|f<<6|c,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var v="object"==typeof e&&e,u="object"==typeof h&&h&&h.exports==v&&h,a="object"==typeof b&&b;if(a.global===a||a.window===a)c=a;var y=String.fromCharCode,B,C,x,a={version:"2.0.0",encode:function(a){a=g(a);for(var b=a.length,f=-1,c,d="";++f<b;){c=a[f];if(0==(c&4294967168))c=y(c);else{var n="";0==(c&4294965248)?
n=y(c>>6&31|192):0==(c&4294901760)?(n=y(c>>12&15|224),n+=y(c>>6&63|128)):0==(c&4292870144)&&(n=y(c>>18&7|240),n+=y(c>>12&63|128),n+=y(c>>6&63|128));c=n+=y(c&63|128)}d+=c}return d},decode:function(a){B=g(a);C=B.length;x=0;a=[];for(var b;!1!==(b=t());)a.push(b);b=a.length;for(var f=-1,c,d="";++f<b;)c=a[f],65535<c&&(c-=65536,d+=y(c>>>10&1023|55296),c=56320|c&1023),d+=y(c);return d}};if(v&&!v.nodeType)if(u)u.exports=a;else{c={}.hasOwnProperty;for(var f in a)c.call(a,f)&&(v[f]=a[f])}else c.utf8=a})(this)},
{}],27:[function(c,h,e){h.exports="function"===typeof Object.create?function(b,c){b.super_=c;b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:function(b,c){b.super_=c;var g=function(){};g.prototype=c.prototype;b.prototype=new g;b.prototype.constructor=b}},{}],28:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
t=/(?:^|:|,)(?:\s*\[)+/g,v=/^\s+/,u=/\s+$/;h.exports=function(a){if("string"!=typeof a||!a)return null;a=a.replace(v,"").replace(u,"");if(b.JSON&&JSON.parse)return JSON.parse(a);if(l.test(a.replace(g,"@").replace(d,"]").replace(t,"")))return(new Function("return "+a))()}},{}],29:[function(c,h,e){e.encode=function(b){var c="",g;for(g in b)b.hasOwnProperty(g)&&(c.length&&(c+="&"),c+=encodeURIComponent(g)+"="+encodeURIComponent(b[g]));return c};e.decode=function(b){var c={};b=b.split("&");for(var g=
0,d=b.length;g<d;g++){var e=b[g].split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return c}},{}],30:[function(c,h,e){function b(b,c,e){return c?new l(b,c):new l(b)}c=function(){return this}();var l=c.WebSocket||c.MozWebSocket;h.exports=l?b:null;l&&(b.prototype=l.prototype)},{}],31:[function(c,h,e){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("isarray");h.exports=function(c){function d(c){if(!c)return!1;if(b.Buffer&&Buffer.isBuffer(c)||b.ArrayBuffer&&
c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(l(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&(c=c.toJSON()),c)if(d(c[g]))return!0;return!1}return d(c)}},{isarray:32}],32:[function(c,h,e){h.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],33:[function(c,h,e){c=c("global");try{h.exports="XMLHttpRequest"in c&&"withCredentials"in new c.XMLHttpRequest}catch(b){h.exports=
!1}},{global:34}],34:[function(c,h,e){h.exports=function(){return this}()},{}],35:[function(c,h,e){var b=[].indexOf;h.exports=function(c,g){if(b)return c.indexOf(g);for(var d=0;d<c.length;++d)if(c[d]===g)return d;return-1}},{}],36:[function(c,h,e){var b=Object.prototype.hasOwnProperty;e.keys=Object.keys||function(c){var g=[],d;for(d in c)b.call(c,d)&&g.push(d);return g};e.values=function(c){var g=[],d;for(d in c)b.call(c,d)&&g.push(c[d]);return g};e.merge=function(c,g){for(var d in g)b.call(g,d)&&
(c[d]=g[d]);return c};e.length=function(b){return e.keys(b).length};e.isEmpty=function(b){return 0==e.length(b)}},{}],37:[function(c,h,e){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=
function(c){c=b.exec(c||"");for(var d={},e=14;e--;)d[l[e]]=c[e]||"";return d}},{}],38:[function(c,h,e){function b(b){return l.Buffer&&Buffer.isBuffer(b)||l.ArrayBuffer&&b instanceof ArrayBuffer}var l="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},g=c("isarray");e.deconstructPacket=function(b){function c(b){if(!b)return b;if(l.Buffer&&Buffer.isBuffer(b)||l.ArrayBuffer&&b instanceof ArrayBuffer){var a={_placeholder:!0,num:e.length};e.push(b);return a}if(g(b)){for(var a=Array(b.length),
d=0;d<b.length;d++)a[d]=c(b[d]);return a}if("object"==typeof b&&!(b instanceof Date)){a={};for(d in b)a[d]=c(b[d]);return a}return b}var e=[];b.data=c(b.data);b.attachments=e.length;return{packet:b,buffers:e}};e.reconstructPacket=function(b,c){function e(b){if(b&&b._placeholder)return c[b.num];if(g(b))for(var a=0;a<b.length;a++)b[a]=e(b[a]);else if(b&&"object"==typeof b)for(a in b)b[a]=e(b[a]);return b}b.data=e(b.data);b.attachments=void 0;return b};e.removeBlobs=function(c,e){function h(c,d,C){if(!c)return c;
if(l.Blob&&c instanceof Blob||l.File&&c instanceof File){u++;var x=new FileReader;x.onload=function(){C?C[d]=this.result:a=this.result;--u||e(a)};x.readAsArrayBuffer(c)}if(g(c))for(x=0;x<c.length;x++)h(c[x],x,c);else if(c&&"object"==typeof c&&!b(c))for(var f in c)h(c[f],f,c)}var u=0,a=c;h(a);u||e(a)}},{isarray:40}],39:[function(c,h,e){function b(){}function l(b){var c,d=!1;c=""+b.type;if(e.BINARY_EVENT==b.type||e.BINARY_ACK==b.type)c+=b.attachments,c+="-";b.nsp&&"/"!=b.nsp&&(d=!0,c+=b.nsp);null!=
b.id&&(d&&(c+=",",d=!1),c+=b.id);null!=b.data&&(d&&(c+=","),c+=a.stringify(b.data));u("encoded %j as %s",b,c);return c}function g(a,b){y.removeBlobs(a,function(a){var f=y.deconstructPacket(a);a=l(f.packet);f=f.buffers;f.unshift(a);b(f)})}function d(){this.reconstructor=null}function t(a){this.reconPack=a;this.buffers=[]}var v="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},u=c("debug")("socket.io-parser"),a=c("json3");c("isarray");h=c("emitter");var y=c("./binary");e.protocol=
3;e.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");e.CONNECT=0;e.DISCONNECT=1;e.EVENT=2;e.ACK=3;e.ERROR=4;e.BINARY_EVENT=5;e.BINARY_ACK=6;e.Encoder=b;b.prototype.encode=function(a,b){u("encoding packet %j",a);if(e.BINARY_EVENT==a.type||e.BINARY_ACK==a.type)g(a,b);else{var c=l(a);b([c])}};e.Decoder=d;h(d.prototype);d.prototype.add=function(b){if("string"==typeof b){a:{var c={},d=0;c.type=Number(b.charAt(0));if(null==e.types[c.type])b={type:e.ERROR,data:"parser error"};
else{if(e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type){for(c.attachments="";"-"!=b.charAt(++d);)c.attachments+=b.charAt(d);c.attachments=Number(c.attachments)}if("/"==b.charAt(d+1))for(c.nsp="";++d;){var f=b.charAt(d);if(","==f)break;c.nsp+=f;if(d+1==b.length)break}else c.nsp="/";f=b.charAt(d+1);if(""!=f&&Number(f)==f){for(c.id="";++d;){f=b.charAt(d);if(null==f||Number(f)!=f){--d;break}c.id+=b.charAt(d);if(d+1==b.length)break}c.id=Number(c.id)}if(b.charAt(++d))try{c.data=a.parse(b.substr(d))}catch(m){b=
{type:e.ERROR,data:"parser error"};break a}u("decoded %s as %j",b,c);b=c}}e.BINARY_EVENT==b.type||e.BINARY_ACK==b.type?(this.reconstructor=new t(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(v.Buffer&&Buffer.isBuffer(b)||v.ArrayBuffer&&b instanceof ArrayBuffer||b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");
else throw Error("Unknown type: "+b);};d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};t.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=y.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};t.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":38,debug:8,emitter:9,isarray:40,json3:41}],40:[function(c,h,e){h.exports=
c(32)},{}],41:[function(c,h,e){(function(b){function c(b){if(c[b]!==v)return c[b];var f;if("bug-string-char-index"==b)f="a"!="a"[0];else if("json"==b)f=c("json-stringify")&&c("json-parse");else{var s;if("json-stringify"==b){f=a.stringify;var d="function"==typeof f&&y;if(d){(s=function(){return 1}).toJSON=s;try{d="0"===f(0)&&"0"===f(new Number)&&'""'==f(new String)&&f(g)===v&&f(v)===v&&f()===v&&"1"===f(s)&&"[1]"==f([s])&&"[null]"==f([v])&&"null"==f(null)&&"[null,null,null]"==f([v,g,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
f({a:[s,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,s)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new Date(-1))}catch(m){d=!1}}f=d}if("json-parse"==b){f=a.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){s=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var k=5==s.a.length&&1===s.a[0];if(k){try{k=
!f('"\t"')}catch(p){}if(k)try{k=1!==f("01")}catch(n){}if(k)try{k=1!==f("1.")}catch(e){}}}}catch(A){k=!1}f=k}}return c[b]=!!f}var g={}.toString,d,h,v,u="object"==typeof JSON&&JSON,a="object"==typeof e&&e&&!e.nodeType&&e;a&&u?(a.stringify=u.stringify,a.parse=u.parse):a=b.JSON=u||{};var y=new Date(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(B){}if(!c("json")){var C=
c("bug-string-char-index");if(!y)var x=Math.floor,f=[0,31,59,90,120,151,181,212,243,273,304,334],m=function(a,b){return f[b]+365*(a-1970)+x((a-1969+(b=+(1<b)))/4)-x((a-1901+b)/100)+x((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(a){var b={},f;(b.__proto__=null,b.__proto__={toString:1},b).toString!=g?d=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(f=b.constructor,d=function(a){var b=(this.constructor||f).prototype;return a in this&&!(a in b&&this[a]===
b[a])});b=null;return d.call(this,a)});var k={"boolean":1,number:1,string:1,undefined:1};h=function(a,b){var f=0,c,s,m;(c=function(){this.valueOf=0}).prototype.valueOf=0;s=new c;for(m in s)d.call(s,m)&&f++;c=s=null;f?h=2==f?function(a,b){var f={},c="[object Function]"==g.call(a),s;for(s in a)c&&"prototype"==s||d.call(f,s)||!(f[s]=1)||!d.call(a,s)||b(s)}:function(a,b){var f="[object Function]"==g.call(a),c,s;for(c in a)f&&"prototype"==c||!d.call(a,c)||(s="constructor"===c)||b(c);(s||d.call(a,c="constructor"))&&
b(c)}:(s="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),h=function(a,b){var f="[object Function]"==g.call(a),c,m;if(m=!f&&"function"!=typeof a.constructor)m=typeof a.hasOwnProperty,m="object"==m?!!a.hasOwnProperty:!k[m];m=m?a.hasOwnProperty:d;for(c in a)f&&"prototype"==c||!m.call(a,c)||b(c);for(f=s.length;c=s[--f];m.call(a,c)&&b(c));});return h(a,b)};if(!c("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},
J=function(a,b){return("000000"+(b||0)).slice(-a)},w=function(a){var b='"',f=0,c=a.length,s=10<c&&C,d;for(s&&(d=a.split(""));f<c;f++){var m=a.charCodeAt(f);switch(m){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=A[m];break;default:if(32>m){b+="\\u00"+J(2,m.toString(16));break}b+=s?d[f]:C?a.charAt(f):a[f]}}return b+'"'},n=function(a,b,f,c,s,k,p){var e,A,I,q,z,G,F,l,H;try{e=b[a]}catch(D){}if("object"==typeof e&&e)if(A=g.call(e),"[object Date]"!=A||d.call(e,"toJSON"))"function"==typeof e.toJSON&&
("[object Number]"!=A&&"[object String]"!=A&&"[object Array]"!=A||d.call(e,"toJSON"))&&(e=e.toJSON(a));else if(e>-1/0&&e<1/0){if(m){q=x(e/864E5);for(A=x(q/365.2425)+1970-1;m(A+1,0)<=q;A++);for(I=x((q-m(A,0))/30.42);m(A,I+1)<=q;I++);q=1+q-m(A,I);z=(e%864E5+864E5)%864E5;G=x(z/36E5)%24;F=x(z/6E4)%60;l=x(z/1E3)%60;z%=1E3}else A=e.getUTCFullYear(),I=e.getUTCMonth(),q=e.getUTCDate(),G=e.getUTCHours(),F=e.getUTCMinutes(),l=e.getUTCSeconds(),z=e.getUTCMilliseconds();e=(0>=A||1E4<=A?(0>A?"-":"+")+J(6,0>A?
-A:A):J(4,A))+"-"+J(2,I+1)+"-"+J(2,q)+"T"+J(2,G)+":"+J(2,F)+":"+J(2,l)+"."+J(3,z)+"Z"}else e=null;f&&(e=f.call(b,a,e));if(null===e)return"null";A=g.call(e);if("[object Boolean]"==A)return""+e;if("[object Number]"==A)return e>-1/0&&e<1/0?""+e:"null";if("[object String]"==A)return w(""+e);if("object"==typeof e){for(a=p.length;a--;)if(p[a]===e)throw TypeError();p.push(e);H=[];b=k;k+=s;if("[object Array]"==A){I=0;for(a=e.length;I<a;I++)A=n(I,e,f,c,s,k,p),H.push(A===v?"null":A);a=H.length?s?"[\n"+k+H.join(",\n"+
k)+"\n"+b+"]":"["+H.join(",")+"]":"[]"}else h(c||e,function(a){var b=n(a,e,f,c,s,k,p);b!==v&&H.push(w(a)+":"+(s?" ":"")+b)}),a=H.length?s?"{\n"+k+H.join(",\n"+k)+"\n"+b+"}":"{"+H.join(",")+"}":"{}";p.pop();return a}};a.stringify=function(a,b,f){var c,s,d,m;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(m=g.call(b)))s=b;else if("[object Array]"==m){d={};for(var k=0,p=b.length,e;k<p;e=b[k++],(m=g.call(e),"[object String]"==m||"[object Number]"==m)&&(d[e]=1));}if(f)if("[object Number]"==
(m=g.call(f))){if(0<(f-=f%1))for(c="",10<f&&(f=10);c.length<f;c+=" ");}else"[object String]"==m&&(c=10>=f.length?f:f.slice(0,10));return n("",(e={},e[""]=a,e),s,d,c,"",[])}}if(!c("json-parse")){var q=String.fromCharCode,s={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,I,z=function(){p=I=null;throw SyntaxError();},G=function(){for(var a=I,b=a.length,f,c,d,m,k;p<b;)switch(k=a.charCodeAt(p),k){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return f=
C?a.charAt(p):a[p],p++,f;case 34:f="@";for(p++;p<b;)if(k=a.charCodeAt(p),32>k)z();else if(92==k)switch(k=a.charCodeAt(++p),k){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:f+=s[k];p++;break;case 117:c=++p;for(d=p+4;p<d;p++)k=a.charCodeAt(p),48<=k&&57>=k||97<=k&&102>=k||65<=k&&70>=k||z();f+=q("0x"+a.slice(c,p));break;default:z()}else{if(34==k)break;k=a.charCodeAt(p);for(c=p;32<=k&&92!=k&&34!=k;)k=a.charCodeAt(++p);f+=a.slice(c,p)}if(34==a.charCodeAt(p))return p++,f;z();default:c=
p;45==k&&(m=!0,k=a.charCodeAt(++p));if(48<=k&&57>=k){for(48==k&&(k=a.charCodeAt(p+1),48<=k&&57>=k)&&z();p<b&&(k=a.charCodeAt(p),48<=k&&57>=k);p++);if(46==a.charCodeAt(p)){for(d=++p;d<b&&(k=a.charCodeAt(d),48<=k&&57>=k);d++);d==p&&z();p=d}k=a.charCodeAt(p);if(101==k||69==k){k=a.charCodeAt(++p);43!=k&&45!=k||p++;for(d=p;d<b&&(k=a.charCodeAt(d),48<=k&&57>=k);d++);d==p&&z();p=d}return+a.slice(c,p)}m&&z();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,
p+4))return p+=4,null;z()}return"$"},F=function(a){var b,f;"$"==a&&z();if("string"==typeof a){if("@"==(C?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;f||(f=!0)){a=G();if("]"==a)break;f&&(","==a?(a=G(),"]"==a&&z()):z());","==a&&z();b.push(F(a))}return b}if("{"==a){for(b={};;f||(f=!0)){a=G();if("}"==a)break;f&&(","==a?(a=G(),"}"==a&&z()):z());","!=a&&"string"==typeof a&&"@"==(C?a.charAt(0):a[0])&&":"==G()||z();b[a.slice(1)]=F(G())}return b}z()}return a},H=function(a,b,f){f=D(a,b,f);f===
v?delete a[b]:a[b]=f},D=function(a,b,f){var c=a[b],s;if("object"==typeof c&&c)if("[object Array]"==g.call(c))for(s=c.length;s--;)H(c,s,f);else h(c,function(a){H(c,a,f)});return f.call(a,b,c)};a.parse=function(a,b){var f,c;p=0;I=""+a;f=F(G());"$"!=G()&&z();p=I=null;return b&&"[object Function]"==g.call(b)?D((c={},c[""]=f,c),"",b):f}}}})(this)},{}],42:[function(c,h,e){h.exports=function(b,c){for(var e=[],d=(c=c||0)||0;d<b.length;d++)e[d-c]=b[d];return e}},{}]},{},[1])(1)});
(function(){(function(r){var c=this||(0,eval)("this"),h=c.document,e=c.navigator,b=c.jQuery,l=c.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],b):b(c.ko={})})(function(g){function d(a,b){return null===a||typeof a in y?a===b:!1}function t(a,b){var c;return function(){c||(c=setTimeout(function(){c=r;a()},b))}}function v(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function u(b,c,d,e){a.d[b]={init:function(b,f,g,q,s){var p,I;a.ba(function(){var g=a.a.c(f()),n=!d!==!g,q=!I;if(q||c||n!==p)q&&a.ca.fa()&&(I=a.a.lb(a.e.childNodes(b),!0)),n?(q||a.e.U(b,a.a.lb(I)),a.gb(e?e(s,g):s,b)):a.e.da(b),p=n},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a="undefined"!==typeof g?g:{};a.b=function(b,c){for(var d=b.split("."),e=a,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};a.s=function(a,b,c){a[b]=c};a.version="3.1.0";
a.b("version",a.version);a.a=function(){function f(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f])}function d(a,b){if(b)for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a}function k(a,b){a.__proto__=b;return a}var g={__proto__:[]}instanceof Array,J={},w={};J[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];J.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");f(J,function(a,b){if(b.length)for(var f=
0,c=b.length;f<c;f++)w[b[f]]=a});var n={propertychange:!0},q=h&&function(){for(var a=3,b=h.createElement("div"),f=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",f[0];);return 4<a?a:r}();return{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var f=0,c=a.length;f<c;f++)b(a[f],f)},l:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var f=0,c=a.length;f<c;f++)if(a[f]===
b)return f;return-1},hb:function(a,b,f){for(var c=0,d=a.length;c<d;c++)if(b.call(f,a[c],c))return a[c];return null},ma:function(b,f){var c=a.a.l(b,f);0<c?b.splice(c,1):0===c&&b.shift()},ib:function(b){b=b||[];for(var f=[],c=0,d=b.length;c<d;c++)0>a.a.l(f,b[c])&&f.push(b[c]);return f},ya:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)f.push(b(a[c],c));return f},la:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)b(a[c],c)&&f.push(a[c]);return f},$:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var f=0,c=b.length;f<c;f++)a.push(b[f]);return a},Y:function(b,f,c){var d=a.a.l(a.a.Sa(b),f);0>d?c&&b.push(f):c||b.splice(d,1)},na:g,extend:d,ra:k,sa:g?k:d,A:f,Oa:function(a,b){if(!a)return a;var f={},c;for(c in a)a.hasOwnProperty(c)&&(f[c]=b(a[c],c,a));return f},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var f=h.createElement("div"),c=0,d=b.length;c<d;c++)f.appendChild(a.M(b[c]));return f},lb:function(b,f){for(var c=0,d=b.length,k=[];c<
d;c++){var m=b[c].cloneNode(!0);k.push(f?a.M(m):m)}return k},U:function(b,f){a.a.Fa(b);if(f)for(var c=0,d=f.length;c<d;c++)b.appendChild(f[c])},Bb:function(b,f){var c=b.nodeType?[b]:b;if(0<c.length){for(var d=c[0],k=d.parentNode,m=0,e=f.length;m<e;m++)k.insertBefore(f[m],d);m=0;for(e=c.length;m<e;m++)a.removeNode(c[m])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var f=a[0],c=a[a.length-1];for(a.length=0;f!==c;)if(a.push(f),
f=f.nextSibling,!f)return;a.push(c)}}return a},Db:function(a,b){7>q?a.setAttribute("selected",b):a.selected=b},ta:function(a){return null===a||a===r?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(b,f){for(var c=[],d=(b||"").split(f),k=0,m=d.length;k<m;k++){var e=a.a.ta(d[k]);""!==e&&c.push(e)}return c},kc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===
a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(f,c,d){var k=q&&n[c];if(!k&&b)b(f).bind(c,d);else if(k||"function"!=typeof f.addEventListener)if("undefined"!=typeof f.attachEvent){var m=function(a){d.call(f,a)},e="on"+c;f.attachEvent(e,
m);a.a.u.ja(f,function(){f.detachEvent(e,m)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else f.addEventListener(c,d,!1)},ha:function(f,d){if(!f||!f.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var k;"input"===a.a.B(f)&&f.type&&"click"==d.toLowerCase()?(k=f.type,k="checkbox"==k||"radio"==k):k=!1;if(b&&!k)b(f).trigger(d);else if("function"==typeof h.createEvent)if("function"==typeof f.dispatchEvent)k=h.createEvent(w[d]||"HTMLEvents"),
k.initEvent(d,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,f),f.dispatchEvent(k);else throw Error("The supplied element doesn't support dispatchEvent");else if(k&&f.click)f.click();else if("undefined"!=typeof f.fireEvent)f.fireEvent("on"+d);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,f,c){if(f){var d=/\S+/g,k=b.className.match(d)||[];a.a.r(f.match(d),function(b){a.a.Y(k,b,c)});b.className=k.join(" ")}},Xa:function(b,
f){var c=a.a.c(f);if(null===c||c===r)c="";var d=a.e.firstChild(b);!d||3!=d.nodeType||a.e.nextSibling(d)?a.e.U(b,[b.ownerDocument.createTextNode(c)]):d.data=c;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=q)try{a.mergeAttributes(h.createElement("<input name='"+a.name+"'/>"),!1)}catch(f){}},Vb:function(a){9<=q&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(q){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,f){b=a.a.c(b);f=a.a.c(f);for(var c=
[],d=b;d<=f;d++)c.push(d);return c},R:function(a){for(var b=[],f=0,c=a.length;f<c;f++)b.push(a[f]);return b},mc:6===q,nc:7===q,oa:q,ob:function(b,f){for(var c=a.a.R(b.getElementsByTagName("input")).concat(a.a.R(b.getElementsByTagName("textarea"))),d="string"==typeof f?function(a){return a.name===f}:function(a){return f.test(a.name)},k=[],m=c.length-1;0<=m;m--)d(c[m])&&k.push(c[m]);return k},fc:function(b){return"string"==typeof b&&(b=a.a.ta(b))?l&&l.parse?l.parse(b):(new Function("return "+b))():
null},Ya:function(b,f,c){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return l.stringify(a.a.c(b),f,c)},gc:function(b,c,d){d=d||{};var k=d.params||{},m=d.includeFields||this.mb,e=b;if("object"==typeof b&&"form"===a.a.B(b))for(var e=b.action,g=m.length-1;0<=g;g--)for(var n=a.a.ob(b,m[g]),A=n.length-1;0<=A;A--)k[n[A].name]=
n[A].value;c=a.a.c(c);var q=h.createElement("form");q.style.display="none";q.action=e;q.method="post";for(var w in c)b=h.createElement("input"),b.name=w,b.value=a.a.Ya(a.a.c(c[w])),q.appendChild(b);f(k,function(a,b){var f=h.createElement("input");f.name=a;f.value=b;q.appendChild(f)});h.body.appendChild(q);d.submitter?d.submitter(q):q.submit();setTimeout(function(){q.parentNode.removeChild(q)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.hb);a.b("utils.arrayFilter",
a.a.la);a.b("utils.arrayGetDistinctValues",a.a.ib);a.b("utils.arrayIndexOf",a.a.l);a.b("utils.arrayMap",a.a.ya);a.b("utils.arrayPushAll",a.a.$);a.b("utils.arrayRemoveItem",a.a.ma);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.mb);a.b("utils.getFormFields",a.a.ob);a.b("utils.peekObservable",a.a.Sa);a.b("utils.postJson",a.a.gc);a.b("utils.parseJson",a.a.fc);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Ya);a.b("utils.range",a.a.ic);a.b("utils.toggleDomNodeCssClass",
a.a.ua);a.b("utils.triggerEvent",a.a.ha);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.A);a.b("utils.addOrRemoveItem",a.a.Y);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(f,e){var g=f[c];if(!g||"null"===g||!d[g]){if(!e)return r;g=f[c]="ko"+b++;d[g]={}}return d[g]}
var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var d=a(b,!1);return d===r?r:d[c]},set:function(b,c,d){if(d!==r||a(b,!1)!==r)a(b,!0)[c]=d},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},L:function(){return b++ +c}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);a.a.u=new function(){function f(b,f){var c=a.a.f.get(b,d);c===r&&f&&(c=[],a.a.f.set(b,d,c));return c}function c(b){var d=f(b,!1);if(d)for(var d=d.slice(0),k=0;k<d.length;k++)d[k](b);
a.a.f.clear(b);a.a.u.cleanExternalData(b);if(g[b.nodeType])for(d=b.firstChild;b=d;)d=b.nextSibling,8===b.nodeType&&c(b)}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{ja:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");f(a,!0).push(b)},Ab:function(b,c){var m=f(b,!1);m&&(a.a.ma(m,c),0==m.length&&a.a.f.set(b,d,r))},M:function(b){if(e[b.nodeType]&&(c(b),g[b.nodeType])){var f=[];a.a.$(f,b.getElementsByTagName("*"));for(var d=0,k=f.length;d<k;d++)c(f[d])}return b},
removeNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b("cleanNode",a.M);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.u);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.u.ja);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.u.Ab);(function(){a.a.Qa=function(f){var d;if(b)if(b.parseHTML)d=b.parseHTML(f)||[];else{if((d=b.clean([f]))&&
d[0]){for(f=d[0];f.parentNode&&11!==f.parentNode.nodeType;)f=f.parentNode;f.parentNode&&f.parentNode.removeChild(f)}}else{var k=a.a.ta(f).toLowerCase();d=h.createElement("div");k=k.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];f="ignored<div>"+k[1]+f+k[2]+"</div>";for("function"==typeof c.innerShiv?d.appendChild(c.innerShiv(f)):
d.innerHTML=f;k[0]--;)d=d.lastChild;d=a.a.R(d.lastChild.childNodes)}return d};a.a.Va=function(f,c){a.a.Fa(f);c=a.a.c(c);if(null!==c&&c!==r)if("string"!=typeof c&&(c=c.toString()),b)b(f).html(c);else for(var d=a.a.Qa(c),e=0;e<d.length;e++)f.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.Qa);a.b("utils.setHtml",a.a.Va);a.w=function(){function b(c,d){if(c)if(8==c.nodeType){var m=a.w.xb(c.nodeValue);null!=m&&d.push({Rb:c,cc:m})}else if(1==c.nodeType)for(var m=0,e=c.childNodes,g=e.length;m<g;m++)b(e[m],
d)}var c={};return{Na:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Hb:function(a,b){var f=c[a];if(f===r)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,d){var m=
[];b(c,m);for(var e=0,g=m.length;e<g;e++){var q=m[e].Rb,s=[q];d&&a.a.$(s,d);a.w.Hb(m[e].cc,s);q.nodeValue="";q.parentNode&&q.parentNode.removeChild(q)}},xb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.w);a.b("memoization.memoize",a.w.Na);a.b("memoization.unmemoize",a.w.Hb);a.b("memoization.parseMemoText",a.w.xb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);
d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?v:t;a.Ma(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:d}};var y={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,"dispose",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=
{}};g={V:function(b,c,d){var e=this;d=d||"change";var g=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],g)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(g);return g},notifySubscribers:function(b,c){c=c||"change";if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),e=0,g;g=d[e];++e)g.sb||g.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),e,g,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.bb(a):c.ia(a,b):c.cb(a)});var n=b(function(){d&&
h===c&&(h=c());e=!1;c.Ka(g,h)&&c.ia(g=h)});c.cb=function(a){e=!0;h=a;n()};c.bb=function(a){e||(g=a,c.ia(a,"beforeChange"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,c){b+=c.length});return b},Ka:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.A(b,function(b,f){var d=a.Ga[b];"function"==typeof d&&(c=d(c,f)||c)});return c}};a.s(g,"subscribe",g.V);a.s(g,"extend",g.extend);a.s(g,"getSubscriptionsCount",
g.Wb);a.a.na&&a.a.ra(g,Function.prototype);a.N.fn=g;a.tb=function(a){return null!=a&&"function"==typeof a.V&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.N);a.b("isSubscribable",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,g=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b))throw Error("Only subscribable things can act as dependencies");e.za(b,b.Kb||(b.Kb=++g))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e)return e.ba.fa()},
pa:function(){if(e)return e.pa}}}();a.b("computedContext",a.ca);a.b("computedContext.getDependenciesCount",a.ca.fa);a.b("computedContext.isInitial",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,"beforeChange")};a.s(c,"peek",c.o);a.s(c,"valueHasMutated",c.O);a.s(c,"valueWillMutate",
c.P);return c};a.m.fn={equalityComparer:d};var B=a.m.hc="__ko_proto__";a.m.fn[B]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===r||b[B]===r?!1:b[B]===c?!0:a.Ha(b[B],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return"function"==typeof b&&b[B]===a.m||"function"==typeof b&&b[B]===a.h&&b.Yb?!0:!1};a.b("observable",a.m);a.b("isObservable",a.v);a.b("isWriteableObservable",a.ub);a.T=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
b=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e="function"!=typeof b||a.v(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var h=c[g];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(g,1),g--)}d.length&&this.O();return d},removeAll:function(b){if(b===r){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=
"function"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.O()},destroyAll:function(b){return b===r?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.P(),this.o()[c]=b,this.O())}};a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.T.fn[b]=function(){var a=this.o();
this.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r(["slice"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b("observableArray",a.T);a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var m=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return m.apply(this,arguments)};var q=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb("arrayChange")){var d;
if(!e||1<g)e=a.a.Aa(q,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,"arrayChange")}q=c;e=null;g=0})}}if(!b.kb){var d=!1,e=null,g=0,h=b.V;b.V=b.subscribe=function(a,b,f){"arrayChange"===f&&c();return h.apply(this,arguments)};b.kb=function(b,c,f){function m(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(d&&!g){var h=[],w=b.length,G=f.length,F=0;switch(c){case "push":F=w;case "unshift":for(c=0;c<G;c++)m("added",f[c],F+c);break;case "pop":F=w-1;case "shift":w&&m("deleted",b[F],F);break;
case "splice":c=Math.min(Math.max(0,0>f[0]?w+f[0]:f[0]),w);for(var w=1===G?w:Math.min(c+(f[1]||0),w),G=c+G-2,F=Math.max(w,G),l=[],D=[],r=2;c<F;++c,++r)c<w&&D.push(m("deleted",b[c],c)),c<G&&l.push(m("added",f[r],c));a.a.nb(D,l);break;default:return}e=h}}}};a.ba=a.h=function(b,c,d){function e(){G=!0;a.a.A(v,function(a,b){b.F()});v={};x=0;p=!1}function g(){var a=n.throttleEvaluation;a&&0<=a?(clearTimeout(y),y=setTimeout(h,a)):n.wa?n.wa():h()}function h(){if(!l&&!G){if(t&&t()){if(!z){u();return}}else z=
!1;l=!0;try{var b=v,f=x;a.k.jb({za:function(a,c){G||(f&&b[c]?(v[c]=b[c],++x,delete b[c],--f):v[c]||(v[c]=a.V(g),++x))},ba:n,pa:!x});v={};x=0;try{var d=c?F.call(c):F()}finally{a.k.end(),f&&a.a.A(b,function(a,b){b.F()}),p=!1}n.Ka(s,d)&&(n.notifySubscribers(s,"beforeChange"),s=d,n.wa&&!n.throttleEvaluation||n.notifySubscribers(s))}finally{l=!1}x||u()}}function n(){if(0<arguments.length){if("function"===typeof H)H.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}p&&h();a.k.zb(n);return s}function q(){return p||0<x}var s,p=!0,l=!1,z=!1,G=!1,F=b;F&&"object"==typeof F?(d=F,F=d.read):(d=d||{},F||(F=d.read));if("function"!=typeof F)throw Error("Pass a function that returns the value of the ko.computed");var H=d.write,D=d.disposeWhenNodeIsRemoved||d.G||null,r=d.disposeWhen||d.Da,t=r,u=e,v={},x=0,y=null;c||(c=d.owner);a.N.call(n);a.a.sa(n,a.h.fn);n.o=function(){p&&!x&&h();return s};n.fa=function(){return x};n.Yb="function"===typeof d.write;n.F=function(){u()};
n.ga=q;var B=n.Ma;n.Ma=function(a){B.call(n,a);n.wa=function(){n.bb(s);p=!0;n.cb(n)}};a.s(n,"peek",n.o);a.s(n,"dispose",n.F);a.s(n,"isActive",n.ga);a.s(n,"getDependenciesCount",n.fa);D&&(z=!0,D.nodeType&&(t=function(){return!a.a.Ea(D)||r&&r()}));!0!==d.deferEvaluation&&h();D&&q()&&D.nodeType&&(u=function(){a.a.u.Ab(D,u);e()},a.a.u.ja(D,u));return n};a.$b=function(b){return a.Ha(b,a.h)};g=a.m.hc;a.h[g]=a.m;a.h.fn={equalityComparer:d};a.h.fn[g]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b("dependentObservable",
a.h);a.b("computed",a.h);a.b("isComputed",a.$b);(function(){function b(a,e,g){g=g||new d;a=e(a);if("object"!=typeof a||null===a||a===r||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var n=a instanceof Array?[]:{};g.save(a,n);c(a,function(c){var d=e(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":n[c]=d;break;case "object":case "undefined":var k=g.get(d);n[c]=k!==r?k:b(d,e,g)}});return n}function c(a,b){if(a instanceof Array){for(var f=
0;f<a.length;f++)b(f);"function"==typeof a.toJSON&&b("toJSON")}else for(f in a)b(f)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,f){b=a.Gb(b);return a.a.Ya(b,c,f)};d.prototype={save:function(b,c){var f=a.a.l(this.keys,b);0<=f?this.ab[f]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,
b);return 0<=b?this.ab[b]:r}}})();a.b("toJS",a.Gb);a.b("toJSON",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):r;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case "option":switch(typeof c){case "string":a.a.f.set(b,a.d.options.Pa,
r);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=r;for(var e=-1,g=0,h=b.options.length,n;g<h;++g)if(n=a.i.p(b.options[g]),n==c||""==n&&c===r){e=g;break}if(d||0<=e||c===r&&1<b.size)b.selectedIndex=e;break;default:if(null===c||c===r)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.p);a.b("selectExtensions.writeValue",a.i.X);a.g=function(){function b(c){c=a.a.ta(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var f=[],d=c.match(e),k,m,n=0;if(d){d.push(",");for(var l=0,H;H=d[l];++l){var D=H.charCodeAt(0);if(44===D){if(0>=n){k&&f.push(m?{key:k,value:m.join("")}:{unknown:k});k=m=n=0;continue}}else if(58===D){if(!m)continue}else if(47===D&&l&&1<H.length)(D=d[l-1].match(g))&&!h[D[0]]&&(c=c.substr(c.indexOf(H)+1),d=c.match(e),d.push(","),l=-1,H="/");else if(40===D||123===D||91===
D)++n;else if(41===D||125===D||93===D)--n;else if(!k&&!m){k=34===D||39===D?H.slice(1,-1):H;continue}m?m.push(H):m=[H]}}return f}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),g=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},n={};return{aa:[],W:n,Ra:b,qa:function(e,g){function h(b,f){var e,g=a.getBindingHandler(b);
if(g&&g.preprocess?f=g.preprocess(f,b,h):1){if(g=n[b])e=f,0<=a.a.l(c,e)?e=!1:(g=e.match(d),e=null===g?!1:g[1]?"Object("+g[1]+")"+g[2]:e),g=e;g&&l.push("'"+b+"':function(_z){"+e+"=_z}");G&&(f="function(){return "+f+" }");A.push("'"+b+"':"+f)}}g=g||{};var A=[],l=[],G=g.valueAccessors,F="string"===typeof e?b(e):e;a.a.r(F,function(a){h(a.key||a.unknown,a.value)});l.length&&h("_ko_property_writers","{"+l.join(",")+" }");return A.join(",")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;
return!1},va:function(b,c,f,d,e){if(b&&a.v(b))!a.ub(b)||e&&b.o()===d||b(d);else if((b=c.get("_ko_property_writers"))&&b[f])b[f](d)}}}();a.b("expressionRewriting",a.g);a.b("expressionRewriting.bindingRewriteValidators",a.g.aa);a.b("expressionRewriting.parseObjectLiteral",a.g.Ra);a.b("expressionRewriting.preProcessBindings",a.g.qa);a.b("expressionRewriting._twoWayBindings",a.g.W);a.b("jsonExpressionRewriting",a.g);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.g.qa);(function(){function b(a){return 8==
a.nodeType&&l.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&n.test(g?a.text:a.nodeValue)}function d(a,e){for(var g=a,k=1,n=[];g=g.nextSibling;){if(c(g)&&(k--,0===k))return n;n.push(g);b(g)&&k++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=h&&"\x3c!--test--\x3e"===h.createComment("test").text,l=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
n=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,q={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++)e.parentNode.insertBefore(d[g],e)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,
d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(g?a.text:a.nodeValue).match(l))?a[1]:null},wb:function(d){if(q[a.a.B(d)]){var g=d.firstChild;if(g){do if(1===g.nodeType){var k;k=g.firstChild;
var n=null;if(k){do if(n)n.push(k);else if(b(k)){var h=e(k,!0);h?k=h:n=[k]}else c(k)&&(n=[k]);while(k=k.nextSibling)}if(k=n)for(n=g.nextSibling,h=0;h<k.length;h++)n?d.insertBefore(k[h],n):d.appendChild(k[h])}while(g=g.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",a.e.Q);a.b("virtualElements.emptyNode",a.e.da);a.b("virtualElements.insertAfter",a.e.rb);a.b("virtualElements.prepend",a.e.yb);a.b("virtualElements.setDomNodeChildren",a.e.U);(function(){a.J=function(){this.Nb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):null},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.Nb,h=b+(e&&e.valueAccessors||""),n;if(!(n=g[h])){var q,s="with($context){with($data||{}){return{"+a.g.qa(b,e)+"}}}";q=new Function("$context","$element",s);n=g[h]=q}return n(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function d(a){return function(){return a}}function e(a){return a()}
function g(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function h(a,b){return g(this.getBindings.bind(this,a,b))}function l(b,c,d){var f,e=a.e.firstChild(c),g=a.J.instance,k=g.preprocessNode;if(k){for(;f=e;)e=a.e.nextSibling(f),k.call(g,f);e=a.e.firstChild(c)}for(;f=e;)e=a.e.nextSibling(f),w(b,f,d)}function w(b,c,d){var f=!0,e=1===c.nodeType;e&&a.e.wb(c);if(e&&d||a.J.instance.nodeHasBindings(c))f=q(c,null,b,d).shouldBindDescendants;f&&!p[a.a.B(c)]&&l(b,c,!e)}function n(b){var c=
[],d={},f=[];a.a.A(b,function L(e){if(!d[e]){var g=a.getBindingHandler(e);g&&(g.after&&(f.push(e),a.a.r(g.after,function(c){if(b[c]){if(-1!==a.a.l(f,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));L(c)}}),f.length--),c.push({key:e,pb:g}));d[e]=!0}});return c}function q(b,c,d,f){var g=a.a.f.get(b,I);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");a.a.f.set(b,I,!0)}!g&&f&&a.Eb(b,d);var k;if(c&&"function"!==
typeof c)k=c;else{var q=a.J.instance,s=q.getBindingAccessors||h,p=a.h(function(){(k=c?c(d,b):s.call(q,b,d))&&d.D&&d.D();return k},null,{G:b});k&&p.ga()||(p=null)}var l;if(k){var w=p?function(a){return function(){return e(p()[a])}}:function(a){return k[a]},z=function(){return a.a.Oa(p?p():k,e)};z.get=function(a){return k[a]&&e(w(a))};z.has=function(a){return a in k};f=n(k);a.a.r(f,function(c){var f=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g])throw Error("The binding '"+g+"' cannot be used with virtual elements");
try{"function"==typeof f&&a.k.t(function(){var a=f(b,w(g),z,d.$data,d);if(a&&a.controlsDescendantBindings){if(l!==r)throw Error("Multiple bindings ("+l+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=g}}),"function"==typeof e&&a.h(function(){e(b,w(g),z,d.$data,d)},null,{G:b})}catch(m){throw m.message='Unable to process binding "'+g+": "+k[g]+'"\nMessage: '+m.message,m;}})}return{shouldBindDescendants:l===r}}
function s(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var p={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,f){var e=this,g="function"==typeof b&&!a.v(b),k,m=a.h(function(){var k=g?b():b,n=a.a.c(k);c?(c.D&&c.D(),a.a.extend(e,c),m&&(e.D=m)):(e.$parents=[],e.$root=n,e.ko=a);e.$rawData=k;e.$data=n;d&&(e[d]=n);f&&f(e,c,n);return e.$data},null,{Da:function(){return k&&!a.a.eb(k)},G:!0});m.ga()&&(e.D=m,m.equalityComparer=null,k=[],m.Jb=function(b){k.push(b);a.a.u.ja(b,
function(b){a.a.ma(k,b);k.length||(m.F(),e.D=m=r)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var I=a.a.f.L(),z=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,z,c),
c.D&&c.D.Jb(b);else return a.a.f.get(b,z)};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return q(b,c,s(d),!0)};a.Lb=function(b,c,e){e=s(e);return a.xa(b,"function"===typeof c?g(c.bind(null,e,b)):a.a.Oa(c,d),e)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||l(s(a),b,!0)};a.fb=function(a,d){!b&&c.jQuery&&(b=c.jQuery);if(d&&1!==d.nodeType&&8!==d.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d=d||c.document.body;w(s(a),
d,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return r};a.Pb=function(b){return(b=a.Ca(b))?b.$data:r};a.b("bindingHandlers",a.d);a.b("applyBindings",a.fb);a.b("applyBindingsToDescendants",a.gb);a.b("applyBindingAccessorsToNode",a.xa);a.b("applyBindingsToNode",a.Lb);a.b("contextFor",a.Ca);a.b("dataFor",a.Pb)})();var C={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,
d){d=a.a.c(d);var e=!1===d||null===d||d===r;e&&b.removeAttribute(c);8>=a.a.oa&&c in C?(c=C[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&a.a.Cb(b,e?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):b.value}function g(){var n=b.checked,h=l?e():n;if(!a.ca.pa()&&(!q||n)){var w=a.k.t(c);s?p!==h?(n&&(a.a.Y(w,h,!0),a.a.Y(w,p,!1)),p=h):a.a.Y(w,h,n):a.g.va(w,d,"checked",
h,!0)}}function h(){var d=a.a.c(c());b.checked=s?0<=a.a.l(d,e()):n?d:e()===d}var n="checkbox"==b.type,q="radio"==b.type;if(n||q){var s=n&&a.a.c(c())instanceof Array,p=s?e():r,l=q||s;q&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(g,null,{G:b});a.a.q(b,"click",g);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||
""),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,g){var h=c()||{};a.a.A(h,function(n){"string"==typeof n&&a.a.q(b,n,function(b){var f,h=c()[n];if(h){try{var l=a.a.R(arguments);e=g.$data;l.unshift(e);f=h.apply(e,l)}finally{!0!==f&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(n+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,g){return a.d.template.update(b,a.d.foreach.vb(c),d,e,g)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(g){b.__ko_hasfocusUpdating=!0;var h=b.ownerDocument;if("activeElement"in h){var l;try{l=h.activeElement}catch(p){l=h.body}g=l===b}h=c();a.g.va(h,d,"hasfocus",g,!0);b.__ko_hasfocusLastValue=g;b.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,"focus",g);a.a.q(b,"focusin",
g);a.a.q(b,"blur",h);a.a.q(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?"focusin":"focusout"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};u("if");u("ifnot",!1,!0);u("with",!0,!1,function(a,b){return a.createChildContext(b)});var x={};a.d.options={init:function(b){if("select"!==
a.a.B(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(t.length){var e=0<=a.a.l(t,a.i.p(d[0]));a.a.Db(d[0],e);z&&!e&&a.k.t(a.a.ha,null,[b,"change"])}}var n=0!=b.length&&b.multiple?b.scrollTop:null,q=a.a.c(c()),l=d.get("optionsIncludeDestroyed");
c={};var p,t;t=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];q&&("undefined"==typeof q.length&&(q=[q]),p=a.a.la(q,function(b){return l||b===r||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(q=a.a.c(d.get("optionsCaption")),null!==q&&q!==r&&p.unshift(x)));var z=!1;c.beforeRemove=function(a){b.removeChild(a)};q=h;d.has("optionsAfterRender")&&(q=function(b,c){h(0,c);a.k.t(d.get("optionsAfterRender"),null,[c[0],b!==x?b:r])});a.a.Ua(b,p,function(c,e,n){n.length&&
(t=n[0].selected?[a.i.p(n[0])]:[],z=!0);e=b.ownerDocument.createElement("option");c===x?(a.a.Xa(e,d.get("optionsCaption")),a.i.X(e,r)):(n=g(c,d.get("optionsValue"),c),a.i.X(e,a.a.c(n)),c=g(c,d.get("optionsText"),n),a.a.Xa(e,c));return[e]},c,q);a.k.t(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.X(b,a.a.c(d.get("value")),!0):(b.multiple?t.length&&e().length<t.length:t.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex)&&a.a.ha(b,"change")});a.a.Tb(b);
n&&20<Math.abs(n-b.scrollTop)&&(b.scrollTop=n)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var e=c(),g=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.i.p(b))});a.g.va(e,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.a.B(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=
0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||""})}};a.d.submit={init:function(b,c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.q(b,"submit",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:["options","foreach"],init:function(b,c,d){function e(){n=!1;var g=c(),h=a.i.p(b);a.g.va(g,d,"value",h)}var g=["change"],h=d.get("valueUpdate"),n=!1;h&&("string"==typeof h&&(h=[h]),a.a.$(g,h),g=a.a.ib(g));!a.a.oa||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||
-1!=a.a.l(g,"propertychange")||(a.a.q(b,"propertychange",function(){n=!0}),a.a.q(b,"focus",function(){n=!1}),a.a.q(b,"blur",function(){n&&e()}));a.a.r(g,function(c){var d=e;a.a.kc(c,"after")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c)if("select"===a.a.B(b)){var g=d.get("valueAllowUnset");d=function(){a.i.X(b,e,g)};d();g||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,"change"])}else a.i.X(b,e)}};a.g.W.value=!0;a.d.visible=
{update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,g,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,h)}}})("click");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.C.prototype.makeTemplateSource=
function(b,c){if("string"==typeof b){c=c||h;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error("Unknown template type: "+b);};a.C.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.C.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.C.prototype.rewriteTemplate=
function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.C);a.Za=function(){function b(c,d,e,f){c=a.g.Ra(c);for(var g=a.g.aa,k=0;k<c.length;k++){var h=c[k].key;if(g.hasOwnProperty(h)){var m=g[h];if("function"===typeof m){if(h=m(c[k].value))throw Error(h);}else if(!m)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.g.qa(c,
{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,e){return a.replace(c,function(a,c,d,g,k){return b(k,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e",
"#comment",e)})},Mb:function(b,c){return a.w.Na(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.xa(f,b,e)})}}}();a.b("__tr_ambtns",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.j[b];var c=arguments[0];"innerHTML"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+"_";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,
b+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===r&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b("templateSources",a.n);a.b("templateSources.domElement",a.n.j);a.b("templateSources.anonymousTemplate",
a.n.Z)})();(function(){function b(c,d,e){var f;for(d=a.e.nextSibling(d);c&&(f=c)!==d;)c=a.e.nextSibling(f),e(f,c)}function c(d,e){if(d.length){var g=d[0],k=d[d.length-1],h=g.parentNode,m=a.J.instance,l=m.preprocessNode;if(l){b(g,k,function(a,b){var c=a.previousSibling,d=l.call(m,a);d&&(a===g&&(g=d[0]||b),a===k&&(k=d[d.length-1]||c))});d.length=0;if(!g)return;g===k?d.push(g):(d.push(g,k),a.a.ea(d,h))}b(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(e,b)});b(g,k,function(b){1!==b.nodeType&&8!==
b.nodeType||a.w.Ib(b,[e])});a.a.ea(d,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,f,h,l,w){w=w||{};var z=b&&d(b),z=z&&z.ownerDocument,t=w.templateEngine||g;a.Za.Ub(h,t,z);h=t.renderTemplate(h,l,w,z);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");z=!1;switch(f){case "replaceChildren":a.e.U(b,h);z=!0;break;case "replaceNode":a.a.Bb(b,h);z=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
f);}z&&(c(h,l),w.afterRender&&a.k.t(w.afterRender,null,[h,l.$data]));return h}var g;a.Wa=function(b){if(b!=r&&!(b instanceof a.C))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.Ta=function(b,c,f,h,m){f=f||{};if((f.templateEngine||g)==r)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(h){var l=d(h);return a.h(function(){var g=c&&c instanceof a.I?c:new a.I(a.a.c(c)),w=a.v(b)?b():"function"==typeof b?b(g.$data,g):b,g=e(h,m,w,g,f);
"replaceNode"==m&&(h=g,l=d(h))},null,{Da:function(){return!l||!a.a.Ea(l)},G:l&&"replaceNode"==m?l.parentNode:l})}return a.w.Na(function(d){a.Ta(b,c,f,d,"replaceNode")})};a.jc=function(b,d,f,g,h){function k(a,b){c(b,w);f.afterRender&&f.afterRender(b,a)}function l(a,c){w=h.createChildContext(a,f.as,function(a){a.$index=c});var d="function"==typeof b?b(a,w):b;return e(null,"ignoreTargetNode",d,w,f)}var w;return a.h(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||
b===r||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[g,b,l,f,k])},null,{G:g})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),k;c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),k=a.a.c(c.data));"foreach"in c?e=a.jc(g||b,d&&c.foreach||
[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=a.Ta(g||b,f,c,b)):a.e.da(b);f=e;(k=a.a.f.get(b,h))&&"function"==typeof k.F&&k.F();a.a.f.set(b,h,f&&f.ga()?f:r)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.Q.template=!0})();a.b("setTemplateEngine",a.Wa);a.b("renderTemplate",a.Ta);a.a.nb=function(a,b,c){if(a.length&&b.length){var d,e,g,h,l;for(d=
e=0;(!c||d<c)&&(h=a[e]);++e){for(g=0;l=b[g];++g)if(h.value===l.value){h.moved=l.index;l.moved=h.index;b.splice(g,1);d=g=0;break}d+=g}}};a.a.Aa=function(){function b(c,d,e,f,g){var h=Math.min,l=Math.max,s=[],p,t=c.length,r,u=d.length,v=u-t||1,x=t+u+1,y,B,C;for(p=0;p<=t;p++)for(B=y,s.push(y=[]),C=h(u,p+v),r=l(0,p-1);r<=C;r++)y[r]=r?p?c[p-1]===d[r-1]?B[r-1]:h(B[r]||x,y[r-1]||x)+1:r+1:p+1;h=[];l=[];v=[];p=t;for(r=u;p||r;)u=s[p][r]-1,r&&u===s[p][r-1]?l.push(h[h.length]={status:e,value:d[--r],index:r}):
p&&u===s[p-1][r]?v.push(h[h.length]={status:f,value:c[--p],index:p}):(--r,--p,g.sparse||h.push({status:"retained",value:d[r]}));a.a.nb(l,v,10*t);return h.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Aa);(function(){function b(c,d,e,f,g){var h=[],l=a.h(function(){var b=d(e,g,a.a.ea(h,c))||[];0<h.length&&(a.a.Bb(h,b),f&&a.k.t(f,null,[e,
b,g]));h.length=0;a.a.$(h,b)},null,{G:c,Da:function(){return!a.a.eb(h)}});return{S:h,h:l.ga()?l:r}}var c=a.a.f.L();a.a.Ua=function(d,e,g,h,l){function q(b,c){E=u[c];C!==c&&(P[b]=E);E.Ia(C++);a.a.ea(E.S,d);y.push(E);L.push(E)}function t(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}e=e||[];h=h||{};var p=a.a.f.get(d,c)===r,u=a.a.f.get(d,c)||[],v=a.a.ya(u,function(a){return a.ka}),x=a.a.Aa(v,e,h.dontLimitMoves),y=[],B=0,C=0,O=[],L=[];e=[];for(var P=[],v=[],
E,K=0,M,N;M=x[K];K++)switch(N=M.moved,M.status){case "deleted":N===r&&(E=u[B],E.h&&E.h.F(),O.push.apply(O,a.a.ea(E.S,d)),h.beforeRemove&&(e[K]=E,L.push(E)));B++;break;case "retained":q(K,B++);break;case "added":N!==r?q(K,N):(E={ka:M.value,Ia:a.m(C++)},y.push(E),L.push(E),p||(v[K]=E))}t(h.beforeMove,P);a.a.r(O,h.beforeRemove?a.M:a.removeNode);for(var K=0,p=a.e.firstChild(d),Q;E=L[K];K++){E.S||a.a.extend(E,b(d,g,E.ka,l,E.Ia));for(B=0;x=E.S[B];p=x.nextSibling,Q=x,B++)x!==p&&a.e.rb(d,x,Q);!E.Zb&&l&&(l(E.ka,
E.S,E.Ia),E.Zb=!0)}t(h.beforeRemove,e);t(h.afterMove,P);t(h.afterAdd,v);a.a.f.set(d,c,y)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b("nativeTemplateEngine",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!b||
!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,c,d);d.appendTo(h.createElement("div"));
b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){h.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.La.prototype=new a.C;var c=new a.La;0<c.ac&&a.Wa(c);a.b("jqueryTmplTemplateEngine",a.La)})()})})()})();
(function(r){r.Tools={};r.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var h=16*Math.random()|0;return("x"==c?h:h&3|8).toString(16)})};r.Tools.createCookie=function(c,h,e){if(e){var b=new Date;b.setTime(b.getTime()+864E5*e);e="; expires="+b.toGMTString()}else e="";document.cookie=c+"="+h+e+"; path=/"};r.Tools.readCookie=function(c){c+="=";for(var h=document.cookie.split(";"),e=0;e<h.length;e++){for(var b=h[e];" "==b.charAt(0);)b=b.substring(1,b.length);
if(0==b.indexOf(c))return b.substring(c.length,b.length)}return null};r.Tools.eraseCookie=function(c){createCookie(c,"",-1)}})(window.EP=window.EP||{});
(function(r){r.User=function(c,h){var e=this;e.uuid=h||r.Tools.uuid();e.name=ko.observable("");e.estimation=ko.observable(!1);e.broadcast=function(){c.emit("update",ko.toJSON(e))};e.loadFromCookie=function(){r.Tools.readCookie("ep.user.name")&&r.Tools.readCookie("ep.user.uuid")&&(e.name(r.Tools.readCookie("ep.user.name")),e.uuid=r.Tools.readCookie("ep.user.uuid"))};e.saveToCookie=function(){r.Tools.createCookie("ep.user.name",e.name());r.Tools.createCookie("ep.user.uuid",e.uuid)}};r.PokerView=function(c){var h=
this,e=function(){var b=[];h.users().forEach(function(c,e){!1!==c.estimation()&&b.push(c.estimation())});!1!==h.localUser().estimation()&&b.push(h.localUser().estimation());return b},b=function(b){for(var c=0;c<h.users().length;c++)if(h.users()[c].uuid===b)return c;return!1},l=io.connect("/");l.on("update",function(c){c=JSON.parse(c);if(void 0!==c.uuid){var e;e=b(c.uuid);e=!1===e?!1:h.users()[e];e||(e=new r.User(l,c.uuid),h.users.push(e));e.name(c.name);e.estimation(c.estimation)}else h.storyTitle(c.storyTitle)});
l.on("who is there",function(){h.localUser().broadcast();g()});l.on("user disconnected",function(c){c=b(c);h.users.splice(c,1)});l.on("new round",function(){h.localUser().estimation(!1)});h.initNewRound=function(){h.localUser().estimation(!1);l.emit("new round")};h.localUser=ko.observable(new r.User(l));h.localUser().loadFromCookie();h.localUser().name.subscribe(function(){h.localUser().broadcast();h.localUser().saveToCookie()});h.localUser().estimation.subscribe(function(){h.localUser().broadcast()});
l.emit("join",{groupName:c,userUuid:h.localUser().uuid});h.localUser().broadcast();h.users=ko.observableArray([]);h.storyTitle=ko.observable("");h.storyTitle.subscribe(function(){g()});h.highestEstimation=ko.computed(function(){var b=e(),b=Math.max.apply(null,b);return-Infinity===b?!1:b});h.lowestEstimation=ko.computed(function(){var b=e(),b=Math.min.apply(null,b);return Infinity===b?!1:b});h.estimationsComplete=ko.computed(function(){for(var b=0;b<h.users().length;b++)if(!1===h.users()[b].estimation())return!1;
return!1===h.localUser().estimation()?!1:!0});var g=function(){var b={storyTitle:h.storyTitle()};l.emit("update",JSON.stringify(b))}}})(window.EP=window.EP||{});
(function(r){r.bindingHandlers.estimationSelect={init:function(c,h){var e=[0,1,2,3,5,8,13,20,40,100];c.classList.add("estimationSelect");for(var b=0;b<e.length;b++)c.insertAdjacentHTML("beforeend",'<button type="button" class="btn">'+e[b]+"</button>");e=c.querySelectorAll("button");for(b=0;b<e.length;b++)e[b].addEventListener("click",function(){var b=h();this.classList.contains("active")?b(!1):b(+this.textContent)})},update:function(c,h){for(var e=h(),b=c.querySelectorAll("button"),l=0;l<b.length;l++)+b[l].textContent===
e()?b[l].classList.add("active"):b[l].classList.remove("active")}};r.bindingHandlers.editableText={init:function(c,h){c.classList.add("editableText");c.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');c.querySelector(".et-form").style.display="none";var e=function(){c.classList.remove("editing");
c.querySelector(".et-display").style.display="";c.querySelector(".et-form").style.display="none";h()(c.querySelector("input").value)};c.querySelector(".et-display").addEventListener("click",function(){c.classList.add("editing");c.querySelector(".et-display").style.display="none";c.querySelector(".et-form").style.display="";c.querySelector(".et-form input").focus()});c.querySelector("button").addEventListener("click",e);c.querySelector("input").addEventListener("keypress",function(b){13===b.keyCode&&
e()});c.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(c.classList.remove("editing"),c.querySelector(".et-display").style.display="",c.querySelector(".et-form").style.display="none")})},update:function(c,h){var e=h();c.querySelector(".et-label").textContent=e();c.querySelector("input").value=e();e()?c.querySelector(".et-hint").style.display="none":(c.querySelector(".et-hint").textContent=c.getAttribute("data-edit-hint")||"edit",c.querySelector(".et-hint").style.display=
"")}}})(ko);(function(r){""===location.hash&&(location.hash=r.Tools.uuid());r=new r.PokerView(location.hash);ko.applyBindings(r)})(window.EP=window.EP||{});

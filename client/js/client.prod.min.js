!function(r){"object"==typeof exports?module.exports=r():"function"==typeof define&&define.amd?define(r):"undefined"!=typeof window?window.io=r():"undefined"!=typeof global?global.io=r():"undefined"!=typeof self&&(self.io=r())}(function(){return function c(h,f,b){function l(g,v){if(!f[g]){if(!h[g]){var w="function"==typeof require&&require;if(!v&&w)return w(g,!0);if(d)return d(g,!0);throw Error("Cannot find module '"+g+"'");}w=f[g]={exports:{}};h[g][0].call(w.exports,function(a){var b=h[g][1][a];
return l(b?b:a)},w,w.exports,c,h,f,b)}return f[g].exports}for(var d="function"==typeof require&&require,g=0;g<b.length;g++)l(b[g]);return l}({1:[function(c,h,f){h.exports=c("./lib/")},{"./lib/":2}],2:[function(c,h,f){function b(b,a){"object"==typeof b&&(a=b,b=void 0);a=a||{};var d=l(b),B=d.source,c=d.id;a.forceNew||a["force new connection"]||!1===a.multiplex?(q("ignoring socket cache for %s",B),B=g(B,a)):(v[c]||(q("new io instance for %s",B),v[c]=g(B,a)),B=v[c]);return B.socket(d.path)}var l=c("./url"),
d=c("socket.io-parser"),g=c("./manager"),q=c("debug")("socket.io-client");h.exports=f=b;var v=f.managers={};f.protocol=d.protocol;f.connect=b;f.Manager=c("./manager");f.Socket=c("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(c,h,f){function b(a,d){if(!(this instanceof b))return new b(a,d);a&&"object"==typeof a&&(d=a,a=void 0);d=d||{};d.path=d.path||"/socket.io";this.nsps={};this.subs=[];this.opts=d;this.reconnection(!1!==d.reconnection);this.reconnectionAttempts(d.reconnectionAttempts||
Infinity);this.reconnectionDelay(d.reconnectionDelay||1E3);this.reconnectionDelayMax(d.reconnectionDelayMax||5E3);this.timeout(null==d.timeout?2E4:d.timeout);this.readyState="closed";this.uri=a;this.attempts=this.connected=0;this.encoding=!1;this.packetBuffer=[];this.encoder=new g.Encoder;this.decoder=new g.Decoder;this.open()}c("./url");var l=c("engine.io-client"),d=c("./socket");f=c("component-emitter");var g=c("socket.io-parser"),q=c("./on"),v=c("component-bind");c("object-component");var w=c("debug")("socket.io-client:manager");
h.exports=b;b.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};f(b.prototype);b.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};b.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};b.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;
this._reconnectionDelay=a;return this};b.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;return this};b.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};b.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())};b.prototype.open=b.prototype.connect=function(a){w("readyState %s",this.readyState);
if(~this.readyState.indexOf("open"))return this;w("opening %s",this.uri);var b=this.engine=l(this.uri,this.opts),B=this;this.readyState="opening";var d=q(b,"open",function(){B.onopen();a&&a()}),g=q(b,"error",function(e){w("connect_error");B.cleanup();B.readyState="closed";B.emitAll("connect_error",e);if(a){var m=Error("Connection error");m.data=e;a(m)}B.maybeReconnectOnOpen()});if(!1!==this._timeout){var e=this._timeout;w("connect attempt will timeout after %d",e);var m=setTimeout(function(){w("connect attempt timed out after %d",
e);d.destroy();b.close();b.emit("error","timeout");B.emitAll("connect_timeout",e)},e);this.subs.push({destroy:function(){clearTimeout(m)}})}this.subs.push(d);this.subs.push(g);return this};b.prototype.onopen=function(){w("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(q(a,"data",v(this,"ondata")));this.subs.push(q(this.decoder,"decoded",v(this,"ondecoded")));this.subs.push(q(a,"error",v(this,"onerror")));this.subs.push(q(a,"close",v(this,"onclose")))};
b.prototype.ondata=function(a){this.decoder.add(a)};b.prototype.ondecoded=function(a){this.emit("packet",a)};b.prototype.onerror=function(a){w("error",a);this.emitAll("error",a)};b.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new d(this,a);this.nsps[a]=b;var B=this;b.on("connect",function(){B.connected++})}return b};b.prototype.destroy=function(a){--this.connected||this.close()};b.prototype.packet=function(a){w("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=
!0,this.encoder.encode(a,function(a){for(var d=0;d<a.length;d++)b.engine.write(a[d]);b.encoding=!1;b.processPacketQueue()}))};b.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};b.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};b.prototype.close=b.prototype.disconnect=function(){this.skipReconnect=!0;this.engine.close()};b.prototype.onclose=
function(a){w("close");this.cleanup();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};b.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;this.attempts++;if(this.attempts>this._reconnectionAttempts)w("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay(),b=Math.min(b,this.reconnectionDelayMax());w("will wait %dms before reconnect attempt",b);this.reconnecting=
!0;var B=setTimeout(function(){w("attempting reconnect");a.emitAll("reconnect_attempt",a.attempts);a.emitAll("reconnecting",a.attempts);a.open(function(b){b?(w("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(w("reconnect success"),a.onreconnect())})},b);this.subs.push({destroy:function(){clearTimeout(B)}})}};b.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0;this.reconnecting=!1;this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,
"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":11,"object-component":37,"socket.io-parser":40}],4:[function(c,h,f){h.exports=function(b,l,d){b.on(l,d);return{destroy:function(){b.removeListener(l,d)}}}},{}],5:[function(c,h,f){function b(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.subEvents()}var l=c("socket.io-parser");f=c("component-emitter");var d=
c("to-array"),g=c("./on"),q=c("component-bind"),v=c("debug")("socket.io-client:socket"),w=c("has-binary-data");c("indexof");h.exports=b;var a={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},y=f.prototype.emit;f(b.prototype);b.prototype.subEvents=function(){var a=this.io;this.subs=[g(a,"open",q(this,"onopen")),g(a,"packet",q(this,"onpacket")),g(a,"close",q(this,"onclose"))]};b.prototype.open=b.prototype.connect=
function(){if(this.connected)return this;this.io.open();if("open"==this.io.readyState)this.onopen();return this};b.prototype.send=function(){var a=d(arguments);a.unshift("message");this.emit.apply(this,a);return this};b.prototype.emit=function(b){if(a.hasOwnProperty(b))return y.apply(this,arguments),this;var g=d(arguments),q=l.EVENT;w(g)&&(q=l.BINARY_EVENT);q={type:q,data:g};"function"==typeof g[g.length-1]&&(v("emitting packet with ack id %d",this.ids),this.acks[this.ids]=g.pop(),q.id=this.ids++);
this.connected?this.packet(q):this.sendBuffer.push(q);return this};b.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};b.prototype.onopen=function(){v("transport is open - connecting");"/"!=this.nsp&&this.packet({type:l.CONNECT})};b.prototype.onclose=function(a){v("close (%s)",a);this.connected=!1;this.disconnected=!0;this.emit("disconnect",a)};b.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case l.CONNECT:this.onconnect();break;case l.EVENT:this.onevent(a);break;case l.BINARY_EVENT:this.onevent(a);
break;case l.ACK:this.onack(a);break;case l.BINARY_ACK:this.onack(a);break;case l.DISCONNECT:this.ondisconnect();break;case l.ERROR:this.emit("error",a.data)}};b.prototype.onevent=function(a){var b=a.data||[];v("emitting event %j",b);null!=a.id&&(v("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?y.apply(this,b):this.receiveBuffer.push(b)};b.prototype.ack=function(a){var b=this,g=!1;return function(){if(!g){g=!0;var e=d(arguments);v("sending ack %j",e);var m=w(e)?l.BINARY_ACK:
l.ACK;b.packet({type:m,id:a,data:e})}}};b.prototype.onack=function(a){v("calling ack %s with %j",a.id,a.data);this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};b.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};b.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)y.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=
[]};b.prototype.ondisconnect=function(){v("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};b.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)};b.prototype.close=b.prototype.disconnect=function(){if(!this.connected)return this;v("performing disconnect (%s)",this.nsp);this.packet({type:l.DISCONNECT});this.destroy();this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":7,"component-emitter":8,
debug:9,"has-binary-data":32,indexof:36,"socket.io-parser":40,"to-array":43}],6:[function(c,h,f){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("parseuri"),d=c("debug")("socket.io-client:url");h.exports=function(g,q){var c=g;q=q||b.location;null==g&&(g=q.protocol+"//"+q.hostname);"string"==typeof g&&("/"==g.charAt(0)&&"undefined"!=typeof q&&(g=q.hostname+g),/^(https?|wss?):\/\//.test(g)||(d("protocol-less url %s",g),g="undefined"!=typeof q?q.protocol+"//"+g:"https://"+
g),d("parse %s",g),c=l(g));c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443"));c.path=c.path||"/";c.id=c.protocol+"://"+c.host+":"+c.port;c.href=c.protocol+"://"+c.host+(q&&q.port==c.port?"":":"+c.port);return c}},{debug:9,parseuri:38}],7:[function(c,h,f){var b=[].slice;h.exports=function(l,d){"string"==typeof d&&(d=l[d]);if("function"!=typeof d)throw Error("bind() requires a function");var g=b.call(arguments,2);return function(){return d.apply(l,g.concat(b.call(arguments)))}}},
{}],8:[function(c,h,f){function b(l){if(l){for(var d in b.prototype)l[d]=b.prototype[d];return l}}h.exports=b;b.prototype.on=b.prototype.addEventListener=function(b,d){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(d);return this};b.prototype.once=function(b,d){function g(){c.off(b,g);d.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};g.fn=d;this.on(b,g);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=
b.prototype.removeEventListener=function(b,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var g=this._callbacks[b];if(!g)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,f=0;f<g.length;f++)if(c=g[f],c===d||c.fn===d){g.splice(f,1);break}return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),g=this._callbacks[b];if(g)for(var g=g.slice(0),c=0,f=g.length;c<f;++c)g[c].apply(this,
d);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],9:[function(c,h,f){function b(d){return b.enabled(d)?function(g){g instanceof Error&&(g=g.stack||g.message);var c=new Date,l=c-(b[d]||c);b[d]=c;g=d+" "+g+" +"+b.humanize(l);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}h.exports=b;b.names=[];b.skips=
[];b.enable=function(d){try{localStorage.debug=d}catch(g){}for(var c=(d||"").split(/[\s,]+/),l=c.length,f=0;f<l;f++)d=c[f].replace("*",".*?"),"-"===d[0]?b.skips.push(new RegExp("^"+d.substr(1)+"$")):b.names.push(new RegExp("^"+d+"$"))};b.disable=function(){b.enable("")};b.humanize=function(b){return 36E5<=b?(b/36E5).toFixed(1)+"h":6E4<=b?(b/6E4).toFixed(1)+"m":1E3<=b?(b/1E3|0)+"s":b+"ms"};b.enabled=function(d){for(var g=0,c=b.skips.length;g<c;g++)if(b.skips[g].test(d))return!1;g=0;for(c=b.names.length;g<
c;g++)if(b.names[g].test(d))return!0;return!1};try{window.localStorage&&b.enable(localStorage.debug)}catch(l){}},{}],10:[function(c,h,f){function b(d){if(d){for(var g in b.prototype)d[g]=b.prototype[g];return d}}var l=c("indexof");h.exports=b;b.prototype.on=function(b,g){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(g);return this};b.prototype.once=function(b,g){function c(){l.off(b,c);g.apply(this,arguments)}var l=this;this._callbacks=this._callbacks||{};g._off=
c;this.on(b,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=function(b,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var q=this._callbacks[b];if(!q)return this;if(1==arguments.length)return delete this._callbacks[b],this;var f=l(q,c._off||c);~f&&q.splice(f,1);return this};b.prototype.emit=function(b){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),l=this._callbacks[b];if(l)for(var l=l.slice(0),
f=0,h=l.length;f<h;++f)l[f].apply(this,c);return this};b.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};b.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{indexof:36}],11:[function(c,h,f){h.exports=c("./lib/")},{"./lib/":12}],12:[function(c,h,f){h.exports=c("./socket");h.exports.parser=c("engine.io-parser")},{"./socket":13,"engine.io-parser":22}],13:[function(c,h,f){function b(a,d){if(!(this instanceof b))return new b(a,d);
d=d||{};a&&"object"==typeof a&&(d=a,a=null);a&&(a=w(a),d.host=a.host,d.secure="https"==a.protocol||"wss"==a.protocol,d.port=a.port,a.query&&(d.query=a.query));this.secure=null!=d.secure?d.secure:l.location&&"https:"==location.protocol;if(d.host){var c=d.host.split(":");d.hostname=c.shift();c.length&&(d.port=c.pop())}this.agent=d.agent||!1;this.hostname=d.hostname||(l.location?location.hostname:"localhost");this.port=d.port||(l.location&&location.port?location.port:this.secure?443:80);this.query=d.query||
{};"string"==typeof this.query&&(this.query=y.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.forceBase64=!!d.forceBase64;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.open();
this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades}var l="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},d=c("./transports");f=c("component-emitter");var g=c("debug")("engine.io-client:socket"),q=c("indexof"),v=c("engine.io-parser"),w=c("parseuri"),a=c("parsejson"),y=c("parseqs");h.exports=b;b.priorWebsocketSuccess=!1;f(b.prototype);b.protocol=v.protocol;b.Socket=b;b.Transport=c("./transport");b.transports=c("./transports");b.parser=c("engine.io-parser");b.prototype.createTransport=
function(a){g('creating transport "%s"',a);var b=this.query,c={},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);c.EIO=v.protocol;c.transport=a;this.id&&(c.sid=this.id);return new d[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this})};b.prototype.open=function(){var a;a=this.rememberUpgrade&&
b.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";a=this.createTransport(a);a.open();this.setTransport(a)};b.prototype.setTransport=function(a){g("setting transport %s",a.name);var b=this;this.transport&&(g("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",
function(){b.onClose("transport close")})};b.prototype.probe=function(a){function d(){if(u.onlyBinaryUpgrades){var e=!this.supportsBinary&&u.transport.supportsBinary;n=n||e}n||(g('probe transport "%s" opened',a),z.send([{type:"ping",data:"probe"}]),z.once("packet",function(e){n||("pong"==e.type&&"probe"==e.data?(g('probe transport "%s" pong',a),u.upgrading=!0,u.emit("upgrading",z),b.priorWebsocketSuccess="websocket"==z.name,g('pausing current transport "%s"',u.transport.name),u.transport.pause(function(){n||
"closed"==u.readyState||"closing"==u.readyState||(g("changing transport and sending upgrade packet"),K(),u.setTransport(z),z.send([{type:"upgrade"}]),u.emit("upgrade",z),z=null,u.upgrading=!1,u.flush())})):(g('probe transport "%s" failed',a),e=Error("probe error"),e.transport=z.name,u.emit("upgradeError",e)))}))}function c(){n||(n=!0,K(),z.close(),z=null)}function e(e){var b=Error("probe error: "+e);b.transport=z.name;c();g('probe transport "%s" failed because of error: %s',a,e);u.emit("upgradeError",
b)}function m(){e("transport closed")}function k(){e("socket closed")}function t(a){z&&a.name!=z.name&&(g('"%s" works - aborting "%s"',a.name,z.name),c())}function K(){z.removeListener("open",d);z.removeListener("error",e);z.removeListener("close",m);u.removeListener("close",k);u.removeListener("upgrading",t)}g('probing transport "%s"',a);var z=this.createTransport(a,{probe:1}),n=!1,u=this;b.priorWebsocketSuccess=!1;z.once("open",d);z.once("error",e);z.once("close",m);this.once("close",k);this.once("upgrading",
t);z.open()};b.prototype.onOpen=function(){g("socket open");this.readyState="open";b.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){g("starting upgrade probes");for(var a=0,d=this.upgrades.length;a<d;a++)this.probe(this.upgrades[a])}};b.prototype.onPacket=function(b){if("opening"==this.readyState||"open"==this.readyState)switch(g('socket receive: type "%s", data "%s"',b.type,b.data),this.emit("packet",
b),this.emit("heartbeat"),b.type){case "open":this.onHandshake(a(b.data));break;case "pong":this.setPing();break;case "error":var d=Error("server error");d.code=b.data;this.emit("error",d);break;case "message":this.emit("data",b.data),this.emit("message",b.data)}else g('packet received with socket readyState "%s"',this.readyState)};b.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=
a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};b.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};b.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){g("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};b.prototype.ping=function(){this.sendPacket("ping")};b.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};b.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&
this.writeBuffer.length&&(g("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};b.prototype.write=b.prototype.send=function(a,b){this.sendPacket("message",a,b);return this};b.prototype.sendPacket=function(a,b,d){a={type:a,data:b};this.emit("packetCreate",a);this.writeBuffer.push(a);this.callbackBuffer.push(d);this.flush()};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.onClose("forced close"),
g("socket closing - telling transport to close"),this.transport.close();return this};b.prototype.onError=function(a){g("socket error %j",a);b.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};b.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState){g('socket close with reason: "%s"',a);var d=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){d.writeBuffer=[];d.callbackBuffer=[];d.prevBufferLen=
0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,b)}};b.prototype.filterUpgrades=function(a){for(var b=[],d=0,e=a.length;d<e;d++)~q(this.transports,a[d])&&b.push(a[d]);return b}},{"./transport":14,"./transports":15,"component-emitter":8,debug:9,"engine.io-parser":22,indexof:36,parsejson:29,parseqs:30,parseuri:38}],14:[function(c,h,f){function b(b){this.path=b.path;this.hostname=b.hostname;
this.port=b.port;this.secure=b.secure;this.query=b.query;this.timestampParam=b.timestampParam;this.timestampRequests=b.timestampRequests;this.readyState="";this.agent=b.agent||!1;this.socket=b.socket}var l=c("engine.io-parser");c=c("component-emitter");h.exports=b;c(b.prototype);b.timestamps=0;b.prototype.onError=function(b,c){var l=Error(b);l.type="TransportError";l.description=c;this.emit("error",l);return this};b.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState=
"opening",this.doOpen();return this};b.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};b.prototype.send=function(b){if("open"==this.readyState)this.write(b);else throw Error("Transport not open");};b.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};b.prototype.onData=function(b){try{var c=l.decodePacket(b,this.socket.binaryType);this.onPacket(c)}catch(f){f.data=b,this.onError("parser decode error",
f)}};b.prototype.onPacket=function(b){this.emit("packet",b)};b.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":22}],15:[function(c,h,f){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("xmlhttprequest"),d=c("./polling-xhr"),g=c("./polling-jsonp");c=c("./websocket");f.polling=function(c){var f=!1;if(b.location){var f="https:"==location.protocol,h=location.port;h||(h=f?443:80);f=c.hostname!=location.hostname||
h!=c.port}c.xdomain=f;return"open"in new l(c)&&!c.forceJSONP?new d(c):new g(c)};f.websocket=c},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(c,h,f){function b(){}function l(a){g.call(this,a);this.query=this.query||{};w||(d.___eio||(d.___eio=[]),w=d.___eio);this.index=w.length;var c=this;w.push(function(a){c.onData(a)});this.query.j=this.index;d.document&&d.addEventListener&&d.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=b)})}var d=
"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},g=c("./polling");c=c("component-inherit");h.exports=l;var q=/\n/g,v=/\\n/g,w;c(l,g);l.prototype.supportsBinary=!1;l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.form=null);g.prototype.doClose.call(this)};l.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};l.prototype.doWrite=function(a,b){function d(){c();b()}function c(){if(g.iframe)try{g.form.removeChild(g.iframe)}catch(a){g.onError("jsonp polling iframe removal error",
a)}try{t=document.createElement('<iframe src="javascript:0" name="'+g.iframeId+'">')}catch(e){t=document.createElement("iframe"),t.name=g.iframeId,t.src="javascript:0"}t.id=g.iframeId;g.form.appendChild(t);g.iframe=t}var g=this;if(!this.form){var e=document.createElement("form"),m=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index,t;e.className="socketio";e.style.position="absolute";e.style.top="-1000px";e.style.left="-1000px";e.target=k;e.method="POST";e.setAttribute("accept-charset",
"utf-8");m.name="d";e.appendChild(m);document.body.appendChild(e);this.form=e;this.area=m}this.form.action=this.uri();c();a=a.replace(v,"\\\n");this.area.value=a.replace(q,"\\n");try{this.form.submit()}catch(K){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==g.iframe.readyState&&d()}:this.iframe.onload=d}},{"./polling":18,"component-inherit":21}],17:[function(c,h,f){function b(){}function l(a){w.call(this,a);if(q.location){var b="https:"==location.protocol,d=location.port;
d||(d=b?443:80);this.xd=a.hostname!=q.location.hostname||d!=a.port}}function d(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.create(a.isBinary,a.supportsBinary)}function g(){for(var a in d.requests)d.requests.hasOwnProperty(a)&&d.requests[a].abort()}var q="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},v=c("xmlhttprequest"),w=c("./polling");f=c("component-emitter");var a=c("component-inherit"),
y=c("debug")("engine.io-client:polling-xhr");h.exports=l;h.exports.Request=d;a(l,w);l.prototype.supportsBinary=!0;l.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;return new d(a)};l.prototype.doWrite=function(a,b){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),e=this;d.on("success",b);d.on("error",function(a){e.onError("xhr post error",a)});this.sendXhr=d};l.prototype.doPoll=function(){y("xhr poll");
var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};f(d.prototype);d.prototype.create=function(a,b){var c=this.xhr=new v({agent:this.agent,xdomain:this.xd}),e=this;try{y("xhr open %s: %s",this.method,this.uri);c.open(this.method,this.uri,this.async);b&&(c.responseType="arraybuffer");if("POST"==this.method)try{a?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(m){}"withCredentials"in
c&&(c.withCredentials=!0);c.onreadystatechange=function(){var a;try{if(4!=c.readyState)return;200==c.status||1223==c.status?a="application/octet-stream"===c.getResponseHeader("Content-Type")?c.response:b?"ok":c.responseText:setTimeout(function(){e.onError(c.status)},0)}catch(m){e.onError(m)}if(null!=a)e.onData(a)};y("xhr data %s",this.data);c.send(this.data)}catch(k){setTimeout(function(){e.onError(k)},0);return}q.document&&(this.index=d.requestsCount++,d.requests[this.index]=this)};d.prototype.onSuccess=
function(){this.emit("success");this.cleanup()};d.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};d.prototype.onError=function(a){this.emit("error",a);this.cleanup()};d.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=b;try{this.xhr.abort()}catch(a){}q.document&&delete d.requests[this.index];this.xhr=null}};d.prototype.abort=function(){this.cleanup()};q.document&&(d.requestsCount=0,d.requests={},q.attachEvent?q.attachEvent("onunload",
g):q.addEventListener&&q.addEventListener("beforeunload",g))},{"./polling":18,"component-emitter":8,"component-inherit":21,debug:9,xmlhttprequest:20}],18:[function(c,h,f){function b(b){var a=b&&b.forceBase64;if(!v||a)this.supportsBinary=!1;l.call(this,b)}var l=c("../transport"),d=c("parseqs"),g=c("engine.io-parser");f=c("component-inherit");var q=c("debug")("engine.io-client:polling");h.exports=b;var v=function(){return null!=(new (c("xmlhttprequest"))({agent:this.agent,xdomain:!1})).responseType}();
f(b,l);b.prototype.name="polling";b.prototype.doOpen=function(){this.poll()};b.prototype.pause=function(b){function a(){q("paused");d.readyState="paused";b()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var c=0;this.polling&&(q("we are currently polling - waiting to pause"),c++,this.once("pollComplete",function(){q("pre-pause polling complete");--c||a()}));this.writable||(q("we are currently writing - waiting to pause"),c++,this.once("drain",function(){q("pre-pause writing complete");
--c||a()}))}else a()};b.prototype.poll=function(){q("polling");this.polling=!0;this.doPoll();this.emit("poll")};b.prototype.onData=function(b){var a=this;q("polling got data %s",b);g.decodePayload(b,this.socket.binaryType,function(b,d,c){if("opening"==a.readyState)a.onOpen();if("close"==b.type)return a.onClose(),!1;a.onPacket(b)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():q('ignoring poll - transport state "%s"',this.readyState))};b.prototype.doClose=
function(){function b(){q("writing close packet");a.write([{type:"close"}])}var a=this;"open"==this.readyState?(q("transport open - closing"),b()):(q("transport not open - deferring close"),this.once("open",b))};b.prototype.write=function(b){var a=this;this.writable=!1;var d=function(){a.writable=!0;a.emit("drain")},a=this;g.encodePayload(b,this.supportsBinary,function(b){a.doWrite(b,d)})};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"https":"http",c="";!1!==this.timestampRequests&&
(b[this.timestampParam]=+new Date+"-"+l.timestamps++);this.supportsBinary||b.sid||(b.b64=1);b=d.encode(b);this.port&&("https"==a&&443!=this.port||"http"==a&&80!=this.port)&&(c=":"+this.port);b.length&&(b="?"+b);return a+"://"+this.hostname+c+this.path+b}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,xmlhttprequest:20}],19:[function(c,h,f){function b(b){b&&b.forceBase64&&(this.supportsBinary=!1);l.call(this,b)}var l=c("../transport"),d=c("engine.io-parser"),g=
c("parseqs");f=c("component-inherit");var q=c("debug")("engine.io-client:websocket"),v=c("ws");h.exports=b;f(b,l);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var b=this.uri();this.ws=new v(b,void 0,{agent:this.agent});void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var b=this;this.ws.onopen=function(){b.onOpen()};this.ws.onclose=function(){b.onClose()};
this.ws.onmessage=function(a){b.onData(a.data)};this.ws.onerror=function(a){b.onError("websocket error",a)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(b){var a=this;setTimeout(function(){l.prototype.onData.call(a,b)},0)});b.prototype.write=function(b){var a=this;this.writable=!1;for(var c=0,g=b.length;c<g;c++)d.encodePacket(b[c],this.supportsBinary,function(b){try{a.ws.send(b)}catch(d){q("websocket closed before onclose event")}});setTimeout(function(){a.writable=
!0;a.emit("drain")},0)};b.prototype.onClose=function(){l.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};b.prototype.uri=function(){var b=this.query||{},a=this.secure?"wss":"ws",d="";this.port&&("wss"==a&&443!=this.port||"ws"==a&&80!=this.port)&&(d=":"+this.port);this.timestampRequests&&(b[this.timestampParam]=+new Date);this.supportsBinary||(b.b64=1);b=g.encode(b);b.length&&(b="?"+b);return a+"://"+this.hostname+d+this.path+b};b.prototype.check=
function(){return!!v&&!("__initialize"in v&&this.name===b.prototype.name)}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,ws:31}],20:[function(c,h,f){var b=c("has-cors");h.exports=function(c){c=c.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!c||b))return new XMLHttpRequest}catch(d){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}},{"has-cors":34}],21:[function(c,h,f){h.exports=function(b,c){var d=function(){};d.prototype=c.prototype;
b.prototype=new d;b.prototype.constructor=b}},{}],22:[function(c,h,f){function b(a,b,k){if(!b)return f.encodeBase64Packet(a,k);var t=new FileReader;t.onload=function(){a.data=t.result;f.encodePacket(a,b,k)};return t.readAsArrayBuffer(a.data)}function l(a,b,k){var t=Array(a.length);k=v(a.length,k);for(var c=function(a,e,x){b(e,function(e,b){t[a]=b;x(e,t)})},d=0;d<a.length;d++)c(d,a[d],k)}var d="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};h=c("./keys");var g=c("arraybuffer.slice"),
q=c("base64-arraybuffer"),v=c("after"),w=c("utf8"),a=navigator.userAgent.match(/Android/i);f.protocol=2;var y=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},B=h(y),D={type:"error",data:"parser error"},A=c("blob");f.encodePacket=function(e,m,k){"function"==typeof m&&(k=m,m=!1);var t=void 0===e.data?void 0:e.data.buffer||e.data;if(d.ArrayBuffer&&t instanceof ArrayBuffer){if(m){t=e.data;m=new Uint8Array(t);t=new Uint8Array(1+t.byteLength);t[0]=y[e.type];for(e=0;e<m.length;e++)t[e+
1]=m[e];e=k(t.buffer)}else e=f.encodeBase64Packet(e,k);return e}if(A&&t instanceof d.Blob)return m?a?e=b(e,m,k):(m=new Uint8Array(1),m[0]=y[e.type],e=new A([m.buffer,e.data]),e=k(e)):e=f.encodeBase64Packet(e,k),e;m=y[e.type];void 0!==e.data&&(m+=w.encode(String(e.data)));return k(""+m)};f.encodeBase64Packet=function(a,b){var k="b"+f.packets[a.type];if(A&&a.data instanceof A){var t=new FileReader;t.onload=function(){var a=t.result.split(",")[1];b(k+a)};return t.readAsDataURL(a.data)}var c;try{c=String.fromCharCode.apply(null,
new Uint8Array(a.data))}catch(z){c=new Uint8Array(a.data);for(var n=Array(c.length),u=0;u<c.length;u++)n[u]=c[u];c=String.fromCharCode.apply(null,n)}k+=d.btoa(c);return b(k)};f.decodePacket=function(a,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return f.decodeBase64Packet(a.substr(1),b);a=w.decode(a);var k=a.charAt(0);return Number(k)==k&&B[k]?1<a.length?{type:B[k],data:a.substring(1)}:{type:B[k]}:D}var k=(new Uint8Array(a))[0],c=g(a,1);A&&"blob"===b&&(c=new A([c]));return{type:B[k],
data:c}};f.decodeBase64Packet=function(a,b){var k=B[a.charAt(0)];if(!d.ArrayBuffer)return{type:k,data:{base64:!0,data:a.substr(1)}};var c=q.decode(a.substr(1));"blob"===b&&A&&(c=new A([c]));return{type:k,data:c}};f.encodePayload=function(b,m,k){"function"==typeof m&&(k=m,m=null);if(m)return A&&!a?f.encodePayloadAsBlob(b,k):f.encodePayloadAsArrayBuffer(b,k);if(!b.length)return k("0:");l(b,function(a,b){f.encodePacket(a,m,function(a){b(null,a.length+":"+a)})},function(a,b){return k(b.join(""))})};f.decodePayload=
function(a,b,k){if("string"!=typeof a)return f.decodePayloadAsBinary(a,b,k);"function"===typeof b&&(k=b,b=null);var c;if(""==a)return k(D,0,1);c="";for(var d,z,n=0,u=a.length;n<u;n++)if(z=a.charAt(n),":"!=z)c+=z;else{if(""==c||c!=(d=Number(c)))return k(D,0,1);z=a.substr(n+1,d);if(c!=z.length)return k(D,0,1);if(z.length){c=f.decodePacket(z,b);if(D.type==c.type&&D.data==c.data)return k(D,0,1);if(!1===k(c,n+d,u))return}n+=d;c=""}if(""!=c)return k(D,0,1)};f.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));
l(a,function(a,b){f.encodePacket(a,!0,function(a){return b(null,a)})},function(a,e){var c=e.reduce(function(a,b){var e;e="string"===typeof b?b.length:b.byteLength;return a+e.toString().length+e+2},0),d=new Uint8Array(c),n=0;e.forEach(function(a){var b="string"===typeof a,e=a;if(b){for(var e=new Uint8Array(a.length),m=0;m<a.length;m++)e[m]=a.charCodeAt(m);e=e.buffer}b?d[n++]=0:d[n++]=1;a=e.byteLength.toString();for(m=0;m<a.length;m++)d[n++]=parseInt(a[m]);d[n++]=255;e=new Uint8Array(e);for(m=0;m<e.length;m++)d[n++]=
e[m]});return b(d.buffer)})};f.encodePayloadAsBlob=function(a,b){l(a,function(a,b){f.encodePacket(a,!0,function(a){var e=new Uint8Array(1);e[0]=1;if("string"===typeof a){for(var m=new Uint8Array(a.length),k=0;k<a.length;k++)m[k]=a.charCodeAt(k);a=m.buffer;e[0]=0}for(var m=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),x=new Uint8Array(m.length+1),k=0;k<m.length;k++)x[k]=parseInt(m[k]);x[m.length]=255;A&&(a=new A([e.buffer,x.buffer,a]),b(null,a))})},function(a,e){return b(new A(e))})};f.decodePayloadAsBinary=
function(a,b,k){"function"===typeof b&&(k=b,b=null);for(var c=[];0<a.byteLength;){for(var d=new Uint8Array(a),z=0===d[0],n="",u=1;255!=d[u];u++)n+=d[u];a=g(a,2+n.length);n=parseInt(n);d=g(a,0,n);if(z)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(x){for(z=new Uint8Array(d),d="",u=0;u<z.length;u++)d+=String.fromCharCode(z[u])}c.push(d);a=g(a,n)}var p=c.length;c.forEach(function(a,e){k(f.decodePacket(a,b),e,p)})}},{"./keys":23,after:24,"arraybuffer.slice":25,"base64-arraybuffer":26,blob:27,
utf8:28}],23:[function(c,h,f){h.exports=Object.keys||function(b){var c=[],d=Object.prototype.hasOwnProperty,g;for(g in b)d.call(b,g)&&c.push(g);return c}},{}],24:[function(c,h,f){function b(){}h.exports=function(c,d,g){function f(b,a){if(0>=f.count)throw Error("after called too many times");--f.count;b?(h=!0,d(b),d=g):0!==f.count||h||d(null,a)}var h=!1;g=g||b;f.count=c;return 0===c?d():f}},{}],25:[function(c,h,f){h.exports=function(b,c,d){var g=b.byteLength;c=c||0;d=d||g;if(b.slice)return b.slice(c,
d);0>c&&(c+=g);0>d&&(d+=g);d>g&&(d=g);if(c>=g||c>=d||0===g)return new ArrayBuffer(0);b=new Uint8Array(b);for(var g=new Uint8Array(d-c),f=0;c<d;c++,f++)g[f]=b[c];return g.buffer}},{}],26:[function(c,h,f){(function(b){f.encode=function(c){c=new Uint8Array(c);var d,g=c.length,f="";for(d=0;d<g;d+=3)f+=b[c[d]>>2],f+=b[(c[d]&3)<<4|c[d+1]>>4],f+=b[(c[d+1]&15)<<2|c[d+2]>>6],f+=b[c[d+2]&63];2===g%3?f=f.substring(0,f.length-1)+"=":1===g%3&&(f=f.substring(0,f.length-2)+"==");return f};f.decode=function(c){var d=
.75*c.length,g=c.length,f=0,h,w,a,y;"="===c[c.length-1]&&(d--,"="===c[c.length-2]&&d--);for(var B=new ArrayBuffer(d),D=new Uint8Array(B),d=0;d<g;d+=4)h=b.indexOf(c[d]),w=b.indexOf(c[d+1]),a=b.indexOf(c[d+2]),y=b.indexOf(c[d+3]),D[f++]=h<<2|w>>4,D[f++]=(w&15)<<4|a>>2,D[f++]=(a&3)<<6|y&63;return B}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],27:[function(c,h,f){function b(b,c){c=c||{};for(var d=new l,a=0;a<b.length;a++)d.append(b[a]);return c.type?d.getBlob(c.type):d.getBlob()}
c="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var l=c.BlobBuilder||c.WebKitBlobBuilder||c.MSBlobBuilder||c.MozBlobBuilder,d;try{d=2==(new Blob(["hi"])).size}catch(g){d=!1}f=l&&l.prototype.append&&l.prototype.getBlob;d=d?c.Blob:f?b:void 0;h.exports=d},{}],28:[function(c,h,f){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};(function(c){function d(a){for(var b=[],e=0,c=a.length,d,n;e<c;)d=a.charCodeAt(e++),55296<=d&&56319>=d&&e<c?(n=a.charCodeAt(e++),
56320==(n&64512)?b.push(((d&1023)<<10)+(n&1023)+65536):(b.push(d),e--)):b.push(d);return b}function g(){if(A>=D)throw Error("Invalid byte index");var a=B[A]&255;A++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function q(){var a,b,e,c;if(A>D)throw Error("Invalid byte index");if(A==D)return!1;a=B[A]&255;A++;if(0==(a&128))return a;if(192==(a&224)){b=g();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=g();e=g();a=(a&15)<<12|b<<6|
e;if(2048<=a)return a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=g(),e=g(),c=g(),a=(a&15)<<18|b<<12|e<<6|c,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var v="object"==typeof f&&f,w="object"==typeof h&&h&&h.exports==v&&h,a="object"==typeof b&&b;if(a.global===a||a.window===a)c=a;var y=String.fromCharCode,B,D,A,a={version:"2.0.0",encode:function(a){a=d(a);for(var b=a.length,e=-1,c,g="";++e<b;){c=a[e];if(0==(c&4294967168))c=y(c);else{var n="";0==(c&4294965248)?
n=y(c>>6&31|192):0==(c&4294901760)?(n=y(c>>12&15|224),n+=y(c>>6&63|128)):0==(c&4292870144)&&(n=y(c>>18&7|240),n+=y(c>>12&63|128),n+=y(c>>6&63|128));c=n+=y(c&63|128)}g+=c}return g},decode:function(a){B=d(a);D=B.length;A=0;a=[];for(var b;!1!==(b=q());)a.push(b);b=a.length;for(var e=-1,c,g="";++e<b;)c=a[e],65535<c&&(c-=65536,g+=y(c>>>10&1023|55296),c=56320|c&1023),g+=y(c);return g}};if(v&&!v.nodeType)if(w)w.exports=a;else{c={}.hasOwnProperty;for(var e in a)c.call(a,e)&&(v[e]=a[e])}else c.utf8=a})(this)},
{}],29:[function(c,h,f){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,v=/^\s+/,w=/\s+$/;h.exports=function(a){if("string"!=typeof a||!a)return null;a=a.replace(v,"").replace(w,"");if(b.JSON&&JSON.parse)return JSON.parse(a);if(l.test(a.replace(d,"@").replace(g,"]").replace(q,"")))return(new Function("return "+a))()}},{}],
30:[function(c,h,f){f.encode=function(b){var c="",d;for(d in b)b.hasOwnProperty(d)&&(c.length&&(c+="&"),c+=encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return c};f.decode=function(b){var c={};b=b.split("&");for(var d=0,g=b.length;d<g;d++){var f=b[d].split("=");c[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return c}},{}],31:[function(c,h,f){function b(b,c,f){return c?new l(b,c):new l(b)}c=function(){return this}();var l=c.WebSocket||c.MozWebSocket;h.exports=l?b:null;l&&(b.prototype=l.prototype)},
{}],32:[function(c,h,f){var b="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},l=c("isarray");h.exports=function(c){function g(c){if(!c)return!1;if(b.Buffer&&Buffer.isBuffer(c)||b.ArrayBuffer&&c instanceof ArrayBuffer||b.Blob&&c instanceof Blob||b.File&&c instanceof File)return!0;if(l(c))for(var d=0;d<c.length;d++){if(g(c[d]))return!0}else if(c&&"object"==typeof c)for(d in c.toJSON&&(c=c.toJSON()),c)if(g(c[d]))return!0;return!1}return g(c)}},{isarray:33}],33:[function(c,h,f){h.exports=
Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],34:[function(c,h,f){c=c("global");try{h.exports="XMLHttpRequest"in c&&"withCredentials"in new c.XMLHttpRequest}catch(b){h.exports=!1}},{global:35}],35:[function(c,h,f){h.exports=function(){return this}()},{}],36:[function(c,h,f){var b=[].indexOf;h.exports=function(c,d){if(b)return c.indexOf(d);for(var g=0;g<c.length;++g)if(c[g]===d)return g;return-1}},{}],37:[function(c,h,f){var b=Object.prototype.hasOwnProperty;
f.keys=Object.keys||function(c){var d=[],g;for(g in c)b.call(c,g)&&d.push(g);return d};f.values=function(c){var d=[],g;for(g in c)b.call(c,g)&&d.push(c[g]);return d};f.merge=function(c,d){for(var g in d)b.call(d,g)&&(c[g]=d[g]);return c};f.length=function(b){return f.keys(b).length};f.isEmpty=function(b){return 0==f.length(b)}},{}],38:[function(c,h,f){var b=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");h.exports=function(c){c=b.exec(c||"");for(var g={},f=14;f--;)g[l[f]]=c[f]||"";return g}},{}],39:[function(c,h,f){function b(b){return l.Buffer&&Buffer.isBuffer(b)||l.ArrayBuffer&&b instanceof ArrayBuffer}var l="undefined"!==typeof self?self:"undefined"!==typeof window?window:{},d=c("isarray");f.deconstructPacket=function(b){function c(b){if(!b)return b;if(l.Buffer&&Buffer.isBuffer(b)||
l.ArrayBuffer&&b instanceof ArrayBuffer){var a={_placeholder:!0,num:f.length};f.push(b);return a}if(d(b)){for(var a=Array(b.length),g=0;g<b.length;g++)a[g]=c(b[g]);return a}if("object"==typeof b&&!(b instanceof Date)){a={};for(g in b)a[g]=c(b[g]);return a}return b}var f=[];b.data=c(b.data);b.attachments=f.length;return{packet:b,buffers:f}};f.reconstructPacket=function(b,c){function f(b){if(b&&b._placeholder)return c[b.num];if(d(b))for(var a=0;a<b.length;a++)b[a]=f(b[a]);else if(b&&"object"==typeof b)for(a in b)b[a]=
f(b[a]);return b}b.data=f(b.data);b.attachments=void 0;return b};f.removeBlobs=function(c,f){function h(c,g,D){if(!c)return c;if(l.Blob&&c instanceof Blob||l.File&&c instanceof File){w++;var A=new FileReader;A.onload=function(){D?D[g]=this.result:a=this.result;--w||f(a)};A.readAsArrayBuffer(c)}if(d(c))for(A=0;A<c.length;A++)h(c[A],A,c);else if(c&&"object"==typeof c&&!b(c))for(var e in c)h(c[e],e,c)}var w=0,a=c;h(a);w||f(a)}},{isarray:41}],40:[function(c,h,f){function b(){}function l(b){var c,d=!1;
c=""+b.type;if(f.BINARY_EVENT==b.type||f.BINARY_ACK==b.type)c+=b.attachments,c+="-";b.nsp&&"/"!=b.nsp&&(d=!0,c+=b.nsp);null!=b.id&&(d&&(c+=",",d=!1),c+=b.id);null!=b.data&&(d&&(c+=","),c+=a.stringify(b.data));w("encoded %j as %s",b,c);return c}function d(a,b){y.removeBlobs(a,function(a){var e=y.deconstructPacket(a);a=l(e.packet);e=e.buffers;e.unshift(a);b(e)})}function g(){this.reconstructor=null}function q(a){this.reconPack=a;this.buffers=[]}var v="undefined"!==typeof self?self:"undefined"!==typeof window?
window:{},w=c("debug")("socket.io-parser"),a=c("json3");c("isarray");h=c("emitter");var y=c("./binary");f.protocol=3;f.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");f.CONNECT=0;f.DISCONNECT=1;f.EVENT=2;f.ACK=3;f.ERROR=4;f.BINARY_EVENT=5;f.BINARY_ACK=6;f.Encoder=b;b.prototype.encode=function(a,b){w("encoding packet %j",a);if(f.BINARY_EVENT==a.type||f.BINARY_ACK==a.type)d(a,b);else{var c=l(a);b([c])}};f.Decoder=g;h(g.prototype);g.prototype.add=function(b){if("string"==
typeof b){a:{var c={},d=0;c.type=Number(b.charAt(0));if(null==f.types[c.type])b={type:f.ERROR,data:"parser error"};else{if(f.BINARY_EVENT==c.type||f.BINARY_ACK==c.type){for(c.attachments="";"-"!=b.charAt(++d);)c.attachments+=b.charAt(d);c.attachments=Number(c.attachments)}if("/"==b.charAt(d+1))for(c.nsp="";++d;){var e=b.charAt(d);if(","==e)break;c.nsp+=e;if(d+1==b.length)break}else c.nsp="/";e=b.charAt(d+1);if(""!=e&&Number(e)==e){for(c.id="";++d;){e=b.charAt(d);if(null==e||Number(e)!=e){--d;break}c.id+=
b.charAt(d);if(d+1==b.length)break}c.id=Number(c.id)}if(b.charAt(++d))try{c.data=a.parse(b.substr(d))}catch(m){b={type:f.ERROR,data:"parser error"};break a}w("decoded %s as %j",b,c);b=c}}f.BINARY_EVENT==b.type||f.BINARY_ACK==b.type?(this.reconstructor=new q(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b)}else if(v.Buffer&&Buffer.isBuffer(b)||v.ArrayBuffer&&b instanceof ArrayBuffer||b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=
null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};q.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=y.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};q.prototype.finishedReconstruction=function(){this.reconPack=null;
this.buffers=[]}},{"./binary":39,debug:9,emitter:10,isarray:41,json3:42}],41:[function(c,h,f){h.exports=c(33)},{}],42:[function(c,h,f){(function(b){function c(b){if(c[b]!==v)return c[b];var e;if("bug-string-char-index"==b)e="a"!="a"[0];else if("json"==b)e=c("json-stringify")&&c("json-parse");else{var x;if("json-stringify"==b){e=a.stringify;var m="function"==typeof e&&y;if(m){(x=function(){return 1}).toJSON=x;try{m="0"===e(0)&&"0"===e(new Number)&&'""'==e(new String)&&e(d)===v&&e(v)===v&&e()===v&&
"1"===e(x)&&"[1]"==e([x])&&"[null]"==e([v])&&"null"==e(null)&&"[null,null,null]"==e([v,d,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==e({a:[x,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===e(null,x)&&"[\n 1,\n 2\n]"==e([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==e(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==e(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==e(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==e(new Date(-1))}catch(k){m=!1}}e=m}if("json-parse"==b){e=a.parse;
if("function"==typeof e)try{if(0===e("0")&&!e(!1)){x=e('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var p=5==x.a.length&&1===x.a[0];if(p){try{p=!e('"\t"')}catch(n){}if(p)try{p=1!==e("01")}catch(t){}if(p)try{p=1!==e("1.")}catch(g){}}}}catch(f){p=!1}e=p}}return c[b]=!!e}var d={}.toString,g,h,v,w="object"==typeof JSON&&JSON,a="object"==typeof f&&f&&!f.nodeType&&f;a&&w?(a.stringify=w.stringify,a.parse=w.parse):a=b.JSON=w||{};var y=new Date(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&
0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(B){}if(!c("json")){var D=c("bug-string-char-index");if(!y)var A=Math.floor,e=[0,31,59,90,120,151,181,212,243,273,304,334],m=function(a,b){return e[b]+365*(a-1970)+A((a-1969+(b=+(1<b)))/4)-A((a-1901+b)/100)+A((a-1601+b)/400)};(g={}.hasOwnProperty)||(g=function(a){var b={},e;(b.__proto__=null,b.__proto__={toString:1},b).toString!=d?g=function(a){var b=this.__proto__;
a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(e=b.constructor,g=function(a){var b=(this.constructor||e).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return g.call(this,a)});var k={"boolean":1,number:1,string:1,undefined:1};h=function(a,b){var e=0,c,x,m;(c=function(){this.valueOf=0}).prototype.valueOf=0;x=new c;for(m in x)g.call(x,m)&&e++;c=x=null;e?h=2==e?function(a,b){var e={},c="[object Function]"==d.call(a),x;for(x in a)c&&"prototype"==x||g.call(e,x)||!(e[x]=1)||
!g.call(a,x)||b(x)}:function(a,b){var e="[object Function]"==d.call(a),c,x;for(c in a)e&&"prototype"==c||!g.call(a,c)||(x="constructor"===c)||b(c);(x||g.call(a,c="constructor"))&&b(c)}:(x="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),h=function(a,b){var e="[object Function]"==d.call(a),c,m;if(m=!e&&"function"!=typeof a.constructor)m=typeof a.hasOwnProperty,m="object"==m?!!a.hasOwnProperty:!k[m];m=m?a.hasOwnProperty:g;for(c in a)e&&"prototype"==
c||!m.call(a,c)||b(c);for(e=x.length;c=x[--e];m.call(a,c)&&b(c));});return h(a,b)};if(!c("json-stringify")){var t={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},K=function(a,b){return("000000"+(b||0)).slice(-a)},z=function(a){var b='"',e=0,c=a.length,x=10<c&&D,m;for(x&&(m=a.split(""));e<c;e++){var d=a.charCodeAt(e);switch(d){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=t[d];break;default:if(32>d){b+="\\u00"+K(2,d.toString(16));break}b+=x?m[e]:D?a.charAt(e):a[e]}}return b+
'"'},n=function(a,b,e,c,x,k,p){var t,f,G,u,C,F,H,l,J;try{t=b[a]}catch(I){}if("object"==typeof t&&t)if(f=d.call(t),"[object Date]"!=f||g.call(t,"toJSON"))"function"==typeof t.toJSON&&("[object Number]"!=f&&"[object String]"!=f&&"[object Array]"!=f||g.call(t,"toJSON"))&&(t=t.toJSON(a));else if(t>-1/0&&t<1/0){if(m){u=A(t/864E5);for(f=A(u/365.2425)+1970-1;m(f+1,0)<=u;f++);for(G=A((u-m(f,0))/30.42);m(f,G+1)<=u;G++);u=1+u-m(f,G);C=(t%864E5+864E5)%864E5;F=A(C/36E5)%24;H=A(C/6E4)%60;l=A(C/1E3)%60;C%=1E3}else f=
t.getUTCFullYear(),G=t.getUTCMonth(),u=t.getUTCDate(),F=t.getUTCHours(),H=t.getUTCMinutes(),l=t.getUTCSeconds(),C=t.getUTCMilliseconds();t=(0>=f||1E4<=f?(0>f?"-":"+")+K(6,0>f?-f:f):K(4,f))+"-"+K(2,G+1)+"-"+K(2,u)+"T"+K(2,F)+":"+K(2,H)+":"+K(2,l)+"."+K(3,C)+"Z"}else t=null;e&&(t=e.call(b,a,t));if(null===t)return"null";f=d.call(t);if("[object Boolean]"==f)return""+t;if("[object Number]"==f)return t>-1/0&&t<1/0?""+t:"null";if("[object String]"==f)return z(""+t);if("object"==typeof t){for(a=p.length;a--;)if(p[a]===
t)throw TypeError();p.push(t);J=[];b=k;k+=x;if("[object Array]"==f){G=0;for(a=t.length;G<a;G++)f=n(G,t,e,c,x,k,p),J.push(f===v?"null":f);a=J.length?x?"[\n"+k+J.join(",\n"+k)+"\n"+b+"]":"["+J.join(",")+"]":"[]"}else h(c||t,function(a){var b=n(a,t,e,c,x,k,p);b!==v&&J.push(z(a)+":"+(x?" ":"")+b)}),a=J.length?x?"{\n"+k+J.join(",\n"+k)+"\n"+b+"}":"{"+J.join(",")+"}":"{}";p.pop();return a}};a.stringify=function(a,b,e){var c,x,m,k;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(k=
d.call(b)))x=b;else if("[object Array]"==k){m={};for(var p=0,t=b.length,f;p<t;f=b[p++],(k=d.call(f),"[object String]"==k||"[object Number]"==k)&&(m[f]=1));}if(e)if("[object Number]"==(k=d.call(e))){if(0<(e-=e%1))for(c="",10<e&&(e=10);c.length<e;c+=" ");}else"[object String]"==k&&(c=10>=e.length?e:e.slice(0,10));return n("",(f={},f[""]=a,f),x,m,c,"",[])}}if(!c("json-parse")){var u=String.fromCharCode,x={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},p,G,C=function(){p=G=null;throw SyntaxError();
},F=function(){for(var a=G,b=a.length,e,c,m,d,k;p<b;)switch(k=a.charCodeAt(p),k){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?a.charAt(p):a[p],p++,e;case 34:e="@";for(p++;p<b;)if(k=a.charCodeAt(p),32>k)C();else if(92==k)switch(k=a.charCodeAt(++p),k){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=x[k];p++;break;case 117:c=++p;for(m=p+4;p<m;p++)k=a.charCodeAt(p),48<=k&&57>=k||97<=k&&102>=k||65<=k&&70>=k||C();e+=u("0x"+
a.slice(c,p));break;default:C()}else{if(34==k)break;k=a.charCodeAt(p);for(c=p;32<=k&&92!=k&&34!=k;)k=a.charCodeAt(++p);e+=a.slice(c,p)}if(34==a.charCodeAt(p))return p++,e;C();default:c=p;45==k&&(d=!0,k=a.charCodeAt(++p));if(48<=k&&57>=k){for(48==k&&(k=a.charCodeAt(p+1),48<=k&&57>=k)&&C();p<b&&(k=a.charCodeAt(p),48<=k&&57>=k);p++);if(46==a.charCodeAt(p)){for(m=++p;m<b&&(k=a.charCodeAt(m),48<=k&&57>=k);m++);m==p&&C();p=m}k=a.charCodeAt(p);if(101==k||69==k){k=a.charCodeAt(++p);43!=k&&45!=k||p++;for(m=
p;m<b&&(k=a.charCodeAt(m),48<=k&&57>=k);m++);m==p&&C();p=m}return+a.slice(c,p)}d&&C();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,null;C()}return"$"},H=function(a){var b,e;"$"==a&&C();if("string"==typeof a){if("@"==(D?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;e||(e=!0)){a=F();if("]"==a)break;e&&(","==a?(a=F(),"]"==a&&C()):C());","==a&&C();b.push(H(a))}return b}if("{"==a){for(b={};;e||(e=!0)){a=F();if("}"==
a)break;e&&(","==a?(a=F(),"}"==a&&C()):C());","!=a&&"string"==typeof a&&"@"==(D?a.charAt(0):a[0])&&":"==F()||C();b[a.slice(1)]=H(F())}return b}C()}return a},J=function(a,b,e){e=I(a,b,e);e===v?delete a[b]:a[b]=e},I=function(a,b,e){var c=a[b],x;if("object"==typeof c&&c)if("[object Array]"==d.call(c))for(x=c.length;x--;)J(c,x,e);else h(c,function(a){J(c,a,e)});return e.call(a,b,c)};a.parse=function(a,b){var e,c;p=0;G=""+a;e=H(F());"$"!=F()&&C();p=G=null;return b&&"[object Function]"==d.call(b)?I((c=
{},c[""]=e,c),"",b):e}}}})(this)},{}],43:[function(c,h,f){h.exports=function(b,c){for(var d=[],f=(c=c||0)||0;f<b.length;f++)d[f-c]=b[f];return d}},{}]},{},[1])(1)});
(function(){(function(r){var c=this||(0,eval)("this"),h=c.document,f=c.navigator,b=c.jQuery,l=c.JSON;(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],b):b(c.ko={})})(function(d){function g(a,b){return null===a||typeof a in y?a===b:!1}function q(a,b){var c;return function(){c||(c=setTimeout(function(){c=r;a()},b))}}function v(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function w(b,c,k,d){a.d[b]={init:function(b,e,f,u,x){var p,G;a.ba(function(){var f=a.a.c(e()),n=!k!==!f,u=!G;if(u||c||n!==p)u&&a.ca.fa()&&(G=a.a.lb(a.e.childNodes(b),!0)),n?(u||a.e.U(b,a.a.lb(G)),a.gb(d?d(x,f):x,b)):a.e.da(b),p=n},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a="undefined"!==typeof d?d:{};a.b=function(b,c){for(var k=b.split("."),d=a,f=0;f<k.length-1;f++)d=d[k[f]];d[k[k.length-1]]=c};a.s=function(a,b,c){a[b]=c};a.version="3.1.0";
a.b("version",a.version);a.a=function(){function e(a,b){for(var e in a)a.hasOwnProperty(e)&&b(e,a[e])}function m(a,b){if(b)for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a}function k(a,b){a.__proto__=b;return a}var d={__proto__:[]}instanceof Array,g={},z={};g[f&&/Firefox\/2/i.test(f.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];g.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");e(g,function(a,b){if(b.length)for(var e=
0,c=b.length;e<c;e++)z[b[e]]=a});var n={propertychange:!0},u=h&&function(){for(var a=3,b=h.createElement("div"),e=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",e[0];);return 4<a?a:r}();return{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var e=0,c=a.length;e<c;e++)b(a[e],e)},l:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var e=0,c=a.length;e<c;e++)if(a[e]===
b)return e;return-1},hb:function(a,b,e){for(var c=0,k=a.length;c<k;c++)if(b.call(e,a[c],c))return a[c];return null},ma:function(b,e){var c=a.a.l(b,e);0<c?b.splice(c,1):0===c&&b.shift()},ib:function(b){b=b||[];for(var e=[],c=0,k=b.length;c<k;c++)0>a.a.l(e,b[c])&&e.push(b[c]);return e},ya:function(a,b){a=a||[];for(var e=[],c=0,k=a.length;c<k;c++)e.push(b(a[c],c));return e},la:function(a,b){a=a||[];for(var e=[],c=0,k=a.length;c<k;c++)b(a[c],c)&&e.push(a[c]);return e},$:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var e=0,c=b.length;e<c;e++)a.push(b[e]);return a},Y:function(b,e,c){var k=a.a.l(a.a.Sa(b),e);0>k?c&&b.push(e):c||b.splice(k,1)},na:d,extend:m,ra:k,sa:d?k:m,A:e,Oa:function(a,b){if(!a)return a;var e={},c;for(c in a)a.hasOwnProperty(c)&&(e[c]=b(a[c],c,a));return e},Fa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},ec:function(b){b=a.a.R(b);for(var e=h.createElement("div"),c=0,k=b.length;c<k;c++)e.appendChild(a.M(b[c]));return e},lb:function(b,e){for(var c=0,k=b.length,d=[];c<
k;c++){var m=b[c].cloneNode(!0);d.push(e?a.M(m):m)}return d},U:function(b,e){a.a.Fa(b);if(e)for(var c=0,k=e.length;c<k;c++)b.appendChild(e[c])},Bb:function(b,e){var c=b.nodeType?[b]:b;if(0<c.length){for(var k=c[0],d=k.parentNode,m=0,t=e.length;m<t;m++)d.insertBefore(e[m],k);m=0;for(t=c.length;m<t;m++)a.removeNode(c[m])}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var e=a[0],c=a[a.length-1];for(a.length=0;e!==c;)if(a.push(e),
e=e.nextSibling,!e)return;a.push(c)}}return a},Db:function(a,b){7>u?a.setAttribute("selected",b):a.selected=b},ta:function(a){return null===a||a===r?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(b,e){for(var c=[],k=(b||"").split(e),m=0,d=k.length;m<d;m++){var t=a.a.ta(k[m]);""!==t&&c.push(t)}return c},kc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===
a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return!!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(e,c,k){var m=u&&n[c];if(!m&&b)b(e).bind(c,k);else if(m||"function"!=typeof e.addEventListener)if("undefined"!=typeof e.attachEvent){var d=function(a){k.call(e,a)},t="on"+c;e.attachEvent(t,
d);a.a.u.ja(e,function(){e.detachEvent(t,d)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else e.addEventListener(c,k,!1)},ha:function(e,k){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var m;"input"===a.a.B(e)&&e.type&&"click"==k.toLowerCase()?(m=e.type,m="checkbox"==m||"radio"==m):m=!1;if(b&&!m)b(e).trigger(k);else if("function"==typeof h.createEvent)if("function"==typeof e.dispatchEvent)m=h.createEvent(z[k]||"HTMLEvents"),
m.initEvent(k,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(m);else throw Error("The supplied element doesn't support dispatchEvent");else if(m&&e.click)e.click();else if("undefined"!=typeof e.fireEvent)e.fireEvent("on"+k);else throw Error("Browser doesn't support triggering events");},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,e,c){if(e){var k=/\S+/g,m=b.className.match(k)||[];a.a.r(e.match(k),function(b){a.a.Y(m,b,c)});b.className=m.join(" ")}},Xa:function(b,
e){var c=a.a.c(e);if(null===c||c===r)c="";var k=a.e.firstChild(b);!k||3!=k.nodeType||a.e.nextSibling(k)?a.e.U(b,[b.ownerDocument.createTextNode(c)]):k.data=c;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=u)try{a.mergeAttributes(h.createElement("<input name='"+a.name+"'/>"),!1)}catch(e){}},Vb:function(a){9<=u&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(u){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,e){b=a.a.c(b);e=a.a.c(e);for(var c=
[],k=b;k<=e;k++)c.push(k);return c},R:function(a){for(var b=[],e=0,c=a.length;e<c;e++)b.push(a[e]);return b},mc:6===u,nc:7===u,oa:u,ob:function(b,e){for(var c=a.a.R(b.getElementsByTagName("input")).concat(a.a.R(b.getElementsByTagName("textarea"))),k="string"==typeof e?function(a){return a.name===e}:function(a){return e.test(a.name)},m=[],d=c.length-1;0<=d;d--)k(c[d])&&m.push(c[d]);return m},fc:function(b){return"string"==typeof b&&(b=a.a.ta(b))?l&&l.parse?l.parse(b):(new Function("return "+b))():
null},Ya:function(b,e,c){if(!l||!l.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return l.stringify(a.a.c(b),e,c)},gc:function(b,c,k){k=k||{};var m=k.params||{},d=k.includeFields||this.mb,t=b;if("object"==typeof b&&"form"===a.a.B(b))for(var t=b.action,f=d.length-1;0<=f;f--)for(var n=a.a.ob(b,d[f]),u=n.length-1;0<=u;u--)m[n[u].name]=
n[u].value;c=a.a.c(c);var g=h.createElement("form");g.style.display="none";g.action=t;g.method="post";for(var z in c)b=h.createElement("input"),b.name=z,b.value=a.a.Ya(a.a.c(c[z])),g.appendChild(b);e(m,function(a,b){var e=h.createElement("input");e.name=a;e.value=b;g.appendChild(e)});h.body.appendChild(g);k.submitter?k.submitter(g):g.submit();setTimeout(function(){g.parentNode.removeChild(g)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.hb);a.b("utils.arrayFilter",
a.a.la);a.b("utils.arrayGetDistinctValues",a.a.ib);a.b("utils.arrayIndexOf",a.a.l);a.b("utils.arrayMap",a.a.ya);a.b("utils.arrayPushAll",a.a.$);a.b("utils.arrayRemoveItem",a.a.ma);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.mb);a.b("utils.getFormFields",a.a.ob);a.b("utils.peekObservable",a.a.Sa);a.b("utils.postJson",a.a.gc);a.b("utils.parseJson",a.a.fc);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Ya);a.b("utils.range",a.a.ic);a.b("utils.toggleDomNodeCssClass",
a.a.ua);a.b("utils.triggerEvent",a.a.ha);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.A);a.b("utils.addOrRemoveItem",a.a.Y);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(e,f){var n=e[c];if(!n||"null"===n||!d[n]){if(!f)return r;n=e[c]="ko"+b++;d[n]={}}return d[n]}
var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,c){var k=a(b,!1);return k===r?r:k[c]},set:function(b,c,k){if(k!==r||a(b,!1)!==r)a(b,!0)[c]=k},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1},L:function(){return b++ +c}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);a.a.u=new function(){function e(b,c){var e=a.a.f.get(b,k);e===r&&c&&(e=[],a.a.f.set(b,k,e));return e}function c(b){var k=e(b,!1);if(k)for(var k=k.slice(0),d=0;d<k.length;d++)k[d](b);
a.a.f.clear(b);a.a.u.cleanExternalData(b);if(f[b.nodeType])for(k=b.firstChild;b=k;)k=b.nextSibling,8===b.nodeType&&c(b)}var k=a.a.f.L(),d={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ja:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");e(a,!0).push(b)},Ab:function(b,c){var d=e(b,!1);d&&(a.a.ma(d,c),0==d.length&&a.a.f.set(b,k,r))},M:function(b){if(d[b.nodeType]&&(c(b),f[b.nodeType])){var e=[];a.a.$(e,b.getElementsByTagName("*"));for(var k=0,x=e.length;k<x;k++)c(e[k])}return b},
removeNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){b&&"function"==typeof b.cleanData&&b.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b("cleanNode",a.M);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.u);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.u.ja);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.u.Ab);(function(){a.a.Qa=function(e){var d;if(b)if(b.parseHTML)d=b.parseHTML(e)||[];else{if((d=b.clean([e]))&&
d[0]){for(e=d[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var k=a.a.ta(e).toLowerCase();d=h.createElement("div");k=k.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!k.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!k.indexOf("<td")||!k.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];e="ignored<div>"+k[1]+e+k[2]+"</div>";for("function"==typeof c.innerShiv?d.appendChild(c.innerShiv(e)):
d.innerHTML=e;k[0]--;)d=d.lastChild;d=a.a.R(d.lastChild.childNodes)}return d};a.a.Va=function(e,c){a.a.Fa(e);c=a.a.c(c);if(null!==c&&c!==r)if("string"!=typeof c&&(c=c.toString()),b)b(e).html(c);else for(var k=a.a.Qa(c),d=0;d<k.length;d++)e.appendChild(k[d])}})();a.b("utils.parseHtmlFragment",a.a.Qa);a.b("utils.setHtml",a.a.Va);a.w=function(){function b(c,d){if(c)if(8==c.nodeType){var m=a.w.xb(c.nodeValue);null!=m&&d.push({Rb:c,cc:m})}else if(1==c.nodeType)for(var m=0,f=c.childNodes,g=f.length;m<g;m++)b(f[m],
d)}var c={};return{Na:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Hb:function(a,b){var e=c[a];if(e===r)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return e.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,d){var m=
[];b(c,m);for(var f=0,g=m.length;f<g;f++){var u=m[f].Rb,x=[u];d&&a.a.$(x,d);a.w.Hb(m[f].cc,x);u.nodeValue="";u.parentNode&&u.parentNode.removeChild(u)}},xb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.w);a.b("memoization.memoize",a.w.Na);a.b("memoization.unmemoize",a.w.Hb);a.b("memoization.parseMemoText",a.w.xb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var k=null;return a.h({read:b,write:function(a){clearTimeout(k);
k=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,f;"number"==typeof b?c=b:(c=b.timeout,d=b.method);f="notifyWhenChangesStop"==d?v:q;a.Ma(function(a){return f(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:g}};var y={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,"dispose",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H=
{}};d={V:function(b,c,d){var f=this;d=d||"change";var g=new a.Fb(f,c?b.bind(c):b,function(){a.a.ma(f.H[d],g)});f.o&&f.o();f.H[d]||(f.H[d]=[]);f.H[d].push(g);return g},notifySubscribers:function(b,c){c=c||"change";if(this.qb(c))try{a.k.jb();for(var d=this.H[c].slice(0),f=0,g;g=d[f];++f)g.sb||g.za(b)}finally{a.k.end()}},Ma:function(b){var c=this,d=a.v(c),f,g,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.bb(a):c.ia(a,b):c.cb(a)});var n=b(function(){d&&
h===c&&(h=c());f=!1;c.Ka(g,h)&&c.ia(g=h)});c.cb=function(a){f=!0;h=a;n()};c.bb=function(a){f||(g=a,c.ia(a,"beforeChange"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,c){b+=c.length});return b},Ka:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.A(b,function(b,e){var d=a.Ga[b];"function"==typeof d&&(c=d(c,e)||c)});return c}};a.s(d,"subscribe",d.V);a.s(d,"extend",d.extend);a.s(d,"getSubscriptionsCount",
d.Wb);a.a.na&&a.a.ra(d,Function.prototype);a.N.fn=d;a.tb=function(a){return null!=a&&"function"==typeof a.V&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.N);a.b("isSubscribable",a.tb);a.ca=a.k=function(){function b(a){d.push(f);f=a}function c(){f=d.pop()}var d=[],f,g=0;return{jb:b,end:c,zb:function(b){if(f){if(!a.tb(b))throw Error("Only subscribable things can act as dependencies");f.za(b,b.Kb||(b.Kb=++g))}},t:function(a,d,k){try{return b(),a.apply(d,k||[])}finally{c()}},fa:function(){if(f)return f.ba.fa()},
pa:function(){if(f)return f.pa}}}();a.b("computedContext",a.ca);a.b("computedContext.getDependenciesCount",a.ca.fa);a.b("computedContext.isInitial",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length)return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this;a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,"beforeChange")};a.s(c,"peek",c.o);a.s(c,"valueHasMutated",c.O);a.s(c,"valueWillMutate",
c.P);return c};a.m.fn={equalityComparer:g};var B=a.m.hc="__ko_proto__";a.m.fn[B]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===r||b[B]===r?!1:b[B]===c?!0:a.Ha(b[B],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return"function"==typeof b&&b[B]===a.m||"function"==typeof b&&b[B]===a.h&&b.Yb?!0:!1};a.b("observable",a.m);a.b("isObservable",a.v);a.b("isWriteableObservable",a.ub);a.T=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
b=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],f="function"!=typeof b||a.v(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var h=c[g];f(h)&&(0===d.length&&this.P(),d.push(h),c.splice(g,1),g--)}d.length&&this.O();return d},removeAll:function(b){if(b===r){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d=
"function"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var f=c.length-1;0<=f;f--)d(c[f])&&(c[f]._destroy=!0);this.O()},destroyAll:function(b){return b===r?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.P(),this.o()[c]=b,this.O())}};a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.T.fn[b]=function(){var a=this.o();
this.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r(["slice"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b("observableArray",a.T);a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var m=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++g;return m.apply(this,arguments)};var u=[].concat(b.o()||[]);f=null;b.V(function(c){c=[].concat(c||[]);if(b.qb("arrayChange")){var d;
if(!f||1<g)f=a.a.Aa(u,c,{sparse:!0});d=f;d.length&&b.notifySubscribers(d,"arrayChange")}u=c;f=null;g=0})}}if(!b.kb){var d=!1,f=null,g=0,h=b.V;b.V=b.subscribe=function(a,b,e){"arrayChange"===e&&c();return h.apply(this,arguments)};b.kb=function(b,c,e){function m(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(d&&!g){var h=[],z=b.length,F=e.length,l=0;switch(c){case "push":l=z;case "unshift":for(c=0;c<F;c++)m("added",e[c],l+c);break;case "pop":l=z-1;case "shift":z&&m("deleted",b[l],l);break;
case "splice":c=Math.min(Math.max(0,0>e[0]?z+e[0]:e[0]),z);for(var z=1===F?z:Math.min(c+(e[1]||0),z),F=c+F-2,l=Math.max(z,F),J=[],q=[],r=2;c<l;++c,++r)c<z&&q.push(m("deleted",b[c],c)),c<F&&J.push(m("added",e[r],c));a.a.nb(q,J);break;default:return}f=h}}}};a.ba=a.h=function(b,c,d){function f(){F=!0;a.a.A(E,function(a,b){b.F()});E={};y=0;p=!1}function g(){var a=n.throttleEvaluation;a&&0<=a?(clearTimeout(A),A=setTimeout(h,a)):n.wa?n.wa():h()}function h(){if(!l&&!F){if(v&&v()){if(!C){w();return}}else C=
!1;l=!0;try{var b=E,e=y;a.k.jb({za:function(a,c){F||(e&&b[c]?(E[c]=b[c],++y,delete b[c],--e):E[c]||(E[c]=a.V(g),++y))},ba:n,pa:!y});E={};y=0;try{var d=c?H.call(c):H()}finally{a.k.end(),e&&a.a.A(b,function(a,b){b.F()}),p=!1}n.Ka(x,d)&&(n.notifySubscribers(x,"beforeChange"),x=d,n.wa&&!n.throttleEvaluation||n.notifySubscribers(x))}finally{l=!1}y||w()}}function n(){if(0<arguments.length){if("function"===typeof q)q.apply(c,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}p&&h();a.k.zb(n);return x}function u(){return p||0<y}var x,p=!0,l=!1,C=!1,F=!1,H=b;H&&"object"==typeof H?(d=H,H=d.read):(d=d||{},H||(H=d.read));if("function"!=typeof H)throw Error("Pass a function that returns the value of the ko.computed");var q=d.write,I=d.disposeWhenNodeIsRemoved||d.G||null,r=d.disposeWhen||d.Da,v=r,w=f,E={},y=0,A=null;c||(c=d.owner);a.N.call(n);a.a.sa(n,a.h.fn);n.o=function(){p&&!y&&h();return x};n.fa=function(){return y};n.Yb="function"===typeof d.write;n.F=function(){w()};
n.ga=u;var B=n.Ma;n.Ma=function(a){B.call(n,a);n.wa=function(){n.bb(x);p=!0;n.cb(n)}};a.s(n,"peek",n.o);a.s(n,"dispose",n.F);a.s(n,"isActive",n.ga);a.s(n,"getDependenciesCount",n.fa);I&&(C=!0,I.nodeType&&(v=function(){return!a.a.Ea(I)||r&&r()}));!0!==d.deferEvaluation&&h();I&&u()&&I.nodeType&&(w=function(){a.a.u.Ab(I,w);f()},a.a.u.ja(I,w));return n};a.$b=function(b){return a.Ha(b,a.h)};d=a.m.hc;a.h[d]=a.m;a.h.fn={equalityComparer:g};a.h.fn[d]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b("dependentObservable",
a.h);a.b("computed",a.h);a.b("isComputed",a.$b);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===r||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var n=a instanceof Array?[]:{};g.save(a,n);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":n[c]=d;break;case "object":case "undefined":var k=g.get(d);n[c]=k!==r?k:b(d,f,g)}});return n}function c(a,b){if(a instanceof Array){for(var e=
0;e<a.length;e++)b(e);"function"==typeof a.toJSON&&b("toJSON")}else for(e in a)b(e)}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,e){b=a.Gb(b);return a.a.Ya(b,c,e)};d.prototype={save:function(b,c){var e=a.a.l(this.keys,b);0<=e?this.ab[e]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,
b);return 0<=b?this.ab[b]:r}}})();a.b("toJS",a.Gb);a.b("toJSON",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):r;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case "option":switch(typeof c){case "string":a.a.f.set(b,a.d.options.Pa,
r);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case "select":if(""===c||null===c)c=r;for(var f=-1,g=0,h=b.options.length,n;g<h;++g)if(n=a.i.p(b.options[g]),n==c||""==n&&c===r){f=g;break}if(d||0<=f||c===r&&1<b.size)b.selectedIndex=f;break;default:if(null===c||c===r)c="";b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",
a.i.p);a.b("selectExtensions.writeValue",a.i.X);a.g=function(){function b(c){c=a.a.ta(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var e=[],d=c.match(f),k,m,n=0;if(d){d.push(",");for(var l=0,q;q=d[l];++l){var r=q.charCodeAt(0);if(44===r){if(0>=n){k&&e.push(m?{key:k,value:m.join("")}:{unknown:k});k=m=n=0;continue}}else if(58===r){if(!m)continue}else if(47===r&&l&&1<q.length)(r=d[l-1].match(g))&&!h[r[0]]&&(c=c.substr(c.indexOf(q)+1),d=c.match(f),d.push(","),l=-1,q="/");else if(40===r||123===r||91===
r)++n;else if(41===r||125===r||93===r)--n;else if(!k&&!m){k=34===r||39===r?q.slice(1,-1):q;continue}m?m.push(q):m=[q]}}return e}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,f=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),g=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},n={};return{aa:[],W:n,Ra:b,qa:function(f,g){function p(b,e){var f,g=a.getBindingHandler(b);
if(g&&g.preprocess?e=g.preprocess(e,b,p):1){if(g=n[b])f=e,0<=a.a.l(c,f)?f=!1:(g=f.match(d),f=null===g?!1:g[1]?"Object("+g[1]+")"+g[2]:f),g=f;g&&t.push("'"+b+"':function(_z){"+f+"=_z}");F&&(e="function(){return "+e+" }");h.push("'"+b+"':"+e)}}g=g||{};var h=[],t=[],F=g.valueAccessors,l="string"===typeof f?b(f):f;a.a.r(l,function(a){p(a.key||a.unknown,a.value)});t.length&&p("_ko_property_writers","{"+t.join(",")+" }");return h.join(",")},bc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;
return!1},va:function(b,c,e,d,k){if(b&&a.v(b))!a.ub(b)||k&&b.o()===d||b(d);else if((b=c.get("_ko_property_writers"))&&b[e])b[e](d)}}}();a.b("expressionRewriting",a.g);a.b("expressionRewriting.bindingRewriteValidators",a.g.aa);a.b("expressionRewriting.parseObjectLiteral",a.g.Ra);a.b("expressionRewriting.preProcessBindings",a.g.qa);a.b("expressionRewriting._twoWayBindings",a.g.W);a.b("jsonExpressionRewriting",a.g);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.g.qa);(function(){function b(a){return 8==
a.nodeType&&l.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&n.test(g?a.text:a.nodeValue)}function d(a,k){for(var f=a,g=1,n=[];f=f.nextSibling;){if(c(f)&&(g--,0===g))return n;n.push(f);b(f)&&g++}if(!k)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function f(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=h&&"\x3c!--test--\x3e"===h.createComment("test").text,l=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,
n=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,k=c.length;d<k;d++)a.removeNode(c[d])}else a.a.Fa(c)},U:function(c,d){if(b(c)){a.e.da(c);for(var k=c.nextSibling,f=0,g=d.length;f<g;f++)k.parentNode.insertBefore(d[f],k)}else a.a.U(c,d)},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,
d,k){k?b(c)?c.parentNode.insertBefore(d,k.nextSibling):k.nextSibling?c.insertBefore(d,k.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=f(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(g?a.text:a.nodeValue).match(l))?a[1]:null},wb:function(d){if(u[a.a.B(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var g;g=k.firstChild;
var n=null;if(g){do if(n)n.push(g);else if(b(g)){var h=f(g,!0);h?g=h:n=[g]}else c(g)&&(n=[g]);while(g=g.nextSibling)}if(g=n)for(n=k.nextSibling,h=0;h<g.length;h++)n?d.insertBefore(g[h],n):d.appendChild(g[h])}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",a.e.Q);a.b("virtualElements.emptyNode",a.e.da);a.b("virtualElements.insertAfter",a.e.rb);a.b("virtualElements.prepend",a.e.yb);a.b("virtualElements.setDomNodeChildren",a.e.U);(function(){a.J=function(){this.Nb=
{}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind");case 8:return a.e.Xb(b);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):null},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");
case 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,f){try{var g=this.Nb,h=b+(f&&f.valueAccessors||""),n;if(!(n=g[h])){var u,l="with($context){with($data||{}){return{"+a.g.qa(b,f)+"}}}";u=new Function("$context","$element",l);n=g[h]=u}return n(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p;}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function e(a){return function(){return a}}function d(a){return a()}
function k(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function f(a,b){return k(this.getBindings.bind(this,a,b))}function g(b,c,e){var d,k=a.e.firstChild(c),f=a.J.instance,m=f.preprocessNode;if(m){for(;d=k;)k=a.e.nextSibling(d),m.call(f,d);k=a.e.firstChild(c)}for(;d=k;)k=a.e.nextSibling(d),h(b,d,e)}function h(b,c,e){var d=!0,k=1===c.nodeType;k&&a.e.wb(c);if(k&&e||a.J.instance.nodeHasBindings(c))d=u(c,null,b,e).shouldBindDescendants;d&&!p[a.a.B(c)]&&g(b,c,!k)}function n(b){var c=
[],e={},d=[];a.a.A(b,function L(k){if(!e[k]){var f=a.getBindingHandler(k);f&&(f.after&&(d.push(k),a.a.r(f.after,function(c){if(b[c]){if(-1!==a.a.l(d,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));L(c)}}),d.length--),c.push({key:k,pb:f}));e[k]=!0}});return c}function u(b,c,e,k){var g=a.a.f.get(b,q);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");a.a.f.set(b,q,!0)}!g&&k&&a.Eb(b,e);var h;if(c&&"function"!==
typeof c)h=c;else{var u=a.J.instance,l=u.getBindingAccessors||f,p=a.h(function(){(h=c?c(e,b):l.call(u,b,e))&&e.D&&e.D();return h},null,{G:b});h&&p.ga()||(p=null)}var x;if(h){var z=p?function(a){return function(){return d(p()[a])}}:function(a){return h[a]},C=function(){return a.a.Oa(p?p():h,d)};C.get=function(a){return h[a]&&d(z(a))};C.has=function(a){return a in h};k=n(h);a.a.r(k,function(c){var d=c.pb.init,k=c.pb.update,f=c.key;if(8===b.nodeType&&!a.e.Q[f])throw Error("The binding '"+f+"' cannot be used with virtual elements");
try{"function"==typeof d&&a.k.t(function(){var a=d(b,z(f),C,e.$data,e);if(a&&a.controlsDescendantBindings){if(x!==r)throw Error("Multiple bindings ("+x+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");x=f}}),"function"==typeof k&&a.h(function(){k(b,z(f),C,e.$data,e)},null,{G:b})}catch(g){throw g.message='Unable to process binding "'+f+": "+h[f]+'"\nMessage: '+g.message,g;}})}return{shouldBindDescendants:x===r}}
function l(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var p={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,e,d){var k=this,f="function"==typeof b&&!a.v(b),g,m=a.h(function(){var g=f?b():b,n=a.a.c(g);c?(c.D&&c.D(),a.a.extend(k,c),m&&(k.D=m)):(k.$parents=[],k.$root=n,k.ko=a);k.$rawData=g;k.$data=n;e&&(k[e]=n);d&&d(k,c,n);return k.$data},null,{Da:function(){return g&&!a.a.eb(g)},G:!0});m.ga()&&(k.D=m,m.equalityComparer=null,g=[],m.Jb=function(b){g.push(b);a.a.u.ja(b,
function(b){a.a.ma(g,b);g.length||(m.F(),k.D=m=r)})})};a.I.prototype.createChildContext=function(b,c,e){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);e&&e(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,e){c.$rawData=e.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var q=a.a.f.L(),C=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length)a.a.f.set(b,C,c),
c.D&&c.D.Jb(b);else return a.a.f.get(b,C)};a.xa=function(b,c,e){1===b.nodeType&&a.e.wb(b);return u(b,c,l(e),!0)};a.Lb=function(b,c,d){d=l(d);return a.xa(b,"function"===typeof c?k(c.bind(null,d,b)):a.a.Oa(c,e),d)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(l(a),b,!0)};a.fb=function(a,e){!b&&c.jQuery&&(b=c.jQuery);if(e&&1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");e=e||c.document.body;h(l(a),
e,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c)return c;if(b.parentNode)return a.Ca(b.parentNode)}return r};a.Pb=function(b){return(b=a.Ca(b))?b.$data:r};a.b("bindingHandlers",a.d);a.b("applyBindings",a.fb);a.b("applyBindingsToDescendants",a.gb);a.b("applyBindingAccessorsToNode",a.xa);a.b("applyBindingsToNode",a.Lb);a.b("contextFor",a.Ca);a.b("dataFor",a.Pb)})();var D={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,
d){d=a.a.c(d);var k=!1===d||null===d||d===r;k&&b.removeAttribute(c);8>=a.a.oa&&c in D?(c=D[c],k?b.removeAttribute(c):b[c]=d):k||b.setAttribute(c,d.toString());"name"===c&&a.a.Cb(b,k?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function f(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):b.value}function g(){var n=b.checked,h=q?f():n;if(!a.ca.pa()&&(!u||n)){var z=a.k.t(c);l?p!==h?(n&&(a.a.Y(z,h,!0),a.a.Y(z,p,!1)),p=h):a.a.Y(z,h,n):a.g.va(z,d,"checked",
h,!0)}}function h(){var d=a.a.c(c());b.checked=l?0<=a.a.l(d,f()):n?d:f()===d}var n="checkbox"==b.type,u="radio"==b.type;if(n||u){var l=n&&a.a.c(c())instanceof Array,p=l?f():r,q=u||l;u&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.ba(g,null,{G:b});a.a.q(b,"click",g);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||
""),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,f,g){var h=c()||{};a.a.A(h,function(n){"string"==typeof n&&a.a.q(b,n,function(b){var e,h=c()[n];if(h){try{var l=a.a.R(arguments);f=g.$data;l.unshift(f);e=h.apply(f,l)}finally{!0!==e&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)}!1===d.get(n+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.K.Ja};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,
c){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,f,g){return a.d.template.update(b,a.d.foreach.vb(c),d,f,g)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function f(g){b.__ko_hasfocusUpdating=!0;var h=b.ownerDocument;if("activeElement"in h){var l;try{l=h.activeElement}catch(p){l=h.body}g=l===b}h=c();a.g.va(h,d,"hasfocus",g,!0);b.__ko_hasfocusLastValue=g;b.__ko_hasfocusUpdating=!1}var g=f.bind(null,!0),h=f.bind(null,!1);a.a.q(b,"focus",g);a.a.q(b,"focusin",
g);a.a.q(b,"blur",h);a.a.q(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?"focusin":"focusout"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};w("if");w("ifnot",!1,!0);w("with",!0,!1,function(a,b){return a.createChildContext(b)});var A={};a.d.options={init:function(b){if("select"!==
a.a.B(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function f(){return a.a.la(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(q.length){var f=0<=a.a.l(q,a.i.p(d[0]));a.a.Db(d[0],f);C&&!f&&a.k.t(a.a.ha,null,[b,"change"])}}var n=0!=b.length&&b.multiple?b.scrollTop:null,l=a.a.c(c()),x=d.get("optionsIncludeDestroyed");
c={};var p,q;q=b.multiple?a.a.ya(f(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];l&&("undefined"==typeof l.length&&(l=[l]),p=a.a.la(l,function(b){return x||b===r||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(l=a.a.c(d.get("optionsCaption")),null!==l&&l!==r&&p.unshift(A)));var C=!1;c.beforeRemove=function(a){b.removeChild(a)};l=h;d.has("optionsAfterRender")&&(l=function(b,c){h(0,c);a.k.t(d.get("optionsAfterRender"),null,[c[0],b!==A?b:r])});a.a.Ua(b,p,function(c,f,n){n.length&&
(q=n[0].selected?[a.i.p(n[0])]:[],C=!0);f=b.ownerDocument.createElement("option");c===A?(a.a.Xa(f,d.get("optionsCaption")),a.i.X(f,r)):(n=g(c,d.get("optionsValue"),c),a.i.X(f,a.a.c(n)),c=g(c,d.get("optionsText"),n),a.a.Xa(f,c));return[f]},c,l);a.k.t(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.X(b,a.a.c(d.get("value")),!0):(b.multiple?q.length&&f().length<q.length:q.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==q[0]:q.length||0<=b.selectedIndex)&&a.a.ha(b,"change")});a.a.Tb(b);
n&&20<Math.abs(n-b.scrollTop)&&(b.scrollTop=n)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var f=c(),g=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.i.p(b))});a.g.va(f,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.a.B(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=
0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||""})}};a.d.submit={init:function(b,c,d,f,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.q(b,"submit",function(a){var d,f=c();try{d=f.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:["options","foreach"],init:function(b,c,d){function f(){n=!1;var g=c(),h=a.i.p(b);a.g.va(g,d,"value",h)}var g=["change"],h=d.get("valueUpdate"),n=!1;h&&("string"==typeof h&&(h=[h]),a.a.$(g,h),g=a.a.ib(g));!a.a.oa||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||
-1!=a.a.l(g,"propertychange")||(a.a.q(b,"propertychange",function(){n=!0}),a.a.q(b,"focus",function(){n=!1}),a.a.q(b,"blur",function(){n&&f()}));a.a.r(g,function(c){var d=f;a.a.kc(c,"after")&&(d=function(){setTimeout(f,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var f=a.a.c(c());c=a.i.p(b);if(f!==c)if("select"===a.a.B(b)){var g=d.get("valueAllowUnset");d=function(){a.i.X(b,f,g)};d();g||f===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,"change"])}else a.i.X(b,f)}};a.g.W.value=!0;a.d.visible=
{update:function(b,c){var d=a.a.c(c()),f="none"!=b.style.display;d&&!f?b.style.display="":!d&&f&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,f,g,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},f,g,h)}}})("click");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.C.prototype.makeTemplateSource=
function(b,c){if("string"==typeof b){c=c||h;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.n.Z(b);throw Error("Unknown template type: "+b);};a.C.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c)};a.C.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.C.prototype.rewriteTemplate=
function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.C);a.Za=function(){function b(c,d,e,f){c=a.g.Ra(c);for(var g=a.g.aa,k=0;k<c.length;k++){var h=c[k].key;if(g.hasOwnProperty(h)){var m=g[h];if("function"===typeof m){if(h=m(c[k].value))throw Error(h);}else if(!m)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.g.qa(c,
{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,f){return a.replace(c,function(a,c,d,g,k){return b(k,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e",
"#comment",f)})},Mb:function(b,c){return a.w.Na(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&a.xa(f,b,e)})}}}();a.b("__tr_ambtns",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.j[b];var c=arguments[0];"innerHTML"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+"_";a.n.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,
b+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===r&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,c)||{}).Ba;a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b("templateSources",a.n);a.b("templateSources.domElement",a.n.j);a.b("templateSources.anonymousTemplate",
a.n.Z)})();(function(){function b(c,d,e){var f;for(d=a.e.nextSibling(d);c&&(f=c)!==d;)c=a.e.nextSibling(f),e(f,c)}function c(d,f){if(d.length){var g=d[0],k=d[d.length-1],h=g.parentNode,m=a.J.instance,l=m.preprocessNode;if(l){b(g,k,function(a,b){var c=a.previousSibling,d=l.call(m,a);d&&(a===g&&(g=d[0]||b),a===k&&(k=d[d.length-1]||c))});d.length=0;if(!g)return;g===k?d.push(g):(d.push(g,k),a.a.ea(d,h))}b(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(f,b)});b(g,k,function(b){1!==b.nodeType&&8!==
b.nodeType||a.w.Ib(b,[f])});a.a.ea(d,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function f(b,e,h,l,q){q=q||{};var t=b&&d(b),t=t&&t.ownerDocument,r=q.templateEngine||g;a.Za.Ub(h,r,t);h=r.renderTemplate(h,l,q,t);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)throw Error("Template engine must return an array of DOM nodes");t=!1;switch(e){case "replaceChildren":a.e.U(b,h);t=!0;break;case "replaceNode":a.a.Bb(b,h);t=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+
e);}t&&(c(h,l),q.afterRender&&a.k.t(q.afterRender,null,[h,l.$data]));return h}var g;a.Wa=function(b){if(b!=r&&!(b instanceof a.C))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.Ta=function(b,c,e,h,m){e=e||{};if((e.templateEngine||g)==r)throw Error("Set a template engine before calling renderTemplate");m=m||"replaceChildren";if(h){var l=d(h);return a.h(function(){var g=c&&c instanceof a.I?c:new a.I(a.a.c(c)),q=a.v(b)?b():"function"==typeof b?b(g.$data,g):b,g=f(h,m,q,g,e);
"replaceNode"==m&&(h=g,l=d(h))},null,{Da:function(){return!l||!a.a.Ea(l)},G:l&&"replaceNode"==m?l.parentNode:l})}return a.w.Na(function(d){a.Ta(b,c,e,d,"replaceNode")})};a.jc=function(b,d,e,g,k){function h(a,b){c(b,q);e.afterRender&&e.afterRender(b,a)}function l(a,c){q=k.createChildContext(a,e.as,function(a){a.$index=c});var d="function"==typeof b?b(a,q):b;return f(null,"ignoreTargetNode",d,q,e)}var q;return a.h(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return e.includeDestroyed||
b===r||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[g,b,l,e,h])},null,{G:g})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c(),k;c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)),k=a.a.c(c.data));"foreach"in c?e=a.jc(g||b,d&&c.foreach||
[],c,b,f):d?(f="data"in c?f.createChildContext(k,c.as):f,e=a.Ta(g||b,f,c,b)):a.e.da(b);f=e;(k=a.a.f.get(b,h))&&"function"==typeof k.F&&k.F();a.a.f.set(b,h,f&&f.ga()?f:r)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.Q.template=!0})();a.b("setTemplateEngine",a.Wa);a.b("renderTemplate",a.Ta);a.a.nb=function(a,b,c){if(a.length&&b.length){var d,f,g,h,l;for(d=
f=0;(!c||d<c)&&(h=a[f]);++f){for(g=0;l=b[g];++g)if(h.value===l.value){h.moved=l.index;l.moved=h.index;b.splice(g,1);d=g=0;break}d+=g}}};a.a.Aa=function(){function b(c,d,e,f,g){var h=Math.min,l=Math.max,q=[],p,r=c.length,v,w=d.length,y=w-r||1,A=r+w+1,B,D,L;for(p=0;p<=r;p++)for(D=B,q.push(B=[]),L=h(w,p+y),v=l(0,p-1);v<=L;v++)B[v]=v?p?c[p-1]===d[v-1]?D[v-1]:h(D[v]||A,B[v-1]||A)+1:v+1:p+1;h=[];l=[];y=[];p=r;for(v=w;p||v;)w=q[p][v]-1,v&&w===q[p][v-1]?l.push(h[h.length]={status:e,value:d[--v],index:v}):
p&&w===q[p-1][v]?y.push(h[h.length]={status:f,value:c[--p],index:p}):(--v,--p,g.sparse||h.push({status:"retained",value:d[v]}));a.a.nb(l,y,10*r);return h.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Aa);(function(){function b(c,d,e,f,g){var h=[],l=a.h(function(){var b=d(e,g,a.a.ea(h,c))||[];0<h.length&&(a.a.Bb(h,b),f&&a.k.t(f,null,[e,
b,g]));h.length=0;a.a.$(h,b)},null,{G:c,Da:function(){return!a.a.eb(h)}});return{S:h,h:l.ga()?l:r}}var c=a.a.f.L();a.a.Ua=function(d,f,g,h,l){function q(b,c){E=w[c];I!==c&&(Q[b]=E);E.Ia(I++);a.a.ea(E.S,d);B.push(E);L.push(E)}function v(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}f=f||[];h=h||{};var p=a.a.f.get(d,c)===r,w=a.a.f.get(d,c)||[],y=a.a.ya(w,function(a){return a.ka}),A=a.a.Aa(y,f,h.dontLimitMoves),B=[],D=0,I=0,P=[],L=[];f=[];for(var Q=[],y=[],
E,M=0,N,O;N=A[M];M++)switch(O=N.moved,N.status){case "deleted":O===r&&(E=w[D],E.h&&E.h.F(),P.push.apply(P,a.a.ea(E.S,d)),h.beforeRemove&&(f[M]=E,L.push(E)));D++;break;case "retained":q(M,D++);break;case "added":O!==r?q(M,O):(E={ka:N.value,Ia:a.m(I++)},B.push(E),L.push(E),p||(y[M]=E))}v(h.beforeMove,Q);a.a.r(P,h.beforeRemove?a.M:a.removeNode);for(var M=0,p=a.e.firstChild(d),R;E=L[M];M++){E.S||a.a.extend(E,b(d,g,E.ka,l,E.Ia));for(D=0;A=E.S[D];p=A.nextSibling,R=A,D++)A!==p&&a.e.rb(d,A,R);!E.Zb&&l&&(l(E.ka,
E.S,E.Ia),E.Zb=!0)}v(h.beforeRemove,f);v(h.afterMove,Q);v(h.afterAdd,y);a.a.f.set(d,c,B)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c)return a.a.R(c.cloneNode(!0).childNodes);b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b("nativeTemplateEngine",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!b||
!b.tmpl)return 0;try{if(0<=b.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,e){e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var f=c.data("precompiled");f||(f=c.text()||"",f=b.template(null,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),c.data("precompiled",f));c=[d.$data];d=b.extend({koBindingContext:d},e.templateOptions);d=b.tmpl(f,c,d);d.appendTo(h.createElement("div"));
b.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){h.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(b.tmpl.tag.ko_code={open:"__.push($1 || '');"},b.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.La.prototype=new a.C;var c=new a.La;0<c.ac&&a.Wa(c);a.b("jqueryTmplTemplateEngine",a.La)})()})})()})();
(function(r){r.Tools={};r.Tools.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var h=16*Math.random()|0;return("x"===c?h:h&3|8).toString(16)})};r.Tools.createCookie=function(c,h,f){var b="";f&&(b=new Date,b.setTime(b.getTime()+864E5*f),b="; expires="+b.toGMTString());document.cookie=c+"="+h+b+"; path=/"};r.Tools.readCookie=function(c){c+="=";for(var h=document.cookie.split(";"),f=0;f<h.length;f++){for(var b=h[f];" "===b.charAt(0);)b=b.substring(1,b.length);
if(0===b.indexOf(c))return b.substring(c.length,b.length)}return null};r.Tools.eraseCookie=function(c){r.Tools.createCookie(c,"",-1)}})(window.EP=window.EP||{});
(function(r){r.User=function(c,h){var f=this;f.uuid=h||r.Tools.uuid();f.name=ko.observable("");f.estimation=ko.observable(!1);f.broadcast=function(){c.emit("update",ko.toJSON(f))};f.loadFromCookie=function(){r.Tools.readCookie("ep.user.name")&&r.Tools.readCookie("ep.user.uuid")&&(f.name(r.Tools.readCookie("ep.user.name")),f.uuid=r.Tools.readCookie("ep.user.uuid"))};f.saveToCookie=function(){r.Tools.createCookie("ep.user.name",f.name());r.Tools.createCookie("ep.user.uuid",f.uuid)}};r.PokerView=function(c){var h=
this,f=function(){var b=h.users().map(function(b){return b.estimation()});b.push(h.localUser().estimation());return b.filter(function(b){return!1!==b})},b=function(b){return h.users().filter(function(c){return c.uuid===b})[0]},l=io.connect("/");l.on("update",function(c){c=JSON.parse(c);if(void 0!==c.uuid){var d=b(c.uuid);d||(d=new r.User(l,c.uuid),h.users.push(d));d.name(c.name);d.estimation(c.estimation)}else h.storyTitle(c.storyTitle)});l.on("who is there",function(){h.localUser().broadcast();d()});
l.on("user disconnected",function(b){g(b)});l.on("new round",function(){h.localUser().estimation(!1)});h.initNewRound=function(){h.localUser().estimation(!1);l.emit("new round")};h.localUser=ko.observable(new r.User(l));h.localUser().loadFromCookie();h.localUser().name.subscribe(function(){h.localUser().broadcast();h.localUser().saveToCookie()});h.localUser().estimation.subscribe(function(){h.localUser().broadcast()});l.emit("join",{groupName:c,userUuid:h.localUser().uuid});h.localUser().broadcast();
h.users=ko.observableArray([]);h.storyTitle=ko.observable("");h.storyTitle.subscribe(function(){d()});h.highestEstimation=ko.computed(function(){var b=f(),b=Math.max.apply(null,b);return-Infinity===b?!1:b});h.lowestEstimation=ko.computed(function(){var b=f(),b=Math.min.apply(null,b);return Infinity===b?!1:b});h.estimationsComplete=ko.computed(function(){var b=f().length,c=1+h.users().length;return b===c});var d=function(){var b={storyTitle:h.storyTitle()};l.emit("update",JSON.stringify(b))},g=function(b){var c=
h.users().filter(function(c){return c.uuid!==b});h.users(c)}}})(window.EP=window.EP||{});
(function(r){r.bindingHandlers.estimationSelect={init:function(c,h){var f=[0,1,2,3,5,8,13,20,40,100];c.classList.add("estimationSelect");for(var b=0;b<f.length;b++)c.insertAdjacentHTML("beforeend",'<button type="button" class="btn">'+f[b]+"</button>");for(var f=c.querySelectorAll("button"),l=function(){var b=h();this.classList.contains("active")?b(!1):b(+this.textContent)},b=0;b<f.length;b++)f[b].addEventListener("click",l)},update:function(c,h){for(var f=h(),b=c.querySelectorAll("button"),l=0;l<
b.length;l++)+b[l].textContent===f()?b[l].classList.add("active"):b[l].classList.remove("active")}};r.bindingHandlers.editableText={init:function(c,h){c.classList.add("editableText");c.insertAdjacentHTML("beforeend",'<span class="et-display"><span class="et-label"></span><span class="et-hint"></span></span><span class="et-form"><input/><button type="submit" class="btn btn-sm btn-primary"><span class="glyphicon glyphicon-ok"></span></button></span>');c.querySelector(".et-form").style.display="none";
var f=function(){c.classList.remove("editing");c.querySelector(".et-display").style.display="";c.querySelector(".et-form").style.display="none";h()(c.querySelector("input").value)};c.querySelector(".et-display").addEventListener("click",function(){c.classList.add("editing");c.querySelector(".et-display").style.display="none";c.querySelector(".et-form").style.display="";c.querySelector(".et-form input").focus()});c.querySelector("button").addEventListener("click",f);c.querySelector("input").addEventListener("keypress",
function(b){13===b.keyCode&&f()});c.querySelector("input").addEventListener("keypress",function(b){27===b.keyCode&&(c.classList.remove("editing"),c.querySelector(".et-display").style.display="",c.querySelector(".et-form").style.display="none")})},update:function(c,h){var f=h();c.querySelector(".et-label").textContent=f();c.querySelector("input").value=f();f()?c.querySelector(".et-hint").style.display="none":(c.querySelector(".et-hint").textContent=c.getAttribute("data-edit-hint")||"edit",c.querySelector(".et-hint").style.display=
"")}}})(ko);(function(r){""===location.hash&&(location.hash=r.Tools.uuid());r=new r.PokerView(location.hash);ko.applyBindings(r)})(window.EP=window.EP||{});
